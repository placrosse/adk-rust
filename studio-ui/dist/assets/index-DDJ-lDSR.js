(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var rr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function va(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ok={exports:{}},Pl={},ak={exports:{}},ye={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xa=Symbol.for("react.element"),gI=Symbol.for("react.portal"),mI=Symbol.for("react.fragment"),yI=Symbol.for("react.strict_mode"),vI=Symbol.for("react.profiler"),xI=Symbol.for("react.provider"),wI=Symbol.for("react.context"),_I=Symbol.for("react.forward_ref"),bI=Symbol.for("react.suspense"),SI=Symbol.for("react.memo"),EI=Symbol.for("react.lazy"),$v=Symbol.iterator;function kI(e){return e===null||typeof e!="object"?null:(e=$v&&e[$v]||e["@@iterator"],typeof e=="function"?e:null)}var sk={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},lk=Object.assign,uk={};function Wi(e,t,n){this.props=e,this.context=t,this.refs=uk,this.updater=n||sk}Wi.prototype.isReactComponent={};Wi.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Wi.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function ck(){}ck.prototype=Wi.prototype;function Fm(e,t,n){this.props=e,this.context=t,this.refs=uk,this.updater=n||sk}var Bm=Fm.prototype=new ck;Bm.constructor=Fm;lk(Bm,Wi.prototype);Bm.isPureReactComponent=!0;var Fv=Array.isArray,fk=Object.prototype.hasOwnProperty,Hm={current:null},dk={key:!0,ref:!0,__self:!0,__source:!0};function hk(e,t,n){var r,i={},o=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(o=""+t.key),t)fk.call(t,r)&&!dk.hasOwnProperty(r)&&(i[r]=t[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(r in s=e.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:xa,type:e,key:o,ref:a,props:i,_owner:Hm.current}}function CI(e,t){return{$$typeof:xa,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Vm(e){return typeof e=="object"&&e!==null&&e.$$typeof===xa}function NI(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Bv=/\/+/g;function Iu(e,t){return typeof e=="object"&&e!==null&&e.key!=null?NI(""+e.key):t.toString(36)}function xs(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case xa:case gI:a=!0}}if(a)return a=e,i=i(a),e=r===""?"."+Iu(a,0):r,Fv(i)?(n="",e!=null&&(n=e.replace(Bv,"$&/")+"/"),xs(i,t,n,"",function(u){return u})):i!=null&&(Vm(i)&&(i=CI(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(Bv,"$&/")+"/")+e)),t.push(i)),1;if(a=0,r=r===""?".":r+":",Fv(e))for(var s=0;s<e.length;s++){o=e[s];var l=r+Iu(o,s);a+=xs(o,t,n,l,i)}else if(l=kI(e),typeof l=="function")for(e=l.call(e),s=0;!(o=e.next()).done;)o=o.value,l=r+Iu(o,s++),a+=xs(o,t,n,l,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function $a(e,t,n){if(e==null)return e;var r=[],i=0;return xs(e,r,"","",function(o){return t.call(n,o,i++)}),r}function TI(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var dt={current:null},ws={transition:null},PI={ReactCurrentDispatcher:dt,ReactCurrentBatchConfig:ws,ReactCurrentOwner:Hm};function pk(){throw Error("act(...) is not supported in production builds of React.")}ye.Children={map:$a,forEach:function(e,t,n){$a(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return $a(e,function(){t++}),t},toArray:function(e){return $a(e,function(t){return t})||[]},only:function(e){if(!Vm(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ye.Component=Wi;ye.Fragment=mI;ye.Profiler=vI;ye.PureComponent=Fm;ye.StrictMode=yI;ye.Suspense=bI;ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=PI;ye.act=pk;ye.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=lk({},e.props),i=e.key,o=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,a=Hm.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(l in t)fk.call(t,l)&&!dk.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&s!==void 0?s[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];r.children=s}return{$$typeof:xa,type:e.type,key:i,ref:o,props:r,_owner:a}};ye.createContext=function(e){return e={$$typeof:wI,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:xI,_context:e},e.Consumer=e};ye.createElement=hk;ye.createFactory=function(e){var t=hk.bind(null,e);return t.type=e,t};ye.createRef=function(){return{current:null}};ye.forwardRef=function(e){return{$$typeof:_I,render:e}};ye.isValidElement=Vm;ye.lazy=function(e){return{$$typeof:EI,_payload:{_status:-1,_result:e},_init:TI}};ye.memo=function(e,t){return{$$typeof:SI,type:e,compare:t===void 0?null:t}};ye.startTransition=function(e){var t=ws.transition;ws.transition={};try{e()}finally{ws.transition=t}};ye.unstable_act=pk;ye.useCallback=function(e,t){return dt.current.useCallback(e,t)};ye.useContext=function(e){return dt.current.useContext(e)};ye.useDebugValue=function(){};ye.useDeferredValue=function(e){return dt.current.useDeferredValue(e)};ye.useEffect=function(e,t){return dt.current.useEffect(e,t)};ye.useId=function(){return dt.current.useId()};ye.useImperativeHandle=function(e,t,n){return dt.current.useImperativeHandle(e,t,n)};ye.useInsertionEffect=function(e,t){return dt.current.useInsertionEffect(e,t)};ye.useLayoutEffect=function(e,t){return dt.current.useLayoutEffect(e,t)};ye.useMemo=function(e,t){return dt.current.useMemo(e,t)};ye.useReducer=function(e,t,n){return dt.current.useReducer(e,t,n)};ye.useRef=function(e){return dt.current.useRef(e)};ye.useState=function(e){return dt.current.useState(e)};ye.useSyncExternalStore=function(e,t,n){return dt.current.useSyncExternalStore(e,t,n)};ye.useTransition=function(){return dt.current.useTransition()};ye.version="18.3.1";ak.exports=ye;var L=ak.exports;const Mt=va(L);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jI=L,II=Symbol.for("react.element"),AI=Symbol.for("react.fragment"),RI=Object.prototype.hasOwnProperty,MI=jI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,LI={key:!0,ref:!0,__self:!0,__source:!0};function gk(e,t,n){var r,i={},o=null,a=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)RI.call(t,r)&&!LI.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:II,type:e,key:o,ref:a,props:i,_owner:MI.current}}Pl.Fragment=AI;Pl.jsx=gk;Pl.jsxs=gk;ok.exports=Pl;var x=ok.exports,_g={},mk={exports:{}},zt={},yk={exports:{}},vk={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(C,I){var S=C.length;C.push(I);e:for(;0<S;){var $=S-1>>>1,F=C[$];if(0<i(F,I))C[$]=I,C[S]=F,S=$;else break e}}function n(C){return C.length===0?null:C[0]}function r(C){if(C.length===0)return null;var I=C[0],S=C.pop();if(S!==I){C[0]=S;e:for(var $=0,F=C.length,N=F>>>1;$<N;){var H=2*($+1)-1,X=C[H],Y=H+1,Q=C[Y];if(0>i(X,S))Y<F&&0>i(Q,X)?(C[$]=Q,C[Y]=S,$=Y):(C[$]=X,C[H]=S,$=H);else if(Y<F&&0>i(Q,S))C[$]=Q,C[Y]=S,$=Y;else break e}}return I}function i(C,I){var S=C.sortIndex-I.sortIndex;return S!==0?S:C.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();e.unstable_now=function(){return a.now()-s}}var l=[],u=[],c=1,f=null,d=3,h=!1,p=!1,y=!1,w=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(C){for(var I=n(u);I!==null;){if(I.callback===null)r(u);else if(I.startTime<=C)r(u),I.sortIndex=I.expirationTime,t(l,I);else break;I=n(u)}}function _(C){if(y=!1,m(C),!p)if(n(l)!==null)p=!0,z(k);else{var I=n(u);I!==null&&R(_,I.startTime-C)}}function k(C,I){p=!1,y&&(y=!1,g(T),T=-1),h=!0;var S=d;try{for(m(I),f=n(l);f!==null&&(!(f.expirationTime>I)||C&&!P());){var $=f.callback;if(typeof $=="function"){f.callback=null,d=f.priorityLevel;var F=$(f.expirationTime<=I);I=e.unstable_now(),typeof F=="function"?f.callback=F:f===n(l)&&r(l),m(I)}else r(l);f=n(l)}if(f!==null)var N=!0;else{var H=n(u);H!==null&&R(_,H.startTime-I),N=!1}return N}finally{f=null,d=S,h=!1}}var b=!1,E=null,T=-1,M=5,D=-1;function P(){return!(e.unstable_now()-D<M)}function O(){if(E!==null){var C=e.unstable_now();D=C;var I=!0;try{I=E(!0,C)}finally{I?q():(b=!1,E=null)}}else b=!1}var q;if(typeof v=="function")q=function(){v(O)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,A=j.port2;j.port1.onmessage=O,q=function(){A.postMessage(null)}}else q=function(){w(O,0)};function z(C){E=C,b||(b=!0,q())}function R(C,I){T=w(function(){C(e.unstable_now())},I)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(C){C.callback=null},e.unstable_continueExecution=function(){p||h||(p=!0,z(k))},e.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<C?Math.floor(1e3/C):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(C){switch(d){case 1:case 2:case 3:var I=3;break;default:I=d}var S=d;d=I;try{return C()}finally{d=S}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(C,I){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var S=d;d=C;try{return I()}finally{d=S}},e.unstable_scheduleCallback=function(C,I,S){var $=e.unstable_now();switch(typeof S=="object"&&S!==null?(S=S.delay,S=typeof S=="number"&&0<S?$+S:$):S=$,C){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=S+F,C={id:c++,callback:I,priorityLevel:C,startTime:S,expirationTime:F,sortIndex:-1},S>$?(C.sortIndex=S,t(u,C),n(l)===null&&C===n(u)&&(y?(g(T),T=-1):y=!0,R(_,S-$))):(C.sortIndex=F,t(l,C),p||h||(p=!0,z(k))),C},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(C){var I=d;return function(){var S=d;d=I;try{return C.apply(this,arguments)}finally{d=S}}}})(vk);yk.exports=vk;var OI=yk.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DI=L,Ot=OI;function V(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var xk=new Set,Vo={};function Xr(e,t){Ai(e,t),Ai(e+"Capture",t)}function Ai(e,t){for(Vo[e]=t,e=0;e<t.length;e++)xk.add(t[e])}var On=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bg=Object.prototype.hasOwnProperty,zI=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Hv={},Vv={};function qI(e){return bg.call(Vv,e)?!0:bg.call(Hv,e)?!1:zI.test(e)?Vv[e]=!0:(Hv[e]=!0,!1)}function $I(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function FI(e,t,n,r){if(t===null||typeof t>"u"||$I(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ht(e,t,n,r,i,o,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var nt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){nt[e]=new ht(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];nt[t]=new ht(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){nt[e]=new ht(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){nt[e]=new ht(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){nt[e]=new ht(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){nt[e]=new ht(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){nt[e]=new ht(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){nt[e]=new ht(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){nt[e]=new ht(e,5,!1,e.toLowerCase(),null,!1,!1)});var Um=/[\-:]([a-z])/g;function Gm(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Um,Gm);nt[t]=new ht(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Um,Gm);nt[t]=new ht(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Um,Gm);nt[t]=new ht(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){nt[e]=new ht(e,1,!1,e.toLowerCase(),null,!1,!1)});nt.xlinkHref=new ht("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){nt[e]=new ht(e,1,!1,e.toLowerCase(),null,!0,!0)});function Wm(e,t,n,r){var i=nt.hasOwnProperty(t)?nt[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(FI(t,n,i,r)&&(n=null),r||i===null?qI(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Bn=DI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Fa=Symbol.for("react.element"),si=Symbol.for("react.portal"),li=Symbol.for("react.fragment"),Ym=Symbol.for("react.strict_mode"),Sg=Symbol.for("react.profiler"),wk=Symbol.for("react.provider"),_k=Symbol.for("react.context"),Km=Symbol.for("react.forward_ref"),Eg=Symbol.for("react.suspense"),kg=Symbol.for("react.suspense_list"),Xm=Symbol.for("react.memo"),Qn=Symbol.for("react.lazy"),bk=Symbol.for("react.offscreen"),Uv=Symbol.iterator;function ro(e){return e===null||typeof e!="object"?null:(e=Uv&&e[Uv]||e["@@iterator"],typeof e=="function"?e:null)}var ze=Object.assign,Au;function mo(e){if(Au===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Au=t&&t[1]||""}return`
`+Au+e}var Ru=!1;function Mu(e,t){if(!e||Ru)return"";Ru=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(a!==1||s!==1)do if(a--,s--,0>s||i[a]!==o[s]){var l=`
`+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=a&&0<=s);break}}}finally{Ru=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?mo(e):""}function BI(e){switch(e.tag){case 5:return mo(e.type);case 16:return mo("Lazy");case 13:return mo("Suspense");case 19:return mo("SuspenseList");case 0:case 2:case 15:return e=Mu(e.type,!1),e;case 11:return e=Mu(e.type.render,!1),e;case 1:return e=Mu(e.type,!0),e;default:return""}}function Cg(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case li:return"Fragment";case si:return"Portal";case Sg:return"Profiler";case Ym:return"StrictMode";case Eg:return"Suspense";case kg:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case _k:return(e.displayName||"Context")+".Consumer";case wk:return(e._context.displayName||"Context")+".Provider";case Km:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Xm:return t=e.displayName||null,t!==null?t:Cg(e.type)||"Memo";case Qn:t=e._payload,e=e._init;try{return Cg(e(t))}catch{}}return null}function HI(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Cg(t);case 8:return t===Ym?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function yr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Sk(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function VI(e){var t=Sk(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ba(e){e._valueTracker||(e._valueTracker=VI(e))}function Ek(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Sk(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function zs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ng(e,t){var n=t.checked;return ze({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Gv(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=yr(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function kk(e,t){t=t.checked,t!=null&&Wm(e,"checked",t,!1)}function Tg(e,t){kk(e,t);var n=yr(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Pg(e,t.type,n):t.hasOwnProperty("defaultValue")&&Pg(e,t.type,yr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Wv(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Pg(e,t,n){(t!=="number"||zs(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var yo=Array.isArray;function bi(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+yr(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function jg(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(V(91));return ze({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Yv(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(V(92));if(yo(n)){if(1<n.length)throw Error(V(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:yr(n)}}function Ck(e,t){var n=yr(t.value),r=yr(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Kv(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Nk(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ig(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Nk(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ha,Tk=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ha=Ha||document.createElement("div"),Ha.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ha.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Uo(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Po={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},UI=["Webkit","ms","Moz","O"];Object.keys(Po).forEach(function(e){UI.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Po[t]=Po[e]})});function Pk(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Po.hasOwnProperty(e)&&Po[e]?(""+t).trim():t+"px"}function jk(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Pk(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var GI=ze({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ag(e,t){if(t){if(GI[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(V(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(V(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(V(61))}if(t.style!=null&&typeof t.style!="object")throw Error(V(62))}}function Rg(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mg=null;function Qm(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Lg=null,Si=null,Ei=null;function Xv(e){if(e=ba(e)){if(typeof Lg!="function")throw Error(V(280));var t=e.stateNode;t&&(t=Ml(t),Lg(e.stateNode,e.type,t))}}function Ik(e){Si?Ei?Ei.push(e):Ei=[e]:Si=e}function Ak(){if(Si){var e=Si,t=Ei;if(Ei=Si=null,Xv(e),t)for(e=0;e<t.length;e++)Xv(t[e])}}function Rk(e,t){return e(t)}function Mk(){}var Lu=!1;function Lk(e,t,n){if(Lu)return e(t,n);Lu=!0;try{return Rk(e,t,n)}finally{Lu=!1,(Si!==null||Ei!==null)&&(Mk(),Ak())}}function Go(e,t){var n=e.stateNode;if(n===null)return null;var r=Ml(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(V(231,t,typeof n));return n}var Og=!1;if(On)try{var io={};Object.defineProperty(io,"passive",{get:function(){Og=!0}}),window.addEventListener("test",io,io),window.removeEventListener("test",io,io)}catch{Og=!1}function WI(e,t,n,r,i,o,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var jo=!1,qs=null,$s=!1,Dg=null,YI={onError:function(e){jo=!0,qs=e}};function KI(e,t,n,r,i,o,a,s,l){jo=!1,qs=null,WI.apply(YI,arguments)}function XI(e,t,n,r,i,o,a,s,l){if(KI.apply(this,arguments),jo){if(jo){var u=qs;jo=!1,qs=null}else throw Error(V(198));$s||($s=!0,Dg=u)}}function Qr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Ok(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Qv(e){if(Qr(e)!==e)throw Error(V(188))}function QI(e){var t=e.alternate;if(!t){if(t=Qr(e),t===null)throw Error(V(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Qv(i),e;if(o===r)return Qv(i),t;o=o.sibling}throw Error(V(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,s=i.child;s;){if(s===n){a=!0,n=i,r=o;break}if(s===r){a=!0,r=i,n=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===n){a=!0,n=o,r=i;break}if(s===r){a=!0,r=o,n=i;break}s=s.sibling}if(!a)throw Error(V(189))}}if(n.alternate!==r)throw Error(V(190))}if(n.tag!==3)throw Error(V(188));return n.stateNode.current===n?e:t}function Dk(e){return e=QI(e),e!==null?zk(e):null}function zk(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=zk(e);if(t!==null)return t;e=e.sibling}return null}var qk=Ot.unstable_scheduleCallback,Zv=Ot.unstable_cancelCallback,ZI=Ot.unstable_shouldYield,JI=Ot.unstable_requestPaint,Fe=Ot.unstable_now,eA=Ot.unstable_getCurrentPriorityLevel,Zm=Ot.unstable_ImmediatePriority,$k=Ot.unstable_UserBlockingPriority,Fs=Ot.unstable_NormalPriority,tA=Ot.unstable_LowPriority,Fk=Ot.unstable_IdlePriority,jl=null,xn=null;function nA(e){if(xn&&typeof xn.onCommitFiberRoot=="function")try{xn.onCommitFiberRoot(jl,e,void 0,(e.current.flags&128)===128)}catch{}}var on=Math.clz32?Math.clz32:oA,rA=Math.log,iA=Math.LN2;function oA(e){return e>>>=0,e===0?32:31-(rA(e)/iA|0)|0}var Va=64,Ua=4194304;function vo(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Bs(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=n&268435455;if(a!==0){var s=a&~i;s!==0?r=vo(s):(o&=a,o!==0&&(r=vo(o)))}else a=n&~i,a!==0?r=vo(a):o!==0&&(r=vo(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-on(t),i=1<<n,r|=e[n],t&=~i;return r}function aA(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sA(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-on(o),s=1<<a,l=i[a];l===-1?(!(s&n)||s&r)&&(i[a]=aA(s,t)):l<=t&&(e.expiredLanes|=s),o&=~s}}function zg(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Bk(){var e=Va;return Va<<=1,!(Va&4194240)&&(Va=64),e}function Ou(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function wa(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-on(t),e[t]=n}function lA(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-on(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function Jm(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-on(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var be=0;function Hk(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Vk,ey,Uk,Gk,Wk,qg=!1,Ga=[],ar=null,sr=null,lr=null,Wo=new Map,Yo=new Map,Jn=[],uA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Jv(e,t){switch(e){case"focusin":case"focusout":ar=null;break;case"dragenter":case"dragleave":sr=null;break;case"mouseover":case"mouseout":lr=null;break;case"pointerover":case"pointerout":Wo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yo.delete(t.pointerId)}}function oo(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=ba(t),t!==null&&ey(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function cA(e,t,n,r,i){switch(t){case"focusin":return ar=oo(ar,e,t,n,r,i),!0;case"dragenter":return sr=oo(sr,e,t,n,r,i),!0;case"mouseover":return lr=oo(lr,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Wo.set(o,oo(Wo.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Yo.set(o,oo(Yo.get(o)||null,e,t,n,r,i)),!0}return!1}function Yk(e){var t=Ar(e.target);if(t!==null){var n=Qr(t);if(n!==null){if(t=n.tag,t===13){if(t=Ok(n),t!==null){e.blockedOn=t,Wk(e.priority,function(){Uk(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function _s(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=$g(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Mg=r,n.target.dispatchEvent(r),Mg=null}else return t=ba(n),t!==null&&ey(t),e.blockedOn=n,!1;t.shift()}return!0}function e0(e,t,n){_s(e)&&n.delete(t)}function fA(){qg=!1,ar!==null&&_s(ar)&&(ar=null),sr!==null&&_s(sr)&&(sr=null),lr!==null&&_s(lr)&&(lr=null),Wo.forEach(e0),Yo.forEach(e0)}function ao(e,t){e.blockedOn===t&&(e.blockedOn=null,qg||(qg=!0,Ot.unstable_scheduleCallback(Ot.unstable_NormalPriority,fA)))}function Ko(e){function t(i){return ao(i,e)}if(0<Ga.length){ao(Ga[0],e);for(var n=1;n<Ga.length;n++){var r=Ga[n];r.blockedOn===e&&(r.blockedOn=null)}}for(ar!==null&&ao(ar,e),sr!==null&&ao(sr,e),lr!==null&&ao(lr,e),Wo.forEach(t),Yo.forEach(t),n=0;n<Jn.length;n++)r=Jn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Jn.length&&(n=Jn[0],n.blockedOn===null);)Yk(n),n.blockedOn===null&&Jn.shift()}var ki=Bn.ReactCurrentBatchConfig,Hs=!0;function dA(e,t,n,r){var i=be,o=ki.transition;ki.transition=null;try{be=1,ty(e,t,n,r)}finally{be=i,ki.transition=o}}function hA(e,t,n,r){var i=be,o=ki.transition;ki.transition=null;try{be=4,ty(e,t,n,r)}finally{be=i,ki.transition=o}}function ty(e,t,n,r){if(Hs){var i=$g(e,t,n,r);if(i===null)Gu(e,t,r,Vs,n),Jv(e,r);else if(cA(i,e,t,n,r))r.stopPropagation();else if(Jv(e,r),t&4&&-1<uA.indexOf(e)){for(;i!==null;){var o=ba(i);if(o!==null&&Vk(o),o=$g(e,t,n,r),o===null&&Gu(e,t,r,Vs,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Gu(e,t,r,null,n)}}var Vs=null;function $g(e,t,n,r){if(Vs=null,e=Qm(r),e=Ar(e),e!==null)if(t=Qr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Ok(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Vs=e,null}function Kk(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(eA()){case Zm:return 1;case $k:return 4;case Fs:case tA:return 16;case Fk:return 536870912;default:return 16}default:return 16}}var ir=null,ny=null,bs=null;function Xk(){if(bs)return bs;var e,t=ny,n=t.length,r,i="value"in ir?ir.value:ir.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===i[o-r];r++);return bs=i.slice(e,1<r?1-r:void 0)}function Ss(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Wa(){return!0}function t0(){return!1}function qt(e){function t(n,r,i,o,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(n=e[s],this[s]=n?n(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Wa:t0,this.isPropagationStopped=t0,this}return ze(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Wa)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Wa)},persist:function(){},isPersistent:Wa}),t}var Yi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ry=qt(Yi),_a=ze({},Yi,{view:0,detail:0}),pA=qt(_a),Du,zu,so,Il=ze({},_a,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:iy,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==so&&(so&&e.type==="mousemove"?(Du=e.screenX-so.screenX,zu=e.screenY-so.screenY):zu=Du=0,so=e),Du)},movementY:function(e){return"movementY"in e?e.movementY:zu}}),n0=qt(Il),gA=ze({},Il,{dataTransfer:0}),mA=qt(gA),yA=ze({},_a,{relatedTarget:0}),qu=qt(yA),vA=ze({},Yi,{animationName:0,elapsedTime:0,pseudoElement:0}),xA=qt(vA),wA=ze({},Yi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_A=qt(wA),bA=ze({},Yi,{data:0}),r0=qt(bA),SA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},EA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function CA(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=kA[e])?!!t[e]:!1}function iy(){return CA}var NA=ze({},_a,{key:function(e){if(e.key){var t=SA[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ss(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?EA[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:iy,charCode:function(e){return e.type==="keypress"?Ss(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ss(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),TA=qt(NA),PA=ze({},Il,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),i0=qt(PA),jA=ze({},_a,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:iy}),IA=qt(jA),AA=ze({},Yi,{propertyName:0,elapsedTime:0,pseudoElement:0}),RA=qt(AA),MA=ze({},Il,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),LA=qt(MA),OA=[9,13,27,32],oy=On&&"CompositionEvent"in window,Io=null;On&&"documentMode"in document&&(Io=document.documentMode);var DA=On&&"TextEvent"in window&&!Io,Qk=On&&(!oy||Io&&8<Io&&11>=Io),o0=" ",a0=!1;function Zk(e,t){switch(e){case"keyup":return OA.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Jk(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ui=!1;function zA(e,t){switch(e){case"compositionend":return Jk(t);case"keypress":return t.which!==32?null:(a0=!0,o0);case"textInput":return e=t.data,e===o0&&a0?null:e;default:return null}}function qA(e,t){if(ui)return e==="compositionend"||!oy&&Zk(e,t)?(e=Xk(),bs=ny=ir=null,ui=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Qk&&t.locale!=="ko"?null:t.data;default:return null}}var $A={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function s0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!$A[e.type]:t==="textarea"}function eC(e,t,n,r){Ik(r),t=Us(t,"onChange"),0<t.length&&(n=new ry("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Ao=null,Xo=null;function FA(e){fC(e,0)}function Al(e){var t=di(e);if(Ek(t))return e}function BA(e,t){if(e==="change")return t}var tC=!1;if(On){var $u;if(On){var Fu="oninput"in document;if(!Fu){var l0=document.createElement("div");l0.setAttribute("oninput","return;"),Fu=typeof l0.oninput=="function"}$u=Fu}else $u=!1;tC=$u&&(!document.documentMode||9<document.documentMode)}function u0(){Ao&&(Ao.detachEvent("onpropertychange",nC),Xo=Ao=null)}function nC(e){if(e.propertyName==="value"&&Al(Xo)){var t=[];eC(t,Xo,e,Qm(e)),Lk(FA,t)}}function HA(e,t,n){e==="focusin"?(u0(),Ao=t,Xo=n,Ao.attachEvent("onpropertychange",nC)):e==="focusout"&&u0()}function VA(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Al(Xo)}function UA(e,t){if(e==="click")return Al(t)}function GA(e,t){if(e==="input"||e==="change")return Al(t)}function WA(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ln=typeof Object.is=="function"?Object.is:WA;function Qo(e,t){if(ln(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!bg.call(t,i)||!ln(e[i],t[i]))return!1}return!0}function c0(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function f0(e,t){var n=c0(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=c0(n)}}function rC(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?rC(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function iC(){for(var e=window,t=zs();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=zs(e.document)}return t}function ay(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function YA(e){var t=iC(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&rC(n.ownerDocument.documentElement,n)){if(r!==null&&ay(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=f0(n,o);var a=f0(n,r);i&&a&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var KA=On&&"documentMode"in document&&11>=document.documentMode,ci=null,Fg=null,Ro=null,Bg=!1;function d0(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Bg||ci==null||ci!==zs(r)||(r=ci,"selectionStart"in r&&ay(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ro&&Qo(Ro,r)||(Ro=r,r=Us(Fg,"onSelect"),0<r.length&&(t=new ry("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ci)))}function Ya(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var fi={animationend:Ya("Animation","AnimationEnd"),animationiteration:Ya("Animation","AnimationIteration"),animationstart:Ya("Animation","AnimationStart"),transitionend:Ya("Transition","TransitionEnd")},Bu={},oC={};On&&(oC=document.createElement("div").style,"AnimationEvent"in window||(delete fi.animationend.animation,delete fi.animationiteration.animation,delete fi.animationstart.animation),"TransitionEvent"in window||delete fi.transitionend.transition);function Rl(e){if(Bu[e])return Bu[e];if(!fi[e])return e;var t=fi[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in oC)return Bu[e]=t[n];return e}var aC=Rl("animationend"),sC=Rl("animationiteration"),lC=Rl("animationstart"),uC=Rl("transitionend"),cC=new Map,h0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function wr(e,t){cC.set(e,t),Xr(t,[e])}for(var Hu=0;Hu<h0.length;Hu++){var Vu=h0[Hu],XA=Vu.toLowerCase(),QA=Vu[0].toUpperCase()+Vu.slice(1);wr(XA,"on"+QA)}wr(aC,"onAnimationEnd");wr(sC,"onAnimationIteration");wr(lC,"onAnimationStart");wr("dblclick","onDoubleClick");wr("focusin","onFocus");wr("focusout","onBlur");wr(uC,"onTransitionEnd");Ai("onMouseEnter",["mouseout","mouseover"]);Ai("onMouseLeave",["mouseout","mouseover"]);Ai("onPointerEnter",["pointerout","pointerover"]);Ai("onPointerLeave",["pointerout","pointerover"]);Xr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Xr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Xr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Xr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Xr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Xr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ZA=new Set("cancel close invalid load scroll toggle".split(" ").concat(xo));function p0(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,XI(r,t,void 0,e),e.currentTarget=null}function fC(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;p0(i,s,u),o=l}else for(a=0;a<r.length;a++){if(s=r[a],l=s.instance,u=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;p0(i,s,u),o=l}}}if($s)throw e=Dg,$s=!1,Dg=null,e}function Ne(e,t){var n=t[Wg];n===void 0&&(n=t[Wg]=new Set);var r=e+"__bubble";n.has(r)||(dC(t,e,2,!1),n.add(r))}function Uu(e,t,n){var r=0;t&&(r|=4),dC(n,e,r,t)}var Ka="_reactListening"+Math.random().toString(36).slice(2);function Zo(e){if(!e[Ka]){e[Ka]=!0,xk.forEach(function(n){n!=="selectionchange"&&(ZA.has(n)||Uu(n,!1,e),Uu(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ka]||(t[Ka]=!0,Uu("selectionchange",!1,t))}}function dC(e,t,n,r){switch(Kk(t)){case 1:var i=dA;break;case 4:i=hA;break;default:i=ty}n=i.bind(null,t,n,e),i=void 0,!Og||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Gu(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;s!==null;){if(a=Ar(s),a===null)return;if(l=a.tag,l===5||l===6){r=o=a;continue e}s=s.parentNode}}r=r.return}Lk(function(){var u=o,c=Qm(n),f=[];e:{var d=cC.get(e);if(d!==void 0){var h=ry,p=e;switch(e){case"keypress":if(Ss(n)===0)break e;case"keydown":case"keyup":h=TA;break;case"focusin":p="focus",h=qu;break;case"focusout":p="blur",h=qu;break;case"beforeblur":case"afterblur":h=qu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=n0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=mA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=IA;break;case aC:case sC:case lC:h=xA;break;case uC:h=RA;break;case"scroll":h=pA;break;case"wheel":h=LA;break;case"copy":case"cut":case"paste":h=_A;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=i0}var y=(t&4)!==0,w=!y&&e==="scroll",g=y?d!==null?d+"Capture":null:d;y=[];for(var v=u,m;v!==null;){m=v;var _=m.stateNode;if(m.tag===5&&_!==null&&(m=_,g!==null&&(_=Go(v,g),_!=null&&y.push(Jo(v,_,m)))),w)break;v=v.return}0<y.length&&(d=new h(d,p,null,n,c),f.push({event:d,listeners:y}))}}if(!(t&7)){e:{if(d=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",d&&n!==Mg&&(p=n.relatedTarget||n.fromElement)&&(Ar(p)||p[Dn]))break e;if((h||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,h?(p=n.relatedTarget||n.toElement,h=u,p=p?Ar(p):null,p!==null&&(w=Qr(p),p!==w||p.tag!==5&&p.tag!==6)&&(p=null)):(h=null,p=u),h!==p)){if(y=n0,_="onMouseLeave",g="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(y=i0,_="onPointerLeave",g="onPointerEnter",v="pointer"),w=h==null?d:di(h),m=p==null?d:di(p),d=new y(_,v+"leave",h,n,c),d.target=w,d.relatedTarget=m,_=null,Ar(c)===u&&(y=new y(g,v+"enter",p,n,c),y.target=m,y.relatedTarget=w,_=y),w=_,h&&p)t:{for(y=h,g=p,v=0,m=y;m;m=ii(m))v++;for(m=0,_=g;_;_=ii(_))m++;for(;0<v-m;)y=ii(y),v--;for(;0<m-v;)g=ii(g),m--;for(;v--;){if(y===g||g!==null&&y===g.alternate)break t;y=ii(y),g=ii(g)}y=null}else y=null;h!==null&&g0(f,d,h,y,!1),p!==null&&w!==null&&g0(f,w,p,y,!0)}}e:{if(d=u?di(u):window,h=d.nodeName&&d.nodeName.toLowerCase(),h==="select"||h==="input"&&d.type==="file")var k=BA;else if(s0(d))if(tC)k=GA;else{k=VA;var b=HA}else(h=d.nodeName)&&h.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(k=UA);if(k&&(k=k(e,u))){eC(f,k,n,c);break e}b&&b(e,d,u),e==="focusout"&&(b=d._wrapperState)&&b.controlled&&d.type==="number"&&Pg(d,"number",d.value)}switch(b=u?di(u):window,e){case"focusin":(s0(b)||b.contentEditable==="true")&&(ci=b,Fg=u,Ro=null);break;case"focusout":Ro=Fg=ci=null;break;case"mousedown":Bg=!0;break;case"contextmenu":case"mouseup":case"dragend":Bg=!1,d0(f,n,c);break;case"selectionchange":if(KA)break;case"keydown":case"keyup":d0(f,n,c)}var E;if(oy)e:{switch(e){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else ui?Zk(e,n)&&(T="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(Qk&&n.locale!=="ko"&&(ui||T!=="onCompositionStart"?T==="onCompositionEnd"&&ui&&(E=Xk()):(ir=c,ny="value"in ir?ir.value:ir.textContent,ui=!0)),b=Us(u,T),0<b.length&&(T=new r0(T,e,null,n,c),f.push({event:T,listeners:b}),E?T.data=E:(E=Jk(n),E!==null&&(T.data=E)))),(E=DA?zA(e,n):qA(e,n))&&(u=Us(u,"onBeforeInput"),0<u.length&&(c=new r0("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=E))}fC(f,t)})}function Jo(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Us(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Go(e,n),o!=null&&r.unshift(Jo(e,o,i)),o=Go(e,t),o!=null&&r.push(Jo(e,o,i))),e=e.return}return r}function ii(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function g0(e,t,n,r,i){for(var o=t._reactName,a=[];n!==null&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(l!==null&&l===r)break;s.tag===5&&u!==null&&(s=u,i?(l=Go(n,o),l!=null&&a.unshift(Jo(n,l,s))):i||(l=Go(n,o),l!=null&&a.push(Jo(n,l,s)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var JA=/\r\n?/g,eR=/\u0000|\uFFFD/g;function m0(e){return(typeof e=="string"?e:""+e).replace(JA,`
`).replace(eR,"")}function Xa(e,t,n){if(t=m0(t),m0(e)!==t&&n)throw Error(V(425))}function Gs(){}var Hg=null,Vg=null;function Ug(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Gg=typeof setTimeout=="function"?setTimeout:void 0,tR=typeof clearTimeout=="function"?clearTimeout:void 0,y0=typeof Promise=="function"?Promise:void 0,nR=typeof queueMicrotask=="function"?queueMicrotask:typeof y0<"u"?function(e){return y0.resolve(null).then(e).catch(rR)}:Gg;function rR(e){setTimeout(function(){throw e})}function Wu(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Ko(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Ko(t)}function ur(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function v0(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Ki=Math.random().toString(36).slice(2),mn="__reactFiber$"+Ki,ea="__reactProps$"+Ki,Dn="__reactContainer$"+Ki,Wg="__reactEvents$"+Ki,iR="__reactListeners$"+Ki,oR="__reactHandles$"+Ki;function Ar(e){var t=e[mn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Dn]||n[mn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=v0(e);e!==null;){if(n=e[mn])return n;e=v0(e)}return t}e=n,n=e.parentNode}return null}function ba(e){return e=e[mn]||e[Dn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function di(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(V(33))}function Ml(e){return e[ea]||null}var Yg=[],hi=-1;function _r(e){return{current:e}}function Te(e){0>hi||(e.current=Yg[hi],Yg[hi]=null,hi--)}function ke(e,t){hi++,Yg[hi]=e.current,e.current=t}var vr={},at=_r(vr),wt=_r(!1),Fr=vr;function Ri(e,t){var n=e.type.contextTypes;if(!n)return vr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function _t(e){return e=e.childContextTypes,e!=null}function Ws(){Te(wt),Te(at)}function x0(e,t,n){if(at.current!==vr)throw Error(V(168));ke(at,t),ke(wt,n)}function hC(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(V(108,HI(e)||"Unknown",i));return ze({},n,r)}function Ys(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||vr,Fr=at.current,ke(at,e),ke(wt,wt.current),!0}function w0(e,t,n){var r=e.stateNode;if(!r)throw Error(V(169));n?(e=hC(e,t,Fr),r.__reactInternalMemoizedMergedChildContext=e,Te(wt),Te(at),ke(at,e)):Te(wt),ke(wt,n)}var Pn=null,Ll=!1,Yu=!1;function pC(e){Pn===null?Pn=[e]:Pn.push(e)}function aR(e){Ll=!0,pC(e)}function br(){if(!Yu&&Pn!==null){Yu=!0;var e=0,t=be;try{var n=Pn;for(be=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Pn=null,Ll=!1}catch(i){throw Pn!==null&&(Pn=Pn.slice(e+1)),qk(Zm,br),i}finally{be=t,Yu=!1}}return null}var pi=[],gi=0,Ks=null,Xs=0,Ft=[],Bt=0,Br=null,jn=1,In="";function Nr(e,t){pi[gi++]=Xs,pi[gi++]=Ks,Ks=e,Xs=t}function gC(e,t,n){Ft[Bt++]=jn,Ft[Bt++]=In,Ft[Bt++]=Br,Br=e;var r=jn;e=In;var i=32-on(r)-1;r&=~(1<<i),n+=1;var o=32-on(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,jn=1<<32-on(t)+i|n<<i|r,In=o+e}else jn=1<<o|n<<i|r,In=e}function sy(e){e.return!==null&&(Nr(e,1),gC(e,1,0))}function ly(e){for(;e===Ks;)Ks=pi[--gi],pi[gi]=null,Xs=pi[--gi],pi[gi]=null;for(;e===Br;)Br=Ft[--Bt],Ft[Bt]=null,In=Ft[--Bt],Ft[Bt]=null,jn=Ft[--Bt],Ft[Bt]=null}var Lt=null,At=null,Ie=!1,en=null;function mC(e,t){var n=Vt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function _0(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Lt=e,At=ur(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Lt=e,At=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Br!==null?{id:jn,overflow:In}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Vt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Lt=e,At=null,!0):!1;default:return!1}}function Kg(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Xg(e){if(Ie){var t=At;if(t){var n=t;if(!_0(e,t)){if(Kg(e))throw Error(V(418));t=ur(n.nextSibling);var r=Lt;t&&_0(e,t)?mC(r,n):(e.flags=e.flags&-4097|2,Ie=!1,Lt=e)}}else{if(Kg(e))throw Error(V(418));e.flags=e.flags&-4097|2,Ie=!1,Lt=e}}}function b0(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Lt=e}function Qa(e){if(e!==Lt)return!1;if(!Ie)return b0(e),Ie=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ug(e.type,e.memoizedProps)),t&&(t=At)){if(Kg(e))throw yC(),Error(V(418));for(;t;)mC(e,t),t=ur(t.nextSibling)}if(b0(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(V(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){At=ur(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}At=null}}else At=Lt?ur(e.stateNode.nextSibling):null;return!0}function yC(){for(var e=At;e;)e=ur(e.nextSibling)}function Mi(){At=Lt=null,Ie=!1}function uy(e){en===null?en=[e]:en.push(e)}var sR=Bn.ReactCurrentBatchConfig;function lo(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(V(309));var r=n.stateNode}if(!r)throw Error(V(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(a){var s=i.refs;a===null?delete s[o]:s[o]=a},t._stringRef=o,t)}if(typeof e!="string")throw Error(V(284));if(!n._owner)throw Error(V(290,e))}return e}function Za(e,t){throw e=Object.prototype.toString.call(t),Error(V(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function S0(e){var t=e._init;return t(e._payload)}function vC(e){function t(g,v){if(e){var m=g.deletions;m===null?(g.deletions=[v],g.flags|=16):m.push(v)}}function n(g,v){if(!e)return null;for(;v!==null;)t(g,v),v=v.sibling;return null}function r(g,v){for(g=new Map;v!==null;)v.key!==null?g.set(v.key,v):g.set(v.index,v),v=v.sibling;return g}function i(g,v){return g=hr(g,v),g.index=0,g.sibling=null,g}function o(g,v,m){return g.index=m,e?(m=g.alternate,m!==null?(m=m.index,m<v?(g.flags|=2,v):m):(g.flags|=2,v)):(g.flags|=1048576,v)}function a(g){return e&&g.alternate===null&&(g.flags|=2),g}function s(g,v,m,_){return v===null||v.tag!==6?(v=tc(m,g.mode,_),v.return=g,v):(v=i(v,m),v.return=g,v)}function l(g,v,m,_){var k=m.type;return k===li?c(g,v,m.props.children,_,m.key):v!==null&&(v.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Qn&&S0(k)===v.type)?(_=i(v,m.props),_.ref=lo(g,v,m),_.return=g,_):(_=js(m.type,m.key,m.props,null,g.mode,_),_.ref=lo(g,v,m),_.return=g,_)}function u(g,v,m,_){return v===null||v.tag!==4||v.stateNode.containerInfo!==m.containerInfo||v.stateNode.implementation!==m.implementation?(v=nc(m,g.mode,_),v.return=g,v):(v=i(v,m.children||[]),v.return=g,v)}function c(g,v,m,_,k){return v===null||v.tag!==7?(v=zr(m,g.mode,_,k),v.return=g,v):(v=i(v,m),v.return=g,v)}function f(g,v,m){if(typeof v=="string"&&v!==""||typeof v=="number")return v=tc(""+v,g.mode,m),v.return=g,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Fa:return m=js(v.type,v.key,v.props,null,g.mode,m),m.ref=lo(g,null,v),m.return=g,m;case si:return v=nc(v,g.mode,m),v.return=g,v;case Qn:var _=v._init;return f(g,_(v._payload),m)}if(yo(v)||ro(v))return v=zr(v,g.mode,m,null),v.return=g,v;Za(g,v)}return null}function d(g,v,m,_){var k=v!==null?v.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return k!==null?null:s(g,v,""+m,_);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Fa:return m.key===k?l(g,v,m,_):null;case si:return m.key===k?u(g,v,m,_):null;case Qn:return k=m._init,d(g,v,k(m._payload),_)}if(yo(m)||ro(m))return k!==null?null:c(g,v,m,_,null);Za(g,m)}return null}function h(g,v,m,_,k){if(typeof _=="string"&&_!==""||typeof _=="number")return g=g.get(m)||null,s(v,g,""+_,k);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Fa:return g=g.get(_.key===null?m:_.key)||null,l(v,g,_,k);case si:return g=g.get(_.key===null?m:_.key)||null,u(v,g,_,k);case Qn:var b=_._init;return h(g,v,m,b(_._payload),k)}if(yo(_)||ro(_))return g=g.get(m)||null,c(v,g,_,k,null);Za(v,_)}return null}function p(g,v,m,_){for(var k=null,b=null,E=v,T=v=0,M=null;E!==null&&T<m.length;T++){E.index>T?(M=E,E=null):M=E.sibling;var D=d(g,E,m[T],_);if(D===null){E===null&&(E=M);break}e&&E&&D.alternate===null&&t(g,E),v=o(D,v,T),b===null?k=D:b.sibling=D,b=D,E=M}if(T===m.length)return n(g,E),Ie&&Nr(g,T),k;if(E===null){for(;T<m.length;T++)E=f(g,m[T],_),E!==null&&(v=o(E,v,T),b===null?k=E:b.sibling=E,b=E);return Ie&&Nr(g,T),k}for(E=r(g,E);T<m.length;T++)M=h(E,g,T,m[T],_),M!==null&&(e&&M.alternate!==null&&E.delete(M.key===null?T:M.key),v=o(M,v,T),b===null?k=M:b.sibling=M,b=M);return e&&E.forEach(function(P){return t(g,P)}),Ie&&Nr(g,T),k}function y(g,v,m,_){var k=ro(m);if(typeof k!="function")throw Error(V(150));if(m=k.call(m),m==null)throw Error(V(151));for(var b=k=null,E=v,T=v=0,M=null,D=m.next();E!==null&&!D.done;T++,D=m.next()){E.index>T?(M=E,E=null):M=E.sibling;var P=d(g,E,D.value,_);if(P===null){E===null&&(E=M);break}e&&E&&P.alternate===null&&t(g,E),v=o(P,v,T),b===null?k=P:b.sibling=P,b=P,E=M}if(D.done)return n(g,E),Ie&&Nr(g,T),k;if(E===null){for(;!D.done;T++,D=m.next())D=f(g,D.value,_),D!==null&&(v=o(D,v,T),b===null?k=D:b.sibling=D,b=D);return Ie&&Nr(g,T),k}for(E=r(g,E);!D.done;T++,D=m.next())D=h(E,g,T,D.value,_),D!==null&&(e&&D.alternate!==null&&E.delete(D.key===null?T:D.key),v=o(D,v,T),b===null?k=D:b.sibling=D,b=D);return e&&E.forEach(function(O){return t(g,O)}),Ie&&Nr(g,T),k}function w(g,v,m,_){if(typeof m=="object"&&m!==null&&m.type===li&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case Fa:e:{for(var k=m.key,b=v;b!==null;){if(b.key===k){if(k=m.type,k===li){if(b.tag===7){n(g,b.sibling),v=i(b,m.props.children),v.return=g,g=v;break e}}else if(b.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Qn&&S0(k)===b.type){n(g,b.sibling),v=i(b,m.props),v.ref=lo(g,b,m),v.return=g,g=v;break e}n(g,b);break}else t(g,b);b=b.sibling}m.type===li?(v=zr(m.props.children,g.mode,_,m.key),v.return=g,g=v):(_=js(m.type,m.key,m.props,null,g.mode,_),_.ref=lo(g,v,m),_.return=g,g=_)}return a(g);case si:e:{for(b=m.key;v!==null;){if(v.key===b)if(v.tag===4&&v.stateNode.containerInfo===m.containerInfo&&v.stateNode.implementation===m.implementation){n(g,v.sibling),v=i(v,m.children||[]),v.return=g,g=v;break e}else{n(g,v);break}else t(g,v);v=v.sibling}v=nc(m,g.mode,_),v.return=g,g=v}return a(g);case Qn:return b=m._init,w(g,v,b(m._payload),_)}if(yo(m))return p(g,v,m,_);if(ro(m))return y(g,v,m,_);Za(g,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,v!==null&&v.tag===6?(n(g,v.sibling),v=i(v,m),v.return=g,g=v):(n(g,v),v=tc(m,g.mode,_),v.return=g,g=v),a(g)):n(g,v)}return w}var Li=vC(!0),xC=vC(!1),Qs=_r(null),Zs=null,mi=null,cy=null;function fy(){cy=mi=Zs=null}function dy(e){var t=Qs.current;Te(Qs),e._currentValue=t}function Qg(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ci(e,t){Zs=e,cy=mi=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(vt=!0),e.firstContext=null)}function Gt(e){var t=e._currentValue;if(cy!==e)if(e={context:e,memoizedValue:t,next:null},mi===null){if(Zs===null)throw Error(V(308));mi=e,Zs.dependencies={lanes:0,firstContext:e}}else mi=mi.next=e;return t}var Rr=null;function hy(e){Rr===null?Rr=[e]:Rr.push(e)}function wC(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,hy(t)):(n.next=i.next,i.next=n),t.interleaved=n,zn(e,r)}function zn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Zn=!1;function py(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _C(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ln(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function cr(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,xe&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,zn(e,n)}return i=r.interleaved,i===null?(t.next=t,hy(r)):(t.next=i.next,i.next=t),r.interleaved=t,zn(e,n)}function Es(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Jm(e,n)}}function E0(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Js(e,t,n,r){var i=e.updateQueue;Zn=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,u=l.next;l.next=null,a===null?o=u:a.next=u,a=l;var c=e.alternate;c!==null&&(c=c.updateQueue,s=c.lastBaseUpdate,s!==a&&(s===null?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(o!==null){var f=i.baseState;a=0,c=u=l=null,s=o;do{var d=s.lane,h=s.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:h,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,y=s;switch(d=t,h=n,y.tag){case 1:if(p=y.payload,typeof p=="function"){f=p.call(h,f,d);break e}f=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=y.payload,d=typeof p=="function"?p.call(h,f,d):p,d==null)break e;f=ze({},f,d);break e;case 2:Zn=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,d=i.effects,d===null?i.effects=[s]:d.push(s))}else h={eventTime:h,lane:d,tag:s.tag,payload:s.payload,callback:s.callback,next:null},c===null?(u=c=h,l=f):c=c.next=h,a|=d;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;d=s,s=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do a|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);Vr|=a,e.lanes=a,e.memoizedState=f}}function k0(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(V(191,i));i.call(r)}}}var Sa={},wn=_r(Sa),ta=_r(Sa),na=_r(Sa);function Mr(e){if(e===Sa)throw Error(V(174));return e}function gy(e,t){switch(ke(na,t),ke(ta,e),ke(wn,Sa),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ig(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ig(t,e)}Te(wn),ke(wn,t)}function Oi(){Te(wn),Te(ta),Te(na)}function bC(e){Mr(na.current);var t=Mr(wn.current),n=Ig(t,e.type);t!==n&&(ke(ta,e),ke(wn,n))}function my(e){ta.current===e&&(Te(wn),Te(ta))}var Oe=_r(0);function el(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ku=[];function yy(){for(var e=0;e<Ku.length;e++)Ku[e]._workInProgressVersionPrimary=null;Ku.length=0}var ks=Bn.ReactCurrentDispatcher,Xu=Bn.ReactCurrentBatchConfig,Hr=0,De=null,We=null,Ze=null,tl=!1,Mo=!1,ra=0,lR=0;function rt(){throw Error(V(321))}function vy(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ln(e[n],t[n]))return!1;return!0}function xy(e,t,n,r,i,o){if(Hr=o,De=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ks.current=e===null||e.memoizedState===null?dR:hR,e=n(r,i),Mo){o=0;do{if(Mo=!1,ra=0,25<=o)throw Error(V(301));o+=1,Ze=We=null,t.updateQueue=null,ks.current=pR,e=n(r,i)}while(Mo)}if(ks.current=nl,t=We!==null&&We.next!==null,Hr=0,Ze=We=De=null,tl=!1,t)throw Error(V(300));return e}function wy(){var e=ra!==0;return ra=0,e}function hn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ze===null?De.memoizedState=Ze=e:Ze=Ze.next=e,Ze}function Wt(){if(We===null){var e=De.alternate;e=e!==null?e.memoizedState:null}else e=We.next;var t=Ze===null?De.memoizedState:Ze.next;if(t!==null)Ze=t,We=e;else{if(e===null)throw Error(V(310));We=e,e={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},Ze===null?De.memoizedState=Ze=e:Ze=Ze.next=e}return Ze}function ia(e,t){return typeof t=="function"?t(e):t}function Qu(e){var t=Wt(),n=t.queue;if(n===null)throw Error(V(311));n.lastRenderedReducer=e;var r=We,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var s=a=null,l=null,u=o;do{var c=u.lane;if((Hr&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(s=l=f,a=r):l=l.next=f,De.lanes|=c,Vr|=c}u=u.next}while(u!==null&&u!==o);l===null?a=r:l.next=s,ln(r,t.memoizedState)||(vt=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,De.lanes|=o,Vr|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Zu(e){var t=Wt(),n=t.queue;if(n===null)throw Error(V(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do o=e(o,a.action),a=a.next;while(a!==i);ln(o,t.memoizedState)||(vt=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function SC(){}function EC(e,t){var n=De,r=Wt(),i=t(),o=!ln(r.memoizedState,i);if(o&&(r.memoizedState=i,vt=!0),r=r.queue,_y(NC.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||Ze!==null&&Ze.memoizedState.tag&1){if(n.flags|=2048,oa(9,CC.bind(null,n,r,i,t),void 0,null),Je===null)throw Error(V(349));Hr&30||kC(n,t,i)}return i}function kC(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=De.updateQueue,t===null?(t={lastEffect:null,stores:null},De.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function CC(e,t,n,r){t.value=n,t.getSnapshot=r,TC(t)&&PC(e)}function NC(e,t,n){return n(function(){TC(t)&&PC(e)})}function TC(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ln(e,n)}catch{return!0}}function PC(e){var t=zn(e,1);t!==null&&an(t,e,1,-1)}function C0(e){var t=hn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ia,lastRenderedState:e},t.queue=e,e=e.dispatch=fR.bind(null,De,e),[t.memoizedState,e]}function oa(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=De.updateQueue,t===null?(t={lastEffect:null,stores:null},De.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function jC(){return Wt().memoizedState}function Cs(e,t,n,r){var i=hn();De.flags|=e,i.memoizedState=oa(1|t,n,void 0,r===void 0?null:r)}function Ol(e,t,n,r){var i=Wt();r=r===void 0?null:r;var o=void 0;if(We!==null){var a=We.memoizedState;if(o=a.destroy,r!==null&&vy(r,a.deps)){i.memoizedState=oa(t,n,o,r);return}}De.flags|=e,i.memoizedState=oa(1|t,n,o,r)}function N0(e,t){return Cs(8390656,8,e,t)}function _y(e,t){return Ol(2048,8,e,t)}function IC(e,t){return Ol(4,2,e,t)}function AC(e,t){return Ol(4,4,e,t)}function RC(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function MC(e,t,n){return n=n!=null?n.concat([e]):null,Ol(4,4,RC.bind(null,t,e),n)}function by(){}function LC(e,t){var n=Wt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&vy(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function OC(e,t){var n=Wt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&vy(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function DC(e,t,n){return Hr&21?(ln(n,t)||(n=Bk(),De.lanes|=n,Vr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,vt=!0),e.memoizedState=n)}function uR(e,t){var n=be;be=n!==0&&4>n?n:4,e(!0);var r=Xu.transition;Xu.transition={};try{e(!1),t()}finally{be=n,Xu.transition=r}}function zC(){return Wt().memoizedState}function cR(e,t,n){var r=dr(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},qC(e))$C(t,n);else if(n=wC(e,t,n,r),n!==null){var i=ft();an(n,e,r,i),FC(n,t,r)}}function fR(e,t,n){var r=dr(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(qC(e))$C(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var a=t.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,ln(s,a)){var l=t.interleaved;l===null?(i.next=i,hy(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=wC(e,t,i,r),n!==null&&(i=ft(),an(n,e,r,i),FC(n,t,r))}}function qC(e){var t=e.alternate;return e===De||t!==null&&t===De}function $C(e,t){Mo=tl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function FC(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Jm(e,n)}}var nl={readContext:Gt,useCallback:rt,useContext:rt,useEffect:rt,useImperativeHandle:rt,useInsertionEffect:rt,useLayoutEffect:rt,useMemo:rt,useReducer:rt,useRef:rt,useState:rt,useDebugValue:rt,useDeferredValue:rt,useTransition:rt,useMutableSource:rt,useSyncExternalStore:rt,useId:rt,unstable_isNewReconciler:!1},dR={readContext:Gt,useCallback:function(e,t){return hn().memoizedState=[e,t===void 0?null:t],e},useContext:Gt,useEffect:N0,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Cs(4194308,4,RC.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Cs(4194308,4,e,t)},useInsertionEffect:function(e,t){return Cs(4,2,e,t)},useMemo:function(e,t){var n=hn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=hn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=cR.bind(null,De,e),[r.memoizedState,e]},useRef:function(e){var t=hn();return e={current:e},t.memoizedState=e},useState:C0,useDebugValue:by,useDeferredValue:function(e){return hn().memoizedState=e},useTransition:function(){var e=C0(!1),t=e[0];return e=uR.bind(null,e[1]),hn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=De,i=hn();if(Ie){if(n===void 0)throw Error(V(407));n=n()}else{if(n=t(),Je===null)throw Error(V(349));Hr&30||kC(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,N0(NC.bind(null,r,o,e),[e]),r.flags|=2048,oa(9,CC.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=hn(),t=Je.identifierPrefix;if(Ie){var n=In,r=jn;n=(r&~(1<<32-on(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=ra++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=lR++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},hR={readContext:Gt,useCallback:LC,useContext:Gt,useEffect:_y,useImperativeHandle:MC,useInsertionEffect:IC,useLayoutEffect:AC,useMemo:OC,useReducer:Qu,useRef:jC,useState:function(){return Qu(ia)},useDebugValue:by,useDeferredValue:function(e){var t=Wt();return DC(t,We.memoizedState,e)},useTransition:function(){var e=Qu(ia)[0],t=Wt().memoizedState;return[e,t]},useMutableSource:SC,useSyncExternalStore:EC,useId:zC,unstable_isNewReconciler:!1},pR={readContext:Gt,useCallback:LC,useContext:Gt,useEffect:_y,useImperativeHandle:MC,useInsertionEffect:IC,useLayoutEffect:AC,useMemo:OC,useReducer:Zu,useRef:jC,useState:function(){return Zu(ia)},useDebugValue:by,useDeferredValue:function(e){var t=Wt();return We===null?t.memoizedState=e:DC(t,We.memoizedState,e)},useTransition:function(){var e=Zu(ia)[0],t=Wt().memoizedState;return[e,t]},useMutableSource:SC,useSyncExternalStore:EC,useId:zC,unstable_isNewReconciler:!1};function Qt(e,t){if(e&&e.defaultProps){t=ze({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Zg(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ze({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Dl={isMounted:function(e){return(e=e._reactInternals)?Qr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ft(),i=dr(e),o=Ln(r,i);o.payload=t,n!=null&&(o.callback=n),t=cr(e,o,i),t!==null&&(an(t,e,i,r),Es(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ft(),i=dr(e),o=Ln(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=cr(e,o,i),t!==null&&(an(t,e,i,r),Es(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ft(),r=dr(e),i=Ln(n,r);i.tag=2,t!=null&&(i.callback=t),t=cr(e,i,r),t!==null&&(an(t,e,r,n),Es(t,e,r))}};function T0(e,t,n,r,i,o,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,a):t.prototype&&t.prototype.isPureReactComponent?!Qo(n,r)||!Qo(i,o):!0}function BC(e,t,n){var r=!1,i=vr,o=t.contextType;return typeof o=="object"&&o!==null?o=Gt(o):(i=_t(t)?Fr:at.current,r=t.contextTypes,o=(r=r!=null)?Ri(e,i):vr),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Dl,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function P0(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Dl.enqueueReplaceState(t,t.state,null)}function Jg(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},py(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=Gt(o):(o=_t(t)?Fr:at.current,i.context=Ri(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Zg(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Dl.enqueueReplaceState(i,i.state,null),Js(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Di(e,t){try{var n="",r=t;do n+=BI(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function Ju(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function em(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var gR=typeof WeakMap=="function"?WeakMap:Map;function HC(e,t,n){n=Ln(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){il||(il=!0,cm=r),em(e,t)},n}function VC(e,t,n){n=Ln(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){em(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){em(e,t),typeof r!="function"&&(fr===null?fr=new Set([this]):fr.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function j0(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new gR;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=PR.bind(null,e,t,n),t.then(e,e))}function I0(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function A0(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Ln(-1,1),t.tag=2,cr(n,t,1))),n.lanes|=1),e)}var mR=Bn.ReactCurrentOwner,vt=!1;function ct(e,t,n,r){t.child=e===null?xC(t,null,n,r):Li(t,e.child,n,r)}function R0(e,t,n,r,i){n=n.render;var o=t.ref;return Ci(t,i),r=xy(e,t,n,r,o,i),n=wy(),e!==null&&!vt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,qn(e,t,i)):(Ie&&n&&sy(t),t.flags|=1,ct(e,t,r,i),t.child)}function M0(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!jy(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,UC(e,t,o,r,i)):(e=js(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:Qo,n(a,r)&&e.ref===t.ref)return qn(e,t,i)}return t.flags|=1,e=hr(o,r),e.ref=t.ref,e.return=t,t.child=e}function UC(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(Qo(o,r)&&e.ref===t.ref)if(vt=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(vt=!0);else return t.lanes=e.lanes,qn(e,t,i)}return tm(e,t,n,r,i)}function GC(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ke(vi,Tt),Tt|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ke(vi,Tt),Tt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,ke(vi,Tt),Tt|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,ke(vi,Tt),Tt|=r;return ct(e,t,i,n),t.child}function WC(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function tm(e,t,n,r,i){var o=_t(n)?Fr:at.current;return o=Ri(t,o),Ci(t,i),n=xy(e,t,n,r,o,i),r=wy(),e!==null&&!vt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,qn(e,t,i)):(Ie&&r&&sy(t),t.flags|=1,ct(e,t,n,i),t.child)}function L0(e,t,n,r,i){if(_t(n)){var o=!0;Ys(t)}else o=!1;if(Ci(t,i),t.stateNode===null)Ns(e,t),BC(t,n,r),Jg(t,n,r,i),r=!0;else if(e===null){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=Gt(u):(u=_t(n)?Fr:at.current,u=Ri(t,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==r||l!==u)&&P0(t,a,r,u),Zn=!1;var d=t.memoizedState;a.state=d,Js(t,r,a,i),l=t.memoizedState,s!==r||d!==l||wt.current||Zn?(typeof c=="function"&&(Zg(t,n,c,r),l=t.memoizedState),(s=Zn||T0(t,n,s,r,d,l,u))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=u,r=s):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,_C(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:Qt(t.type,s),a.props=u,f=t.pendingProps,d=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=Gt(l):(l=_t(n)?Fr:at.current,l=Ri(t,l));var h=n.getDerivedStateFromProps;(c=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==f||d!==l)&&P0(t,a,r,l),Zn=!1,d=t.memoizedState,a.state=d,Js(t,r,a,i);var p=t.memoizedState;s!==f||d!==p||wt.current||Zn?(typeof h=="function"&&(Zg(t,n,h,r),p=t.memoizedState),(u=Zn||T0(t,n,u,r,d,p,l)||!1)?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,p,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,p,l)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=l,r=u):(typeof a.componentDidUpdate!="function"||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return nm(e,t,n,r,o,i)}function nm(e,t,n,r,i,o){WC(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return i&&w0(t,n,!1),qn(e,t,o);r=t.stateNode,mR.current=t;var s=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=Li(t,e.child,null,o),t.child=Li(t,null,s,o)):ct(e,t,s,o),t.memoizedState=r.state,i&&w0(t,n,!0),t.child}function YC(e){var t=e.stateNode;t.pendingContext?x0(e,t.pendingContext,t.pendingContext!==t.context):t.context&&x0(e,t.context,!1),gy(e,t.containerInfo)}function O0(e,t,n,r,i){return Mi(),uy(i),t.flags|=256,ct(e,t,n,r),t.child}var rm={dehydrated:null,treeContext:null,retryLane:0};function im(e){return{baseLanes:e,cachePool:null,transitions:null}}function KC(e,t,n){var r=t.pendingProps,i=Oe.current,o=!1,a=(t.flags&128)!==0,s;if((s=a)||(s=e!==null&&e.memoizedState===null?!1:(i&2)!==0),s?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),ke(Oe,i&1),e===null)return Xg(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,o?(r=t.mode,o=t.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=$l(a,r,0,null),e=zr(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=im(n),t.memoizedState=rm,e):Sy(t,a));if(i=e.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return yR(e,t,a,r,s,i,n);if(o){o=r.fallback,a=t.mode,i=e.child,s=i.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=hr(i,l),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?o=hr(s,o):(o=zr(o,a,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,a=e.child.memoizedState,a=a===null?im(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=e.childLanes&~n,t.memoizedState=rm,r}return o=e.child,e=o.sibling,r=hr(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Sy(e,t){return t=$l({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ja(e,t,n,r){return r!==null&&uy(r),Li(t,e.child,null,n),e=Sy(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function yR(e,t,n,r,i,o,a){if(n)return t.flags&256?(t.flags&=-257,r=Ju(Error(V(422))),Ja(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=$l({mode:"visible",children:r.children},i,0,null),o=zr(o,i,a,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&Li(t,e.child,null,a),t.child.memoizedState=im(a),t.memoizedState=rm,o);if(!(t.mode&1))return Ja(e,t,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,o=Error(V(419)),r=Ju(o,r,void 0),Ja(e,t,a,r)}if(s=(a&e.childLanes)!==0,vt||s){if(r=Je,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,zn(e,i),an(r,e,i,-1))}return Py(),r=Ju(Error(V(421))),Ja(e,t,a,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=jR.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,At=ur(i.nextSibling),Lt=t,Ie=!0,en=null,e!==null&&(Ft[Bt++]=jn,Ft[Bt++]=In,Ft[Bt++]=Br,jn=e.id,In=e.overflow,Br=t),t=Sy(t,r.children),t.flags|=4096,t)}function D0(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Qg(e.return,t,n)}function ec(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function XC(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(ct(e,t,r.children,n),r=Oe.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&D0(e,n,t);else if(e.tag===19)D0(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ke(Oe,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&el(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ec(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&el(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ec(t,!0,n,null,o);break;case"together":ec(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ns(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function qn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Vr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(V(153));if(t.child!==null){for(e=t.child,n=hr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=hr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function vR(e,t,n){switch(t.tag){case 3:YC(t),Mi();break;case 5:bC(t);break;case 1:_t(t.type)&&Ys(t);break;case 4:gy(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;ke(Qs,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ke(Oe,Oe.current&1),t.flags|=128,null):n&t.child.childLanes?KC(e,t,n):(ke(Oe,Oe.current&1),e=qn(e,t,n),e!==null?e.sibling:null);ke(Oe,Oe.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return XC(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ke(Oe,Oe.current),r)break;return null;case 22:case 23:return t.lanes=0,GC(e,t,n)}return qn(e,t,n)}var QC,om,ZC,JC;QC=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};om=function(){};ZC=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Mr(wn.current);var o=null;switch(n){case"input":i=Ng(e,i),r=Ng(e,r),o=[];break;case"select":i=ze({},i,{value:void 0}),r=ze({},r,{value:void 0}),o=[];break;case"textarea":i=jg(e,i),r=jg(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Gs)}Ag(n,r);var a;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var s=i[u];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Vo.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(s=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==s&&(l!=null||s!=null))if(u==="style")if(s){for(a in s)!s.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&s[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Vo.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Ne("scroll",e),o||s===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};JC=function(e,t,n,r){n!==r&&(t.flags|=4)};function uo(e,t){if(!Ie)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function it(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function xR(e,t,n){var r=t.pendingProps;switch(ly(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(t),null;case 1:return _t(t.type)&&Ws(),it(t),null;case 3:return r=t.stateNode,Oi(),Te(wt),Te(at),yy(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Qa(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,en!==null&&(hm(en),en=null))),om(e,t),it(t),null;case 5:my(t);var i=Mr(na.current);if(n=t.type,e!==null&&t.stateNode!=null)ZC(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(V(166));return it(t),null}if(e=Mr(wn.current),Qa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[mn]=t,r[ea]=o,e=(t.mode&1)!==0,n){case"dialog":Ne("cancel",r),Ne("close",r);break;case"iframe":case"object":case"embed":Ne("load",r);break;case"video":case"audio":for(i=0;i<xo.length;i++)Ne(xo[i],r);break;case"source":Ne("error",r);break;case"img":case"image":case"link":Ne("error",r),Ne("load",r);break;case"details":Ne("toggle",r);break;case"input":Gv(r,o),Ne("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ne("invalid",r);break;case"textarea":Yv(r,o),Ne("invalid",r)}Ag(n,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var s=o[a];a==="children"?typeof s=="string"?r.textContent!==s&&(o.suppressHydrationWarning!==!0&&Xa(r.textContent,s,e),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&Xa(r.textContent,s,e),i=["children",""+s]):Vo.hasOwnProperty(a)&&s!=null&&a==="onScroll"&&Ne("scroll",r)}switch(n){case"input":Ba(r),Wv(r,o,!0);break;case"textarea":Ba(r),Kv(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Gs)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Nk(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[mn]=t,e[ea]=r,QC(e,t,!1,!1),t.stateNode=e;e:{switch(a=Rg(n,r),n){case"dialog":Ne("cancel",e),Ne("close",e),i=r;break;case"iframe":case"object":case"embed":Ne("load",e),i=r;break;case"video":case"audio":for(i=0;i<xo.length;i++)Ne(xo[i],e);i=r;break;case"source":Ne("error",e),i=r;break;case"img":case"image":case"link":Ne("error",e),Ne("load",e),i=r;break;case"details":Ne("toggle",e),i=r;break;case"input":Gv(e,r),i=Ng(e,r),Ne("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=ze({},r,{value:void 0}),Ne("invalid",e);break;case"textarea":Yv(e,r),i=jg(e,r),Ne("invalid",e);break;default:i=r}Ag(n,i),s=i;for(o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="style"?jk(e,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Tk(e,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Uo(e,l):typeof l=="number"&&Uo(e,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Vo.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Ne("scroll",e):l!=null&&Wm(e,o,l,a))}switch(n){case"input":Ba(e),Wv(e,r,!1);break;case"textarea":Ba(e),Kv(e);break;case"option":r.value!=null&&e.setAttribute("value",""+yr(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?bi(e,!!r.multiple,o,!1):r.defaultValue!=null&&bi(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Gs)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return it(t),null;case 6:if(e&&t.stateNode!=null)JC(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(V(166));if(n=Mr(na.current),Mr(wn.current),Qa(t)){if(r=t.stateNode,n=t.memoizedProps,r[mn]=t,(o=r.nodeValue!==n)&&(e=Lt,e!==null))switch(e.tag){case 3:Xa(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Xa(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[mn]=t,t.stateNode=r}return it(t),null;case 13:if(Te(Oe),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ie&&At!==null&&t.mode&1&&!(t.flags&128))yC(),Mi(),t.flags|=98560,o=!1;else if(o=Qa(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(V(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(V(317));o[mn]=t}else Mi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;it(t),o=!1}else en!==null&&(hm(en),en=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Oe.current&1?Ye===0&&(Ye=3):Py())),t.updateQueue!==null&&(t.flags|=4),it(t),null);case 4:return Oi(),om(e,t),e===null&&Zo(t.stateNode.containerInfo),it(t),null;case 10:return dy(t.type._context),it(t),null;case 17:return _t(t.type)&&Ws(),it(t),null;case 19:if(Te(Oe),o=t.memoizedState,o===null)return it(t),null;if(r=(t.flags&128)!==0,a=o.rendering,a===null)if(r)uo(o,!1);else{if(Ye!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=el(e),a!==null){for(t.flags|=128,uo(o,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,e=a.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ke(Oe,Oe.current&1|2),t.child}e=e.sibling}o.tail!==null&&Fe()>zi&&(t.flags|=128,r=!0,uo(o,!1),t.lanes=4194304)}else{if(!r)if(e=el(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),uo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!Ie)return it(t),null}else 2*Fe()-o.renderingStartTime>zi&&n!==1073741824&&(t.flags|=128,r=!0,uo(o,!1),t.lanes=4194304);o.isBackwards?(a.sibling=t.child,t.child=a):(n=o.last,n!==null?n.sibling=a:t.child=a,o.last=a)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Fe(),t.sibling=null,n=Oe.current,ke(Oe,r?n&1|2:n&1),t):(it(t),null);case 22:case 23:return Ty(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Tt&1073741824&&(it(t),t.subtreeFlags&6&&(t.flags|=8192)):it(t),null;case 24:return null;case 25:return null}throw Error(V(156,t.tag))}function wR(e,t){switch(ly(t),t.tag){case 1:return _t(t.type)&&Ws(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Oi(),Te(wt),Te(at),yy(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return my(t),null;case 13:if(Te(Oe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(V(340));Mi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Te(Oe),null;case 4:return Oi(),null;case 10:return dy(t.type._context),null;case 22:case 23:return Ty(),null;case 24:return null;default:return null}}var es=!1,ot=!1,_R=typeof WeakSet=="function"?WeakSet:Set,J=null;function yi(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){qe(e,t,r)}else n.current=null}function am(e,t,n){try{n()}catch(r){qe(e,t,r)}}var z0=!1;function bR(e,t){if(Hg=Hs,e=iC(),ay(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,s=-1,l=-1,u=0,c=0,f=e,d=null;t:for(;;){for(var h;f!==n||i!==0&&f.nodeType!==3||(s=a+i),f!==o||r!==0&&f.nodeType!==3||(l=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(h=f.firstChild)!==null;)d=f,f=h;for(;;){if(f===e)break t;if(d===n&&++u===i&&(s=a),d===o&&++c===r&&(l=a),(h=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=h}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Vg={focusedElem:e,selectionRange:n},Hs=!1,J=t;J!==null;)if(t=J,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,J=e;else for(;J!==null;){t=J;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var y=p.memoizedProps,w=p.memoizedState,g=t.stateNode,v=g.getSnapshotBeforeUpdate(t.elementType===t.type?y:Qt(t.type,y),w);g.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var m=t.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(V(163))}}catch(_){qe(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,J=e;break}J=t.return}return p=z0,z0=!1,p}function Lo(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&am(t,n,o)}i=i.next}while(i!==r)}}function zl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function sm(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function eN(e){var t=e.alternate;t!==null&&(e.alternate=null,eN(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[mn],delete t[ea],delete t[Wg],delete t[iR],delete t[oR])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function tN(e){return e.tag===5||e.tag===3||e.tag===4}function q0(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||tN(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function lm(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Gs));else if(r!==4&&(e=e.child,e!==null))for(lm(e,t,n),e=e.sibling;e!==null;)lm(e,t,n),e=e.sibling}function um(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(um(e,t,n),e=e.sibling;e!==null;)um(e,t,n),e=e.sibling}var et=null,Zt=!1;function Gn(e,t,n){for(n=n.child;n!==null;)nN(e,t,n),n=n.sibling}function nN(e,t,n){if(xn&&typeof xn.onCommitFiberUnmount=="function")try{xn.onCommitFiberUnmount(jl,n)}catch{}switch(n.tag){case 5:ot||yi(n,t);case 6:var r=et,i=Zt;et=null,Gn(e,t,n),et=r,Zt=i,et!==null&&(Zt?(e=et,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):et.removeChild(n.stateNode));break;case 18:et!==null&&(Zt?(e=et,n=n.stateNode,e.nodeType===8?Wu(e.parentNode,n):e.nodeType===1&&Wu(e,n),Ko(e)):Wu(et,n.stateNode));break;case 4:r=et,i=Zt,et=n.stateNode.containerInfo,Zt=!0,Gn(e,t,n),et=r,Zt=i;break;case 0:case 11:case 14:case 15:if(!ot&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&am(n,t,a),i=i.next}while(i!==r)}Gn(e,t,n);break;case 1:if(!ot&&(yi(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){qe(n,t,s)}Gn(e,t,n);break;case 21:Gn(e,t,n);break;case 22:n.mode&1?(ot=(r=ot)||n.memoizedState!==null,Gn(e,t,n),ot=r):Gn(e,t,n);break;default:Gn(e,t,n)}}function $0(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new _R),t.forEach(function(r){var i=IR.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Xt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,a=t,s=a;e:for(;s!==null;){switch(s.tag){case 5:et=s.stateNode,Zt=!1;break e;case 3:et=s.stateNode.containerInfo,Zt=!0;break e;case 4:et=s.stateNode.containerInfo,Zt=!0;break e}s=s.return}if(et===null)throw Error(V(160));nN(o,a,i),et=null,Zt=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){qe(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)rN(t,e),t=t.sibling}function rN(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Xt(t,e),dn(e),r&4){try{Lo(3,e,e.return),zl(3,e)}catch(y){qe(e,e.return,y)}try{Lo(5,e,e.return)}catch(y){qe(e,e.return,y)}}break;case 1:Xt(t,e),dn(e),r&512&&n!==null&&yi(n,n.return);break;case 5:if(Xt(t,e),dn(e),r&512&&n!==null&&yi(n,n.return),e.flags&32){var i=e.stateNode;try{Uo(i,"")}catch(y){qe(e,e.return,y)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,a=n!==null?n.memoizedProps:o,s=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&kk(i,o),Rg(s,a);var u=Rg(s,o);for(a=0;a<l.length;a+=2){var c=l[a],f=l[a+1];c==="style"?jk(i,f):c==="dangerouslySetInnerHTML"?Tk(i,f):c==="children"?Uo(i,f):Wm(i,c,f,u)}switch(s){case"input":Tg(i,o);break;case"textarea":Ck(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var h=o.value;h!=null?bi(i,!!o.multiple,h,!1):d!==!!o.multiple&&(o.defaultValue!=null?bi(i,!!o.multiple,o.defaultValue,!0):bi(i,!!o.multiple,o.multiple?[]:"",!1))}i[ea]=o}catch(y){qe(e,e.return,y)}}break;case 6:if(Xt(t,e),dn(e),r&4){if(e.stateNode===null)throw Error(V(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(y){qe(e,e.return,y)}}break;case 3:if(Xt(t,e),dn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ko(t.containerInfo)}catch(y){qe(e,e.return,y)}break;case 4:Xt(t,e),dn(e);break;case 13:Xt(t,e),dn(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Cy=Fe())),r&4&&$0(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(ot=(u=ot)||c,Xt(t,e),ot=u):Xt(t,e),dn(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(J=e,c=e.child;c!==null;){for(f=J=c;J!==null;){switch(d=J,h=d.child,d.tag){case 0:case 11:case 14:case 15:Lo(4,d,d.return);break;case 1:yi(d,d.return);var p=d.stateNode;if(typeof p.componentWillUnmount=="function"){r=d,n=d.return;try{t=r,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(y){qe(r,n,y)}}break;case 5:yi(d,d.return);break;case 22:if(d.memoizedState!==null){B0(f);continue}}h!==null?(h.return=d,J=h):B0(f)}c=c.sibling}e:for(c=null,f=e;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=f.stateNode,l=f.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=Pk("display",a))}catch(y){qe(e,e.return,y)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(y){qe(e,e.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Xt(t,e),dn(e),r&4&&$0(e);break;case 21:break;default:Xt(t,e),dn(e)}}function dn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(tN(n)){var r=n;break e}n=n.return}throw Error(V(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Uo(i,""),r.flags&=-33);var o=q0(e);um(e,o,i);break;case 3:case 4:var a=r.stateNode.containerInfo,s=q0(e);lm(e,s,a);break;default:throw Error(V(161))}}catch(l){qe(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function SR(e,t,n){J=e,iN(e)}function iN(e,t,n){for(var r=(e.mode&1)!==0;J!==null;){var i=J,o=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||es;if(!a){var s=i.alternate,l=s!==null&&s.memoizedState!==null||ot;s=es;var u=ot;if(es=a,(ot=l)&&!u)for(J=i;J!==null;)a=J,l=a.child,a.tag===22&&a.memoizedState!==null?H0(i):l!==null?(l.return=a,J=l):H0(i);for(;o!==null;)J=o,iN(o),o=o.sibling;J=i,es=s,ot=u}F0(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,J=o):F0(e)}}function F0(e){for(;J!==null;){var t=J;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ot||zl(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!ot)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Qt(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&k0(t,o,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}k0(t,a,n)}break;case 5:var s=t.stateNode;if(n===null&&t.flags&4){n=s;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&Ko(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(V(163))}ot||t.flags&512&&sm(t)}catch(d){qe(t,t.return,d)}}if(t===e){J=null;break}if(n=t.sibling,n!==null){n.return=t.return,J=n;break}J=t.return}}function B0(e){for(;J!==null;){var t=J;if(t===e){J=null;break}var n=t.sibling;if(n!==null){n.return=t.return,J=n;break}J=t.return}}function H0(e){for(;J!==null;){var t=J;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{zl(4,t)}catch(l){qe(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){qe(t,i,l)}}var o=t.return;try{sm(t)}catch(l){qe(t,o,l)}break;case 5:var a=t.return;try{sm(t)}catch(l){qe(t,a,l)}}}catch(l){qe(t,t.return,l)}if(t===e){J=null;break}var s=t.sibling;if(s!==null){s.return=t.return,J=s;break}J=t.return}}var ER=Math.ceil,rl=Bn.ReactCurrentDispatcher,Ey=Bn.ReactCurrentOwner,Ut=Bn.ReactCurrentBatchConfig,xe=0,Je=null,He=null,tt=0,Tt=0,vi=_r(0),Ye=0,aa=null,Vr=0,ql=0,ky=0,Oo=null,yt=null,Cy=0,zi=1/0,Tn=null,il=!1,cm=null,fr=null,ts=!1,or=null,ol=0,Do=0,fm=null,Ts=-1,Ps=0;function ft(){return xe&6?Fe():Ts!==-1?Ts:Ts=Fe()}function dr(e){return e.mode&1?xe&2&&tt!==0?tt&-tt:sR.transition!==null?(Ps===0&&(Ps=Bk()),Ps):(e=be,e!==0||(e=window.event,e=e===void 0?16:Kk(e.type)),e):1}function an(e,t,n,r){if(50<Do)throw Do=0,fm=null,Error(V(185));wa(e,n,r),(!(xe&2)||e!==Je)&&(e===Je&&(!(xe&2)&&(ql|=n),Ye===4&&er(e,tt)),bt(e,r),n===1&&xe===0&&!(t.mode&1)&&(zi=Fe()+500,Ll&&br()))}function bt(e,t){var n=e.callbackNode;sA(e,t);var r=Bs(e,e===Je?tt:0);if(r===0)n!==null&&Zv(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Zv(n),t===1)e.tag===0?aR(V0.bind(null,e)):pC(V0.bind(null,e)),nR(function(){!(xe&6)&&br()}),n=null;else{switch(Hk(r)){case 1:n=Zm;break;case 4:n=$k;break;case 16:n=Fs;break;case 536870912:n=Fk;break;default:n=Fs}n=dN(n,oN.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function oN(e,t){if(Ts=-1,Ps=0,xe&6)throw Error(V(327));var n=e.callbackNode;if(Ni()&&e.callbackNode!==n)return null;var r=Bs(e,e===Je?tt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=al(e,r);else{t=r;var i=xe;xe|=2;var o=sN();(Je!==e||tt!==t)&&(Tn=null,zi=Fe()+500,Dr(e,t));do try{NR();break}catch(s){aN(e,s)}while(!0);fy(),rl.current=o,xe=i,He!==null?t=0:(Je=null,tt=0,t=Ye)}if(t!==0){if(t===2&&(i=zg(e),i!==0&&(r=i,t=dm(e,i))),t===1)throw n=aa,Dr(e,0),er(e,r),bt(e,Fe()),n;if(t===6)er(e,r);else{if(i=e.current.alternate,!(r&30)&&!kR(i)&&(t=al(e,r),t===2&&(o=zg(e),o!==0&&(r=o,t=dm(e,o))),t===1))throw n=aa,Dr(e,0),er(e,r),bt(e,Fe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(V(345));case 2:Tr(e,yt,Tn);break;case 3:if(er(e,r),(r&130023424)===r&&(t=Cy+500-Fe(),10<t)){if(Bs(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){ft(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Gg(Tr.bind(null,e,yt,Tn),t);break}Tr(e,yt,Tn);break;case 4:if(er(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-on(r);o=1<<a,a=t[a],a>i&&(i=a),r&=~o}if(r=i,r=Fe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ER(r/1960))-r,10<r){e.timeoutHandle=Gg(Tr.bind(null,e,yt,Tn),r);break}Tr(e,yt,Tn);break;case 5:Tr(e,yt,Tn);break;default:throw Error(V(329))}}}return bt(e,Fe()),e.callbackNode===n?oN.bind(null,e):null}function dm(e,t){var n=Oo;return e.current.memoizedState.isDehydrated&&(Dr(e,t).flags|=256),e=al(e,t),e!==2&&(t=yt,yt=n,t!==null&&hm(t)),e}function hm(e){yt===null?yt=e:yt.push.apply(yt,e)}function kR(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!ln(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function er(e,t){for(t&=~ky,t&=~ql,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-on(t),r=1<<n;e[n]=-1,t&=~r}}function V0(e){if(xe&6)throw Error(V(327));Ni();var t=Bs(e,0);if(!(t&1))return bt(e,Fe()),null;var n=al(e,t);if(e.tag!==0&&n===2){var r=zg(e);r!==0&&(t=r,n=dm(e,r))}if(n===1)throw n=aa,Dr(e,0),er(e,t),bt(e,Fe()),n;if(n===6)throw Error(V(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Tr(e,yt,Tn),bt(e,Fe()),null}function Ny(e,t){var n=xe;xe|=1;try{return e(t)}finally{xe=n,xe===0&&(zi=Fe()+500,Ll&&br())}}function Ur(e){or!==null&&or.tag===0&&!(xe&6)&&Ni();var t=xe;xe|=1;var n=Ut.transition,r=be;try{if(Ut.transition=null,be=1,e)return e()}finally{be=r,Ut.transition=n,xe=t,!(xe&6)&&br()}}function Ty(){Tt=vi.current,Te(vi)}function Dr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,tR(n)),He!==null)for(n=He.return;n!==null;){var r=n;switch(ly(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ws();break;case 3:Oi(),Te(wt),Te(at),yy();break;case 5:my(r);break;case 4:Oi();break;case 13:Te(Oe);break;case 19:Te(Oe);break;case 10:dy(r.type._context);break;case 22:case 23:Ty()}n=n.return}if(Je=e,He=e=hr(e.current,null),tt=Tt=t,Ye=0,aa=null,ky=ql=Vr=0,yt=Oo=null,Rr!==null){for(t=0;t<Rr.length;t++)if(n=Rr[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=i,r.next=a}n.pending=r}Rr=null}return e}function aN(e,t){do{var n=He;try{if(fy(),ks.current=nl,tl){for(var r=De.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}tl=!1}if(Hr=0,Ze=We=De=null,Mo=!1,ra=0,Ey.current=null,n===null||n.return===null){Ye=1,aa=t,He=null;break}e:{var o=e,a=n.return,s=n,l=t;if(t=tt,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=s,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var h=I0(a);if(h!==null){h.flags&=-257,A0(h,a,s,o,t),h.mode&1&&j0(o,u,t),t=h,l=u;var p=t.updateQueue;if(p===null){var y=new Set;y.add(l),t.updateQueue=y}else p.add(l);break e}else{if(!(t&1)){j0(o,u,t),Py();break e}l=Error(V(426))}}else if(Ie&&s.mode&1){var w=I0(a);if(w!==null){!(w.flags&65536)&&(w.flags|=256),A0(w,a,s,o,t),uy(Di(l,s));break e}}o=l=Di(l,s),Ye!==4&&(Ye=2),Oo===null?Oo=[o]:Oo.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var g=HC(o,l,t);E0(o,g);break e;case 1:s=l;var v=o.type,m=o.stateNode;if(!(o.flags&128)&&(typeof v.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(fr===null||!fr.has(m)))){o.flags|=65536,t&=-t,o.lanes|=t;var _=VC(o,s,t);E0(o,_);break e}}o=o.return}while(o!==null)}uN(n)}catch(k){t=k,He===n&&n!==null&&(He=n=n.return);continue}break}while(!0)}function sN(){var e=rl.current;return rl.current=nl,e===null?nl:e}function Py(){(Ye===0||Ye===3||Ye===2)&&(Ye=4),Je===null||!(Vr&268435455)&&!(ql&268435455)||er(Je,tt)}function al(e,t){var n=xe;xe|=2;var r=sN();(Je!==e||tt!==t)&&(Tn=null,Dr(e,t));do try{CR();break}catch(i){aN(e,i)}while(!0);if(fy(),xe=n,rl.current=r,He!==null)throw Error(V(261));return Je=null,tt=0,Ye}function CR(){for(;He!==null;)lN(He)}function NR(){for(;He!==null&&!ZI();)lN(He)}function lN(e){var t=fN(e.alternate,e,Tt);e.memoizedProps=e.pendingProps,t===null?uN(e):He=t,Ey.current=null}function uN(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=wR(n,t),n!==null){n.flags&=32767,He=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ye=6,He=null;return}}else if(n=xR(n,t,Tt),n!==null){He=n;return}if(t=t.sibling,t!==null){He=t;return}He=t=e}while(t!==null);Ye===0&&(Ye=5)}function Tr(e,t,n){var r=be,i=Ut.transition;try{Ut.transition=null,be=1,TR(e,t,n,r)}finally{Ut.transition=i,be=r}return null}function TR(e,t,n,r){do Ni();while(or!==null);if(xe&6)throw Error(V(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(V(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(lA(e,o),e===Je&&(He=Je=null,tt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ts||(ts=!0,dN(Fs,function(){return Ni(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Ut.transition,Ut.transition=null;var a=be;be=1;var s=xe;xe|=4,Ey.current=null,bR(e,n),rN(n,e),YA(Vg),Hs=!!Hg,Vg=Hg=null,e.current=n,SR(n),JI(),xe=s,be=a,Ut.transition=o}else e.current=n;if(ts&&(ts=!1,or=e,ol=i),o=e.pendingLanes,o===0&&(fr=null),nA(n.stateNode),bt(e,Fe()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(il)throw il=!1,e=cm,cm=null,e;return ol&1&&e.tag!==0&&Ni(),o=e.pendingLanes,o&1?e===fm?Do++:(Do=0,fm=e):Do=0,br(),null}function Ni(){if(or!==null){var e=Hk(ol),t=Ut.transition,n=be;try{if(Ut.transition=null,be=16>e?16:e,or===null)var r=!1;else{if(e=or,or=null,ol=0,xe&6)throw Error(V(331));var i=xe;for(xe|=4,J=e.current;J!==null;){var o=J,a=o.child;if(J.flags&16){var s=o.deletions;if(s!==null){for(var l=0;l<s.length;l++){var u=s[l];for(J=u;J!==null;){var c=J;switch(c.tag){case 0:case 11:case 15:Lo(8,c,o)}var f=c.child;if(f!==null)f.return=c,J=f;else for(;J!==null;){c=J;var d=c.sibling,h=c.return;if(eN(c),c===u){J=null;break}if(d!==null){d.return=h,J=d;break}J=h}}}var p=o.alternate;if(p!==null){var y=p.child;if(y!==null){p.child=null;do{var w=y.sibling;y.sibling=null,y=w}while(y!==null)}}J=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,J=a;else e:for(;J!==null;){if(o=J,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Lo(9,o,o.return)}var g=o.sibling;if(g!==null){g.return=o.return,J=g;break e}J=o.return}}var v=e.current;for(J=v;J!==null;){a=J;var m=a.child;if(a.subtreeFlags&2064&&m!==null)m.return=a,J=m;else e:for(a=v;J!==null;){if(s=J,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:zl(9,s)}}catch(k){qe(s,s.return,k)}if(s===a){J=null;break e}var _=s.sibling;if(_!==null){_.return=s.return,J=_;break e}J=s.return}}if(xe=i,br(),xn&&typeof xn.onPostCommitFiberRoot=="function")try{xn.onPostCommitFiberRoot(jl,e)}catch{}r=!0}return r}finally{be=n,Ut.transition=t}}return!1}function U0(e,t,n){t=Di(n,t),t=HC(e,t,1),e=cr(e,t,1),t=ft(),e!==null&&(wa(e,1,t),bt(e,t))}function qe(e,t,n){if(e.tag===3)U0(e,e,n);else for(;t!==null;){if(t.tag===3){U0(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(fr===null||!fr.has(r))){e=Di(n,e),e=VC(t,e,1),t=cr(t,e,1),e=ft(),t!==null&&(wa(t,1,e),bt(t,e));break}}t=t.return}}function PR(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=ft(),e.pingedLanes|=e.suspendedLanes&n,Je===e&&(tt&n)===n&&(Ye===4||Ye===3&&(tt&130023424)===tt&&500>Fe()-Cy?Dr(e,0):ky|=n),bt(e,t)}function cN(e,t){t===0&&(e.mode&1?(t=Ua,Ua<<=1,!(Ua&130023424)&&(Ua=4194304)):t=1);var n=ft();e=zn(e,t),e!==null&&(wa(e,t,n),bt(e,n))}function jR(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),cN(e,n)}function IR(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(V(314))}r!==null&&r.delete(t),cN(e,n)}var fN;fN=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||wt.current)vt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return vt=!1,vR(e,t,n);vt=!!(e.flags&131072)}else vt=!1,Ie&&t.flags&1048576&&gC(t,Xs,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ns(e,t),e=t.pendingProps;var i=Ri(t,at.current);Ci(t,n),i=xy(null,t,r,e,i,n);var o=wy();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,_t(r)?(o=!0,Ys(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,py(t),i.updater=Dl,t.stateNode=i,i._reactInternals=t,Jg(t,r,e,n),t=nm(null,t,r,!0,o,n)):(t.tag=0,Ie&&o&&sy(t),ct(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ns(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=RR(r),e=Qt(r,e),i){case 0:t=tm(null,t,r,e,n);break e;case 1:t=L0(null,t,r,e,n);break e;case 11:t=R0(null,t,r,e,n);break e;case 14:t=M0(null,t,r,Qt(r.type,e),n);break e}throw Error(V(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Qt(r,i),tm(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Qt(r,i),L0(e,t,r,i,n);case 3:e:{if(YC(t),e===null)throw Error(V(387));r=t.pendingProps,o=t.memoizedState,i=o.element,_C(e,t),Js(t,r,null,n);var a=t.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=Di(Error(V(423)),t),t=O0(e,t,r,n,i);break e}else if(r!==i){i=Di(Error(V(424)),t),t=O0(e,t,r,n,i);break e}else for(At=ur(t.stateNode.containerInfo.firstChild),Lt=t,Ie=!0,en=null,n=xC(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Mi(),r===i){t=qn(e,t,n);break e}ct(e,t,r,n)}t=t.child}return t;case 5:return bC(t),e===null&&Xg(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,a=i.children,Ug(r,i)?a=null:o!==null&&Ug(r,o)&&(t.flags|=32),WC(e,t),ct(e,t,a,n),t.child;case 6:return e===null&&Xg(t),null;case 13:return KC(e,t,n);case 4:return gy(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Li(t,null,r,n):ct(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Qt(r,i),R0(e,t,r,i,n);case 7:return ct(e,t,t.pendingProps,n),t.child;case 8:return ct(e,t,t.pendingProps.children,n),t.child;case 12:return ct(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,a=i.value,ke(Qs,r._currentValue),r._currentValue=a,o!==null)if(ln(o.value,a)){if(o.children===i.children&&!wt.current){t=qn(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var s=o.dependencies;if(s!==null){a=o.child;for(var l=s.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=Ln(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Qg(o.return,n,t),s.lanes|=n;break}l=l.next}}else if(o.tag===10)a=o.type===t.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(V(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),Qg(a,n,t),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===t){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}ct(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ci(t,n),i=Gt(i),r=r(i),t.flags|=1,ct(e,t,r,n),t.child;case 14:return r=t.type,i=Qt(r,t.pendingProps),i=Qt(r.type,i),M0(e,t,r,i,n);case 15:return UC(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Qt(r,i),Ns(e,t),t.tag=1,_t(r)?(e=!0,Ys(t)):e=!1,Ci(t,n),BC(t,r,i),Jg(t,r,i,n),nm(null,t,r,!0,e,n);case 19:return XC(e,t,n);case 22:return GC(e,t,n)}throw Error(V(156,t.tag))};function dN(e,t){return qk(e,t)}function AR(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vt(e,t,n,r){return new AR(e,t,n,r)}function jy(e){return e=e.prototype,!(!e||!e.isReactComponent)}function RR(e){if(typeof e=="function")return jy(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Km)return 11;if(e===Xm)return 14}return 2}function hr(e,t){var n=e.alternate;return n===null?(n=Vt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function js(e,t,n,r,i,o){var a=2;if(r=e,typeof e=="function")jy(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case li:return zr(n.children,i,o,t);case Ym:a=8,i|=8;break;case Sg:return e=Vt(12,n,t,i|2),e.elementType=Sg,e.lanes=o,e;case Eg:return e=Vt(13,n,t,i),e.elementType=Eg,e.lanes=o,e;case kg:return e=Vt(19,n,t,i),e.elementType=kg,e.lanes=o,e;case bk:return $l(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case wk:a=10;break e;case _k:a=9;break e;case Km:a=11;break e;case Xm:a=14;break e;case Qn:a=16,r=null;break e}throw Error(V(130,e==null?e:typeof e,""))}return t=Vt(a,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function zr(e,t,n,r){return e=Vt(7,e,r,t),e.lanes=n,e}function $l(e,t,n,r){return e=Vt(22,e,r,t),e.elementType=bk,e.lanes=n,e.stateNode={isHidden:!1},e}function tc(e,t,n){return e=Vt(6,e,null,t),e.lanes=n,e}function nc(e,t,n){return t=Vt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function MR(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ou(0),this.expirationTimes=Ou(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ou(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Iy(e,t,n,r,i,o,a,s,l){return e=new MR(e,t,n,s,l),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Vt(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},py(o),e}function LR(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:si,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function hN(e){if(!e)return vr;e=e._reactInternals;e:{if(Qr(e)!==e||e.tag!==1)throw Error(V(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(_t(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(V(171))}if(e.tag===1){var n=e.type;if(_t(n))return hC(e,n,t)}return t}function pN(e,t,n,r,i,o,a,s,l){return e=Iy(n,r,!0,e,i,o,a,s,l),e.context=hN(null),n=e.current,r=ft(),i=dr(n),o=Ln(r,i),o.callback=t??null,cr(n,o,i),e.current.lanes=i,wa(e,i,r),bt(e,r),e}function Fl(e,t,n,r){var i=t.current,o=ft(),a=dr(i);return n=hN(n),t.context===null?t.context=n:t.pendingContext=n,t=Ln(o,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=cr(i,t,a),e!==null&&(an(e,i,a,o),Es(e,i,a)),a}function sl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function G0(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Ay(e,t){G0(e,t),(e=e.alternate)&&G0(e,t)}function OR(){return null}var gN=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ry(e){this._internalRoot=e}Bl.prototype.render=Ry.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(V(409));Fl(e,t,null,null)};Bl.prototype.unmount=Ry.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ur(function(){Fl(null,e,null,null)}),t[Dn]=null}};function Bl(e){this._internalRoot=e}Bl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Gk();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Jn.length&&t!==0&&t<Jn[n].priority;n++);Jn.splice(n,0,e),n===0&&Yk(e)}};function My(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Hl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function W0(){}function DR(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=sl(a);o.call(u)}}var a=pN(t,r,e,0,null,!1,!1,"",W0);return e._reactRootContainer=a,e[Dn]=a.current,Zo(e.nodeType===8?e.parentNode:e),Ur(),a}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var u=sl(l);s.call(u)}}var l=Iy(e,0,!1,null,null,!1,!1,"",W0);return e._reactRootContainer=l,e[Dn]=l.current,Zo(e.nodeType===8?e.parentNode:e),Ur(function(){Fl(t,l,n,r)}),l}function Vl(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var s=i;i=function(){var l=sl(a);s.call(l)}}Fl(t,a,e,i)}else a=DR(n,t,e,i,r);return sl(a)}Vk=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=vo(t.pendingLanes);n!==0&&(Jm(t,n|1),bt(t,Fe()),!(xe&6)&&(zi=Fe()+500,br()))}break;case 13:Ur(function(){var r=zn(e,1);if(r!==null){var i=ft();an(r,e,1,i)}}),Ay(e,1)}};ey=function(e){if(e.tag===13){var t=zn(e,134217728);if(t!==null){var n=ft();an(t,e,134217728,n)}Ay(e,134217728)}};Uk=function(e){if(e.tag===13){var t=dr(e),n=zn(e,t);if(n!==null){var r=ft();an(n,e,t,r)}Ay(e,t)}};Gk=function(){return be};Wk=function(e,t){var n=be;try{return be=e,t()}finally{be=n}};Lg=function(e,t,n){switch(t){case"input":if(Tg(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Ml(r);if(!i)throw Error(V(90));Ek(r),Tg(r,i)}}}break;case"textarea":Ck(e,n);break;case"select":t=n.value,t!=null&&bi(e,!!n.multiple,t,!1)}};Rk=Ny;Mk=Ur;var zR={usingClientEntryPoint:!1,Events:[ba,di,Ml,Ik,Ak,Ny]},co={findFiberByHostInstance:Ar,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},qR={bundleType:co.bundleType,version:co.version,rendererPackageName:co.rendererPackageName,rendererConfig:co.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Bn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Dk(e),e===null?null:e.stateNode},findFiberByHostInstance:co.findFiberByHostInstance||OR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ns=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ns.isDisabled&&ns.supportsFiber)try{jl=ns.inject(qR),xn=ns}catch{}}zt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zR;zt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!My(t))throw Error(V(200));return LR(e,t,null,n)};zt.createRoot=function(e,t){if(!My(e))throw Error(V(299));var n=!1,r="",i=gN;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Iy(e,1,!1,null,null,n,!1,r,i),e[Dn]=t.current,Zo(e.nodeType===8?e.parentNode:e),new Ry(t)};zt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(V(188)):(e=Object.keys(e).join(","),Error(V(268,e)));return e=Dk(t),e=e===null?null:e.stateNode,e};zt.flushSync=function(e){return Ur(e)};zt.hydrate=function(e,t,n){if(!Hl(t))throw Error(V(200));return Vl(null,e,t,!0,n)};zt.hydrateRoot=function(e,t,n){if(!My(e))throw Error(V(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",a=gN;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=pN(t,null,e,1,n??null,i,!1,o,a),e[Dn]=t.current,Zo(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Bl(t)};zt.render=function(e,t,n){if(!Hl(t))throw Error(V(200));return Vl(null,e,t,!1,n)};zt.unmountComponentAtNode=function(e){if(!Hl(e))throw Error(V(40));return e._reactRootContainer?(Ur(function(){Vl(null,null,e,!1,function(){e._reactRootContainer=null,e[Dn]=null})}),!0):!1};zt.unstable_batchedUpdates=Ny;zt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Hl(n))throw Error(V(200));if(e==null||e._reactInternals===void 0)throw Error(V(38));return Vl(e,t,n,!1,r)};zt.version="18.3.1-next-f1338f8080-20240426";function mN(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(mN)}catch(e){console.error(e)}}mN(),mk.exports=zt;var $R=mk.exports,Y0=$R;_g.createRoot=Y0.createRoot,_g.hydrateRoot=Y0.hydrateRoot;function Ve(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,r;n<e.length;n++)(r=Ve(e[n]))!==""&&(t+=(t&&" ")+r);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var FR={value:()=>{}};function Ul(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Is(n)}function Is(e){this._=e}function BR(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Is.prototype=Ul.prototype={constructor:Is,on:function(e,t){var n=this._,r=BR(e+"",n),i,o=-1,a=r.length;if(arguments.length<2){for(;++o<a;)if((i=(e=r[o]).type)&&(i=HR(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<a;)if(i=(e=r[o]).type)n[i]=K0(n[i],e.name,t);else if(t==null)for(i in n)n[i]=K0(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Is(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],r=0,i=o.length;r<i;++r)o[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};function HR(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function K0(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=FR,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var pm="http://www.w3.org/1999/xhtml";const X0={svg:"http://www.w3.org/2000/svg",xhtml:pm,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Gl(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),X0.hasOwnProperty(t)?{space:X0[t],local:e}:e}function VR(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===pm&&t.documentElement.namespaceURI===pm?t.createElement(e):t.createElementNS(n,e)}}function UR(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function yN(e){var t=Gl(e);return(t.local?UR:VR)(t)}function GR(){}function Ly(e){return e==null?GR:function(){return this.querySelector(e)}}function WR(e){typeof e!="function"&&(e=Ly(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],a=o.length,s=r[i]=new Array(a),l,u,c=0;c<a;++c)(l=o[c])&&(u=e.call(l,l.__data__,c,o))&&("__data__"in l&&(u.__data__=l.__data__),s[c]=u);return new Dt(r,this._parents)}function YR(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function KR(){return[]}function vN(e){return e==null?KR:function(){return this.querySelectorAll(e)}}function XR(e){return function(){return YR(e.apply(this,arguments))}}function QR(e){typeof e=="function"?e=XR(e):e=vN(e);for(var t=this._groups,n=t.length,r=[],i=[],o=0;o<n;++o)for(var a=t[o],s=a.length,l,u=0;u<s;++u)(l=a[u])&&(r.push(e.call(l,l.__data__,u,a)),i.push(l));return new Dt(r,i)}function xN(e){return function(){return this.matches(e)}}function wN(e){return function(t){return t.matches(e)}}var ZR=Array.prototype.find;function JR(e){return function(){return ZR.call(this.children,e)}}function eM(){return this.firstElementChild}function tM(e){return this.select(e==null?eM:JR(typeof e=="function"?e:wN(e)))}var nM=Array.prototype.filter;function rM(){return Array.from(this.children)}function iM(e){return function(){return nM.call(this.children,e)}}function oM(e){return this.selectAll(e==null?rM:iM(typeof e=="function"?e:wN(e)))}function aM(e){typeof e!="function"&&(e=xN(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],a=o.length,s=r[i]=[],l,u=0;u<a;++u)(l=o[u])&&e.call(l,l.__data__,u,o)&&s.push(l);return new Dt(r,this._parents)}function _N(e){return new Array(e.length)}function sM(){return new Dt(this._enter||this._groups.map(_N),this._parents)}function ll(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}ll.prototype={constructor:ll,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function lM(e){return function(){return e}}function uM(e,t,n,r,i,o){for(var a=0,s,l=t.length,u=o.length;a<u;++a)(s=t[a])?(s.__data__=o[a],r[a]=s):n[a]=new ll(e,o[a]);for(;a<l;++a)(s=t[a])&&(i[a]=s)}function cM(e,t,n,r,i,o,a){var s,l,u=new Map,c=t.length,f=o.length,d=new Array(c),h;for(s=0;s<c;++s)(l=t[s])&&(d[s]=h=a.call(l,l.__data__,s,t)+"",u.has(h)?i[s]=l:u.set(h,l));for(s=0;s<f;++s)h=a.call(e,o[s],s,o)+"",(l=u.get(h))?(r[s]=l,l.__data__=o[s],u.delete(h)):n[s]=new ll(e,o[s]);for(s=0;s<c;++s)(l=t[s])&&u.get(d[s])===l&&(i[s]=l)}function fM(e){return e.__data__}function dM(e,t){if(!arguments.length)return Array.from(this,fM);var n=t?cM:uM,r=this._parents,i=this._groups;typeof e!="function"&&(e=lM(e));for(var o=i.length,a=new Array(o),s=new Array(o),l=new Array(o),u=0;u<o;++u){var c=r[u],f=i[u],d=f.length,h=hM(e.call(c,c&&c.__data__,u,r)),p=h.length,y=s[u]=new Array(p),w=a[u]=new Array(p),g=l[u]=new Array(d);n(c,f,y,w,g,h,t);for(var v=0,m=0,_,k;v<p;++v)if(_=y[v]){for(v>=m&&(m=v+1);!(k=w[m])&&++m<p;);_._next=k||null}}return a=new Dt(a,r),a._enter=s,a._exit=l,a}function hM(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function pM(){return new Dt(this._exit||this._groups.map(_N),this._parents)}function gM(e,t,n){var r=this.enter(),i=this,o=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function mM(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,o=r.length,a=Math.min(i,o),s=new Array(i),l=0;l<a;++l)for(var u=n[l],c=r[l],f=u.length,d=s[l]=new Array(f),h,p=0;p<f;++p)(h=u[p]||c[p])&&(d[p]=h);for(;l<i;++l)s[l]=n[l];return new Dt(s,this._parents)}function yM(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,o=r[i],a;--i>=0;)(a=r[i])&&(o&&a.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(a,o),o=a);return this}function vM(e){e||(e=xM);function t(f,d){return f&&d?e(f.__data__,d.__data__):!f-!d}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a=n[o],s=a.length,l=i[o]=new Array(s),u,c=0;c<s;++c)(u=a[c])&&(l[c]=u);l.sort(t)}return new Dt(i,this._parents).order()}function xM(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function wM(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function _M(){return Array.from(this)}function bM(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null}function SM(){let e=0;for(const t of this)++e;return e}function EM(){return!this.node()}function kM(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],o=0,a=i.length,s;o<a;++o)(s=i[o])&&e.call(s,s.__data__,o,i);return this}function CM(e){return function(){this.removeAttribute(e)}}function NM(e){return function(){this.removeAttributeNS(e.space,e.local)}}function TM(e,t){return function(){this.setAttribute(e,t)}}function PM(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function jM(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function IM(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function AM(e,t){var n=Gl(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?NM:CM:typeof t=="function"?n.local?IM:jM:n.local?PM:TM)(n,t))}function bN(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function RM(e){return function(){this.style.removeProperty(e)}}function MM(e,t,n){return function(){this.style.setProperty(e,t,n)}}function LM(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function OM(e,t,n){return arguments.length>1?this.each((t==null?RM:typeof t=="function"?LM:MM)(e,t,n??"")):qi(this.node(),e)}function qi(e,t){return e.style.getPropertyValue(t)||bN(e).getComputedStyle(e,null).getPropertyValue(t)}function DM(e){return function(){delete this[e]}}function zM(e,t){return function(){this[e]=t}}function qM(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function $M(e,t){return arguments.length>1?this.each((t==null?DM:typeof t=="function"?qM:zM)(e,t)):this.node()[e]}function SN(e){return e.trim().split(/^|\s+/)}function Oy(e){return e.classList||new EN(e)}function EN(e){this._node=e,this._names=SN(e.getAttribute("class")||"")}EN.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function kN(e,t){for(var n=Oy(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function CN(e,t){for(var n=Oy(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function FM(e){return function(){kN(this,e)}}function BM(e){return function(){CN(this,e)}}function HM(e,t){return function(){(t.apply(this,arguments)?kN:CN)(this,e)}}function VM(e,t){var n=SN(e+"");if(arguments.length<2){for(var r=Oy(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?HM:t?FM:BM)(n,t))}function UM(){this.textContent=""}function GM(e){return function(){this.textContent=e}}function WM(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function YM(e){return arguments.length?this.each(e==null?UM:(typeof e=="function"?WM:GM)(e)):this.node().textContent}function KM(){this.innerHTML=""}function XM(e){return function(){this.innerHTML=e}}function QM(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function ZM(e){return arguments.length?this.each(e==null?KM:(typeof e=="function"?QM:XM)(e)):this.node().innerHTML}function JM(){this.nextSibling&&this.parentNode.appendChild(this)}function eL(){return this.each(JM)}function tL(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function nL(){return this.each(tL)}function rL(e){var t=typeof e=="function"?e:yN(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function iL(){return null}function oL(e,t){var n=typeof e=="function"?e:yN(e),r=t==null?iL:typeof t=="function"?t:Ly(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function aL(){var e=this.parentNode;e&&e.removeChild(this)}function sL(){return this.each(aL)}function lL(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function uL(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function cL(e){return this.select(e?uL:lL)}function fL(e){return arguments.length?this.property("__data__",e):this.node().__data__}function dL(e){return function(t){e.call(this,t,this.__data__)}}function hL(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function pL(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,o;n<i;++n)o=t[n],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):t[++r]=o;++r?t.length=r:delete this.__on}}}function gL(e,t,n){return function(){var r=this.__on,i,o=dL(t);if(r){for(var a=0,s=r.length;a<s;++a)if((i=r[a]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=t;return}}this.addEventListener(e.type,o,n),i={type:e.type,name:e.name,value:t,listener:o,options:n},r?r.push(i):this.__on=[i]}}function mL(e,t,n){var r=hL(e+""),i,o=r.length,a;if(arguments.length<2){var s=this.node().__on;if(s){for(var l=0,u=s.length,c;l<u;++l)for(i=0,c=s[l];i<o;++i)if((a=r[i]).type===c.type&&a.name===c.name)return c.value}return}for(s=t?gL:pL,i=0;i<o;++i)this.each(s(r[i],t,n));return this}function NN(e,t,n){var r=bN(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function yL(e,t){return function(){return NN(this,e,t)}}function vL(e,t){return function(){return NN(this,e,t.apply(this,arguments))}}function xL(e,t){return this.each((typeof t=="function"?vL:yL)(e,t))}function*wL(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length,a;i<o;++i)(a=r[i])&&(yield a)}var TN=[null];function Dt(e,t){this._groups=e,this._parents=t}function Ea(){return new Dt([[document.documentElement]],TN)}function _L(){return this}Dt.prototype=Ea.prototype={constructor:Dt,select:WR,selectAll:QR,selectChild:tM,selectChildren:oM,filter:aM,data:dM,enter:sM,exit:pM,join:gM,merge:mM,selection:_L,order:yM,sort:vM,call:wM,nodes:_M,node:bM,size:SM,empty:EM,each:kM,attr:AM,style:OM,property:$M,classed:VM,text:YM,html:ZM,raise:eL,lower:nL,append:rL,insert:oL,remove:sL,clone:cL,datum:fL,on:mL,dispatch:xL,[Symbol.iterator]:wL};function It(e){return typeof e=="string"?new Dt([[document.querySelector(e)]],[document.documentElement]):new Dt([[e]],TN)}function bL(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Jt(e,t){if(e=bL(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}const SL={passive:!1},sa={capture:!0,passive:!1};function rc(e){e.stopImmediatePropagation()}function Ti(e){e.preventDefault(),e.stopImmediatePropagation()}function PN(e){var t=e.document.documentElement,n=It(e).on("dragstart.drag",Ti,sa);"onselectstart"in t?n.on("selectstart.drag",Ti,sa):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function jN(e,t){var n=e.document.documentElement,r=It(e).on("dragstart.drag",null);t&&(r.on("click.drag",Ti,sa),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const rs=e=>()=>e;function gm(e,{sourceEvent:t,subject:n,target:r,identifier:i,active:o,x:a,y:s,dx:l,dy:u,dispatch:c}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:a,enumerable:!0,configurable:!0},y:{value:s,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:c}})}gm.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function EL(e){return!e.ctrlKey&&!e.button}function kL(){return this.parentNode}function CL(e,t){return t??{x:e.x,y:e.y}}function NL(){return navigator.maxTouchPoints||"ontouchstart"in this}function IN(){var e=EL,t=kL,n=CL,r=NL,i={},o=Ul("start","drag","end"),a=0,s,l,u,c,f=0;function d(_){_.on("mousedown.drag",h).filter(r).on("touchstart.drag",w).on("touchmove.drag",g,SL).on("touchend.drag touchcancel.drag",v).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function h(_,k){if(!(c||!e.call(this,_,k))){var b=m(this,t.call(this,_,k),_,k,"mouse");b&&(It(_.view).on("mousemove.drag",p,sa).on("mouseup.drag",y,sa),PN(_.view),rc(_),u=!1,s=_.clientX,l=_.clientY,b("start",_))}}function p(_){if(Ti(_),!u){var k=_.clientX-s,b=_.clientY-l;u=k*k+b*b>f}i.mouse("drag",_)}function y(_){It(_.view).on("mousemove.drag mouseup.drag",null),jN(_.view,u),Ti(_),i.mouse("end",_)}function w(_,k){if(e.call(this,_,k)){var b=_.changedTouches,E=t.call(this,_,k),T=b.length,M,D;for(M=0;M<T;++M)(D=m(this,E,_,k,b[M].identifier,b[M]))&&(rc(_),D("start",_,b[M]))}}function g(_){var k=_.changedTouches,b=k.length,E,T;for(E=0;E<b;++E)(T=i[k[E].identifier])&&(Ti(_),T("drag",_,k[E]))}function v(_){var k=_.changedTouches,b=k.length,E,T;for(c&&clearTimeout(c),c=setTimeout(function(){c=null},500),E=0;E<b;++E)(T=i[k[E].identifier])&&(rc(_),T("end",_,k[E]))}function m(_,k,b,E,T,M){var D=o.copy(),P=Jt(M||b,k),O,q,j;if((j=n.call(_,new gm("beforestart",{sourceEvent:b,target:d,identifier:T,active:a,x:P[0],y:P[1],dx:0,dy:0,dispatch:D}),E))!=null)return O=j.x-P[0]||0,q=j.y-P[1]||0,function A(z,R,C){var I=P,S;switch(z){case"start":i[T]=A,S=a++;break;case"end":delete i[T],--a;case"drag":P=Jt(C||R,k),S=a;break}D.call(z,_,new gm(z,{sourceEvent:R,subject:j,target:d,identifier:T,active:S,x:P[0]+O,y:P[1]+q,dx:P[0]-I[0],dy:P[1]-I[1],dispatch:D}),E)}}return d.filter=function(_){return arguments.length?(e=typeof _=="function"?_:rs(!!_),d):e},d.container=function(_){return arguments.length?(t=typeof _=="function"?_:rs(_),d):t},d.subject=function(_){return arguments.length?(n=typeof _=="function"?_:rs(_),d):n},d.touchable=function(_){return arguments.length?(r=typeof _=="function"?_:rs(!!_),d):r},d.on=function(){var _=o.on.apply(o,arguments);return _===o?d:_},d.clickDistance=function(_){return arguments.length?(f=(_=+_)*_,d):Math.sqrt(f)},d}function Dy(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function AN(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function ka(){}var la=.7,ul=1/la,Pi="\\s*([+-]?\\d+)\\s*",ua="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",_n="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",TL=/^#([0-9a-f]{3,8})$/,PL=new RegExp(`^rgb\\(${Pi},${Pi},${Pi}\\)$`),jL=new RegExp(`^rgb\\(${_n},${_n},${_n}\\)$`),IL=new RegExp(`^rgba\\(${Pi},${Pi},${Pi},${ua}\\)$`),AL=new RegExp(`^rgba\\(${_n},${_n},${_n},${ua}\\)$`),RL=new RegExp(`^hsl\\(${ua},${_n},${_n}\\)$`),ML=new RegExp(`^hsla\\(${ua},${_n},${_n},${ua}\\)$`),Q0={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Dy(ka,Gr,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Z0,formatHex:Z0,formatHex8:LL,formatHsl:OL,formatRgb:J0,toString:J0});function Z0(){return this.rgb().formatHex()}function LL(){return this.rgb().formatHex8()}function OL(){return RN(this).formatHsl()}function J0(){return this.rgb().formatRgb()}function Gr(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=TL.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?ex(t):n===3?new xt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?is(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?is(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=PL.exec(e))?new xt(t[1],t[2],t[3],1):(t=jL.exec(e))?new xt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=IL.exec(e))?is(t[1],t[2],t[3],t[4]):(t=AL.exec(e))?is(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=RL.exec(e))?rx(t[1],t[2]/100,t[3]/100,1):(t=ML.exec(e))?rx(t[1],t[2]/100,t[3]/100,t[4]):Q0.hasOwnProperty(e)?ex(Q0[e]):e==="transparent"?new xt(NaN,NaN,NaN,0):null}function ex(e){return new xt(e>>16&255,e>>8&255,e&255,1)}function is(e,t,n,r){return r<=0&&(e=t=n=NaN),new xt(e,t,n,r)}function DL(e){return e instanceof ka||(e=Gr(e)),e?(e=e.rgb(),new xt(e.r,e.g,e.b,e.opacity)):new xt}function mm(e,t,n,r){return arguments.length===1?DL(e):new xt(e,t,n,r??1)}function xt(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Dy(xt,mm,AN(ka,{brighter(e){return e=e==null?ul:Math.pow(ul,e),new xt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?la:Math.pow(la,e),new xt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new xt(qr(this.r),qr(this.g),qr(this.b),cl(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:tx,formatHex:tx,formatHex8:zL,formatRgb:nx,toString:nx}));function tx(){return`#${Lr(this.r)}${Lr(this.g)}${Lr(this.b)}`}function zL(){return`#${Lr(this.r)}${Lr(this.g)}${Lr(this.b)}${Lr((isNaN(this.opacity)?1:this.opacity)*255)}`}function nx(){const e=cl(this.opacity);return`${e===1?"rgb(":"rgba("}${qr(this.r)}, ${qr(this.g)}, ${qr(this.b)}${e===1?")":`, ${e})`}`}function cl(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function qr(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Lr(e){return e=qr(e),(e<16?"0":"")+e.toString(16)}function rx(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new tn(e,t,n,r)}function RN(e){if(e instanceof tn)return new tn(e.h,e.s,e.l,e.opacity);if(e instanceof ka||(e=Gr(e)),!e)return new tn;if(e instanceof tn)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(t===o?a=(n-r)/s+(n<r)*6:n===o?a=(r-t)/s+2:a=(t-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new tn(a,s,l,e.opacity)}function qL(e,t,n,r){return arguments.length===1?RN(e):new tn(e,t,n,r??1)}function tn(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Dy(tn,qL,AN(ka,{brighter(e){return e=e==null?ul:Math.pow(ul,e),new tn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?la:Math.pow(la,e),new tn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new xt(ic(e>=240?e-240:e+120,i,r),ic(e,i,r),ic(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new tn(ix(this.h),os(this.s),os(this.l),cl(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=cl(this.opacity);return`${e===1?"hsl(":"hsla("}${ix(this.h)}, ${os(this.s)*100}%, ${os(this.l)*100}%${e===1?")":`, ${e})`}`}}));function ix(e){return e=(e||0)%360,e<0?e+360:e}function os(e){return Math.max(0,Math.min(1,e||0))}function ic(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const zy=e=>()=>e;function $L(e,t){return function(n){return e+n*t}}function FL(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function BL(e){return(e=+e)==1?MN:function(t,n){return n-t?FL(t,n,e):zy(isNaN(t)?n:t)}}function MN(e,t){var n=t-e;return n?$L(e,n):zy(isNaN(e)?t:e)}const fl=function e(t){var n=BL(t);function r(i,o){var a=n((i=mm(i)).r,(o=mm(o)).r),s=n(i.g,o.g),l=n(i.b,o.b),u=MN(i.opacity,o.opacity);return function(c){return i.r=a(c),i.g=s(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=e,r}(1);function HL(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=e[i]*(1-o)+t[i]*o;return r}}function VL(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function UL(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=zo(e[a],t[a]);for(;a<n;++a)o[a]=t[a];return function(s){for(a=0;a<r;++a)o[a]=i[a](s);return o}}function GL(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function gn(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function WL(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=zo(e[i],t[i]):r[i]=t[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var ym=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,oc=new RegExp(ym.source,"g");function YL(e){return function(){return e}}function KL(e){return function(t){return e(t)+""}}function LN(e,t){var n=ym.lastIndex=oc.lastIndex=0,r,i,o,a=-1,s=[],l=[];for(e=e+"",t=t+"";(r=ym.exec(e))&&(i=oc.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),s[a]?s[a]+=o:s[++a]=o),(r=r[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,l.push({i:a,x:gn(r,i)})),n=oc.lastIndex;return n<t.length&&(o=t.slice(n),s[a]?s[a]+=o:s[++a]=o),s.length<2?l[0]?KL(l[0].x):YL(t):(t=l.length,function(u){for(var c=0,f;c<t;++c)s[(f=l[c]).i]=f.x(u);return s.join("")})}function zo(e,t){var n=typeof t,r;return t==null||n==="boolean"?zy(t):(n==="number"?gn:n==="string"?(r=Gr(t))?(t=r,fl):LN:t instanceof Gr?fl:t instanceof Date?GL:VL(t)?HL:Array.isArray(t)?UL:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?WL:gn)(e,t)}var ox=180/Math.PI,vm={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function ON(e,t,n,r,i,o){var a,s,l;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,l/=s),e*r<t*n&&(e=-e,t=-t,l=-l,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*ox,skewX:Math.atan(l)*ox,scaleX:a,scaleY:s}}var as;function XL(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?vm:ON(t.a,t.b,t.c,t.d,t.e,t.f)}function QL(e){return e==null||(as||(as=document.createElementNS("http://www.w3.org/2000/svg","g")),as.setAttribute("transform",e),!(e=as.transform.baseVal.consolidate()))?vm:(e=e.matrix,ON(e.a,e.b,e.c,e.d,e.e,e.f))}function DN(e,t,n,r){function i(u){return u.length?u.pop()+" ":""}function o(u,c,f,d,h,p){if(u!==f||c!==d){var y=h.push("translate(",null,t,null,n);p.push({i:y-4,x:gn(u,f)},{i:y-2,x:gn(c,d)})}else(f||d)&&h.push("translate("+f+t+d+n)}function a(u,c,f,d){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),d.push({i:f.push(i(f)+"rotate(",null,r)-2,x:gn(u,c)})):c&&f.push(i(f)+"rotate("+c+r)}function s(u,c,f,d){u!==c?d.push({i:f.push(i(f)+"skewX(",null,r)-2,x:gn(u,c)}):c&&f.push(i(f)+"skewX("+c+r)}function l(u,c,f,d,h,p){if(u!==f||c!==d){var y=h.push(i(h)+"scale(",null,",",null,")");p.push({i:y-4,x:gn(u,f)},{i:y-2,x:gn(c,d)})}else(f!==1||d!==1)&&h.push(i(h)+"scale("+f+","+d+")")}return function(u,c){var f=[],d=[];return u=e(u),c=e(c),o(u.translateX,u.translateY,c.translateX,c.translateY,f,d),a(u.rotate,c.rotate,f,d),s(u.skewX,c.skewX,f,d),l(u.scaleX,u.scaleY,c.scaleX,c.scaleY,f,d),u=c=null,function(h){for(var p=-1,y=d.length,w;++p<y;)f[(w=d[p]).i]=w.x(h);return f.join("")}}}var ZL=DN(XL,"px, ","px)","deg)"),JL=DN(QL,", ",")",")"),eO=1e-12;function ax(e){return((e=Math.exp(e))+1/e)/2}function tO(e){return((e=Math.exp(e))-1/e)/2}function nO(e){return((e=Math.exp(2*e))-1)/(e+1)}const As=function e(t,n,r){function i(o,a){var s=o[0],l=o[1],u=o[2],c=a[0],f=a[1],d=a[2],h=c-s,p=f-l,y=h*h+p*p,w,g;if(y<eO)g=Math.log(d/u)/t,w=function(E){return[s+E*h,l+E*p,u*Math.exp(t*E*g)]};else{var v=Math.sqrt(y),m=(d*d-u*u+r*y)/(2*u*n*v),_=(d*d-u*u-r*y)/(2*d*n*v),k=Math.log(Math.sqrt(m*m+1)-m),b=Math.log(Math.sqrt(_*_+1)-_);g=(b-k)/t,w=function(E){var T=E*g,M=ax(k),D=u/(n*v)*(M*nO(t*T+k)-tO(k));return[s+D*h,l+D*p,u*M/ax(t*T+k)]}}return w.duration=g*1e3*t/Math.SQRT2,w}return i.rho=function(o){var a=Math.max(.001,+o),s=a*a,l=s*s;return e(a,s,l)},i}(Math.SQRT2,2,4);var $i=0,wo=0,fo=0,zN=1e3,dl,_o,hl=0,Wr=0,Wl=0,ca=typeof performance=="object"&&performance.now?performance:Date,qN=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function qy(){return Wr||(qN(rO),Wr=ca.now()+Wl)}function rO(){Wr=0}function pl(){this._call=this._time=this._next=null}pl.prototype=$N.prototype={constructor:pl,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?qy():+n)+(t==null?0:+t),!this._next&&_o!==this&&(_o?_o._next=this:dl=this,_o=this),this._call=e,this._time=n,xm()},stop:function(){this._call&&(this._call=null,this._time=1/0,xm())}};function $N(e,t,n){var r=new pl;return r.restart(e,t,n),r}function iO(){qy(),++$i;for(var e=dl,t;e;)(t=Wr-e._time)>=0&&e._call.call(void 0,t),e=e._next;--$i}function sx(){Wr=(hl=ca.now())+Wl,$i=wo=0;try{iO()}finally{$i=0,aO(),Wr=0}}function oO(){var e=ca.now(),t=e-hl;t>zN&&(Wl-=t,hl=e)}function aO(){for(var e,t=dl,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:dl=n);_o=e,xm(r)}function xm(e){if(!$i){wo&&(wo=clearTimeout(wo));var t=e-Wr;t>24?(e<1/0&&(wo=setTimeout(sx,e-ca.now()-Wl)),fo&&(fo=clearInterval(fo))):(fo||(hl=ca.now(),fo=setInterval(oO,zN)),$i=1,qN(sx))}}function lx(e,t,n){var r=new pl;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}var sO=Ul("start","end","cancel","interrupt"),lO=[],FN=0,ux=1,wm=2,Rs=3,cx=4,_m=5,Ms=6;function Yl(e,t,n,r,i,o){var a=e.__transition;if(!a)e.__transition={};else if(n in a)return;uO(e,n,{name:t,index:r,group:i,on:sO,tween:lO,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:FN})}function $y(e,t){var n=un(e,t);if(n.state>FN)throw new Error("too late; already scheduled");return n}function En(e,t){var n=un(e,t);if(n.state>Rs)throw new Error("too late; already running");return n}function un(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function uO(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=$N(o,0,n.time);function o(u){n.state=ux,n.timer.restart(a,n.delay,n.time),n.delay<=u&&a(u-n.delay)}function a(u){var c,f,d,h;if(n.state!==ux)return l();for(c in r)if(h=r[c],h.name===n.name){if(h.state===Rs)return lx(a);h.state===cx?(h.state=Ms,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete r[c]):+c<t&&(h.state=Ms,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete r[c])}if(lx(function(){n.state===Rs&&(n.state=cx,n.timer.restart(s,n.delay,n.time),s(u))}),n.state=wm,n.on.call("start",e,e.__data__,n.index,n.group),n.state===wm){for(n.state=Rs,i=new Array(d=n.tween.length),c=0,f=-1;c<d;++c)(h=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(i[++f]=h);i.length=f+1}}function s(u){for(var c=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(l),n.state=_m,1),f=-1,d=i.length;++f<d;)i[f].call(e,c);n.state===_m&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){n.state=Ms,n.timer.stop(),delete r[t];for(var u in r)return;delete e.__transition}}function Ls(e,t){var n=e.__transition,r,i,o=!0,a;if(n){t=t==null?null:t+"";for(a in n){if((r=n[a]).name!==t){o=!1;continue}i=r.state>wm&&r.state<_m,r.state=Ms,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[a]}o&&delete e.__transition}}function cO(e){return this.each(function(){Ls(this,e)})}function fO(e,t){var n,r;return function(){var i=En(this,e),o=i.tween;if(o!==n){r=n=o;for(var a=0,s=r.length;a<s;++a)if(r[a].name===t){r=r.slice(),r.splice(a,1);break}}i.tween=r}}function dO(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=En(this,e),a=o.tween;if(a!==r){i=(r=a).slice();for(var s={name:t,value:n},l=0,u=i.length;l<u;++l)if(i[l].name===t){i[l]=s;break}l===u&&i.push(s)}o.tween=i}}function hO(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=un(this.node(),n).tween,i=0,o=r.length,a;i<o;++i)if((a=r[i]).name===e)return a.value;return null}return this.each((t==null?fO:dO)(n,e,t))}function Fy(e,t,n){var r=e._id;return e.each(function(){var i=En(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return un(i,r).value[t]}}function BN(e,t){var n;return(typeof t=="number"?gn:t instanceof Gr?fl:(n=Gr(t))?(t=n,fl):LN)(e,t)}function pO(e){return function(){this.removeAttribute(e)}}function gO(e){return function(){this.removeAttributeNS(e.space,e.local)}}function mO(e,t,n){var r,i=n+"",o;return function(){var a=this.getAttribute(e);return a===i?null:a===r?o:o=t(r=a,n)}}function yO(e,t,n){var r,i=n+"",o;return function(){var a=this.getAttributeNS(e.space,e.local);return a===i?null:a===r?o:o=t(r=a,n)}}function vO(e,t,n){var r,i,o;return function(){var a,s=n(this),l;return s==null?void this.removeAttribute(e):(a=this.getAttribute(e),l=s+"",a===l?null:a===r&&l===i?o:(i=l,o=t(r=a,s)))}}function xO(e,t,n){var r,i,o;return function(){var a,s=n(this),l;return s==null?void this.removeAttributeNS(e.space,e.local):(a=this.getAttributeNS(e.space,e.local),l=s+"",a===l?null:a===r&&l===i?o:(i=l,o=t(r=a,s)))}}function wO(e,t){var n=Gl(e),r=n==="transform"?JL:BN;return this.attrTween(e,typeof t=="function"?(n.local?xO:vO)(n,r,Fy(this,"attr."+e,t)):t==null?(n.local?gO:pO)(n):(n.local?yO:mO)(n,r,t))}function _O(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function bO(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function SO(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&bO(e,o)),n}return i._value=t,i}function EO(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&_O(e,o)),n}return i._value=t,i}function kO(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=Gl(e);return this.tween(n,(r.local?SO:EO)(r,t))}function CO(e,t){return function(){$y(this,e).delay=+t.apply(this,arguments)}}function NO(e,t){return t=+t,function(){$y(this,e).delay=t}}function TO(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?CO:NO)(t,e)):un(this.node(),t).delay}function PO(e,t){return function(){En(this,e).duration=+t.apply(this,arguments)}}function jO(e,t){return t=+t,function(){En(this,e).duration=t}}function IO(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?PO:jO)(t,e)):un(this.node(),t).duration}function AO(e,t){if(typeof t!="function")throw new Error;return function(){En(this,e).ease=t}}function RO(e){var t=this._id;return arguments.length?this.each(AO(t,e)):un(this.node(),t).ease}function MO(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;En(this,e).ease=n}}function LO(e){if(typeof e!="function")throw new Error;return this.each(MO(this._id,e))}function OO(e){typeof e!="function"&&(e=xN(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],a=o.length,s=r[i]=[],l,u=0;u<a;++u)(l=o[u])&&e.call(l,l.__data__,u,o)&&s.push(l);return new $n(r,this._parents,this._name,this._id)}function DO(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var l=t[s],u=n[s],c=l.length,f=a[s]=new Array(c),d,h=0;h<c;++h)(d=l[h]||u[h])&&(f[h]=d);for(;s<r;++s)a[s]=t[s];return new $n(a,this._parents,this._name,this._id)}function zO(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function qO(e,t,n){var r,i,o=zO(t)?$y:En;return function(){var a=o(this,e),s=a.on;s!==r&&(i=(r=s).copy()).on(t,n),a.on=i}}function $O(e,t){var n=this._id;return arguments.length<2?un(this.node(),n).on.on(e):this.each(qO(n,e,t))}function FO(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function BO(){return this.on("end.remove",FO(this._id))}function HO(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Ly(e));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var s=r[a],l=s.length,u=o[a]=new Array(l),c,f,d=0;d<l;++d)(c=s[d])&&(f=e.call(c,c.__data__,d,s))&&("__data__"in c&&(f.__data__=c.__data__),u[d]=f,Yl(u[d],t,n,d,u,un(c,n)));return new $n(o,this._parents,t,n)}function VO(e){var t=this._name,n=this._id;typeof e!="function"&&(e=vN(e));for(var r=this._groups,i=r.length,o=[],a=[],s=0;s<i;++s)for(var l=r[s],u=l.length,c,f=0;f<u;++f)if(c=l[f]){for(var d=e.call(c,c.__data__,f,l),h,p=un(c,n),y=0,w=d.length;y<w;++y)(h=d[y])&&Yl(h,t,n,y,d,p);o.push(d),a.push(c)}return new $n(o,a,t,n)}var UO=Ea.prototype.constructor;function GO(){return new UO(this._groups,this._parents)}function WO(e,t){var n,r,i;return function(){var o=qi(this,e),a=(this.style.removeProperty(e),qi(this,e));return o===a?null:o===n&&a===r?i:i=t(n=o,r=a)}}function HN(e){return function(){this.style.removeProperty(e)}}function YO(e,t,n){var r,i=n+"",o;return function(){var a=qi(this,e);return a===i?null:a===r?o:o=t(r=a,n)}}function KO(e,t,n){var r,i,o;return function(){var a=qi(this,e),s=n(this),l=s+"";return s==null&&(l=s=(this.style.removeProperty(e),qi(this,e))),a===l?null:a===r&&l===i?o:(i=l,o=t(r=a,s))}}function XO(e,t){var n,r,i,o="style."+t,a="end."+o,s;return function(){var l=En(this,e),u=l.on,c=l.value[o]==null?s||(s=HN(t)):void 0;(u!==n||i!==c)&&(r=(n=u).copy()).on(a,i=c),l.on=r}}function QO(e,t,n){var r=(e+="")=="transform"?ZL:BN;return t==null?this.styleTween(e,WO(e,r)).on("end.style."+e,HN(e)):typeof t=="function"?this.styleTween(e,KO(e,r,Fy(this,"style."+e,t))).each(XO(this._id,e)):this.styleTween(e,YO(e,r,t),n).on("end.style."+e,null)}function ZO(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function JO(e,t,n){var r,i;function o(){var a=t.apply(this,arguments);return a!==i&&(r=(i=a)&&ZO(e,a,n)),r}return o._value=t,o}function e4(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,JO(e,t,n??""))}function t4(e){return function(){this.textContent=e}}function n4(e){return function(){var t=e(this);this.textContent=t??""}}function r4(e){return this.tween("text",typeof e=="function"?n4(Fy(this,"text",e)):t4(e==null?"":e+""))}function i4(e){return function(t){this.textContent=e.call(this,t)}}function o4(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&i4(i)),t}return r._value=e,r}function a4(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,o4(e))}function s4(){for(var e=this._name,t=this._id,n=VN(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],s=a.length,l,u=0;u<s;++u)if(l=a[u]){var c=un(l,t);Yl(l,e,n,u,a,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new $n(r,this._parents,e,n)}function l4(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(o,a){var s={value:a},l={value:function(){--i===0&&o()}};n.each(function(){var u=En(this,r),c=u.on;c!==e&&(t=(e=c).copy(),t._.cancel.push(s),t._.interrupt.push(s),t._.end.push(l)),u.on=t}),i===0&&o()})}var u4=0;function $n(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function VN(){return++u4}var Cn=Ea.prototype;$n.prototype={constructor:$n,select:HO,selectAll:VO,selectChild:Cn.selectChild,selectChildren:Cn.selectChildren,filter:OO,merge:DO,selection:GO,transition:s4,call:Cn.call,nodes:Cn.nodes,node:Cn.node,size:Cn.size,empty:Cn.empty,each:Cn.each,on:$O,attr:wO,attrTween:kO,style:QO,styleTween:e4,text:r4,textTween:a4,remove:BO,tween:hO,delay:TO,duration:IO,ease:RO,easeVarying:LO,end:l4,[Symbol.iterator]:Cn[Symbol.iterator]};function c4(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var f4={time:null,delay:0,duration:250,ease:c4};function d4(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function h4(e){var t,n;e instanceof $n?(t=e._id,e=e._name):(t=VN(),(n=f4).time=qy(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],s=a.length,l,u=0;u<s;++u)(l=a[u])&&Yl(l,e,t,u,a,n||d4(l,t));return new $n(r,this._parents,e,t)}Ea.prototype.interrupt=cO;Ea.prototype.transition=h4;const ss=e=>()=>e;function p4(e,{sourceEvent:t,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function An(e,t,n){this.k=e,this.x=t,this.y=n}An.prototype={constructor:An,scale:function(e){return e===1?this:new An(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new An(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Kl=new An(1,0,0);UN.prototype=An.prototype;function UN(e){for(;!e.__zoom;)if(!(e=e.parentNode))return Kl;return e.__zoom}function ac(e){e.stopImmediatePropagation()}function ho(e){e.preventDefault(),e.stopImmediatePropagation()}function g4(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function m4(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function fx(){return this.__zoom||Kl}function y4(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function v4(){return navigator.maxTouchPoints||"ontouchstart"in this}function x4(e,t,n){var r=e.invertX(t[0][0])-n[0][0],i=e.invertX(t[1][0])-n[1][0],o=e.invertY(t[0][1])-n[0][1],a=e.invertY(t[1][1])-n[1][1];return e.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),a>o?(o+a)/2:Math.min(0,o)||Math.max(0,a))}function GN(){var e=g4,t=m4,n=x4,r=y4,i=v4,o=[0,1/0],a=[[-1/0,-1/0],[1/0,1/0]],s=250,l=As,u=Ul("start","zoom","end"),c,f,d,h=500,p=150,y=0,w=10;function g(j){j.property("__zoom",fx).on("wheel.zoom",T,{passive:!1}).on("mousedown.zoom",M).on("dblclick.zoom",D).filter(i).on("touchstart.zoom",P).on("touchmove.zoom",O).on("touchend.zoom touchcancel.zoom",q).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}g.transform=function(j,A,z,R){var C=j.selection?j.selection():j;C.property("__zoom",fx),j!==C?k(j,A,z,R):C.interrupt().each(function(){b(this,arguments).event(R).start().zoom(null,typeof A=="function"?A.apply(this,arguments):A).end()})},g.scaleBy=function(j,A,z,R){g.scaleTo(j,function(){var C=this.__zoom.k,I=typeof A=="function"?A.apply(this,arguments):A;return C*I},z,R)},g.scaleTo=function(j,A,z,R){g.transform(j,function(){var C=t.apply(this,arguments),I=this.__zoom,S=z==null?_(C):typeof z=="function"?z.apply(this,arguments):z,$=I.invert(S),F=typeof A=="function"?A.apply(this,arguments):A;return n(m(v(I,F),S,$),C,a)},z,R)},g.translateBy=function(j,A,z,R){g.transform(j,function(){return n(this.__zoom.translate(typeof A=="function"?A.apply(this,arguments):A,typeof z=="function"?z.apply(this,arguments):z),t.apply(this,arguments),a)},null,R)},g.translateTo=function(j,A,z,R,C){g.transform(j,function(){var I=t.apply(this,arguments),S=this.__zoom,$=R==null?_(I):typeof R=="function"?R.apply(this,arguments):R;return n(Kl.translate($[0],$[1]).scale(S.k).translate(typeof A=="function"?-A.apply(this,arguments):-A,typeof z=="function"?-z.apply(this,arguments):-z),I,a)},R,C)};function v(j,A){return A=Math.max(o[0],Math.min(o[1],A)),A===j.k?j:new An(A,j.x,j.y)}function m(j,A,z){var R=A[0]-z[0]*j.k,C=A[1]-z[1]*j.k;return R===j.x&&C===j.y?j:new An(j.k,R,C)}function _(j){return[(+j[0][0]+ +j[1][0])/2,(+j[0][1]+ +j[1][1])/2]}function k(j,A,z,R){j.on("start.zoom",function(){b(this,arguments).event(R).start()}).on("interrupt.zoom end.zoom",function(){b(this,arguments).event(R).end()}).tween("zoom",function(){var C=this,I=arguments,S=b(C,I).event(R),$=t.apply(C,I),F=z==null?_($):typeof z=="function"?z.apply(C,I):z,N=Math.max($[1][0]-$[0][0],$[1][1]-$[0][1]),H=C.__zoom,X=typeof A=="function"?A.apply(C,I):A,Y=l(H.invert(F).concat(N/H.k),X.invert(F).concat(N/X.k));return function(Q){if(Q===1)Q=X;else{var W=Y(Q),ee=N/W[2];Q=new An(ee,F[0]-W[0]*ee,F[1]-W[1]*ee)}S.zoom(null,Q)}})}function b(j,A,z){return!z&&j.__zooming||new E(j,A)}function E(j,A){this.that=j,this.args=A,this.active=0,this.sourceEvent=null,this.extent=t.apply(j,A),this.taps=0}E.prototype={event:function(j){return j&&(this.sourceEvent=j),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(j,A){return this.mouse&&j!=="mouse"&&(this.mouse[1]=A.invert(this.mouse[0])),this.touch0&&j!=="touch"&&(this.touch0[1]=A.invert(this.touch0[0])),this.touch1&&j!=="touch"&&(this.touch1[1]=A.invert(this.touch1[0])),this.that.__zoom=A,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(j){var A=It(this.that).datum();u.call(j,this.that,new p4(j,{sourceEvent:this.sourceEvent,target:g,transform:this.that.__zoom,dispatch:u}),A)}};function T(j,...A){if(!e.apply(this,arguments))return;var z=b(this,A).event(j),R=this.__zoom,C=Math.max(o[0],Math.min(o[1],R.k*Math.pow(2,r.apply(this,arguments)))),I=Jt(j);if(z.wheel)(z.mouse[0][0]!==I[0]||z.mouse[0][1]!==I[1])&&(z.mouse[1]=R.invert(z.mouse[0]=I)),clearTimeout(z.wheel);else{if(R.k===C)return;z.mouse=[I,R.invert(I)],Ls(this),z.start()}ho(j),z.wheel=setTimeout(S,p),z.zoom("mouse",n(m(v(R,C),z.mouse[0],z.mouse[1]),z.extent,a));function S(){z.wheel=null,z.end()}}function M(j,...A){if(d||!e.apply(this,arguments))return;var z=j.currentTarget,R=b(this,A,!0).event(j),C=It(j.view).on("mousemove.zoom",F,!0).on("mouseup.zoom",N,!0),I=Jt(j,z),S=j.clientX,$=j.clientY;PN(j.view),ac(j),R.mouse=[I,this.__zoom.invert(I)],Ls(this),R.start();function F(H){if(ho(H),!R.moved){var X=H.clientX-S,Y=H.clientY-$;R.moved=X*X+Y*Y>y}R.event(H).zoom("mouse",n(m(R.that.__zoom,R.mouse[0]=Jt(H,z),R.mouse[1]),R.extent,a))}function N(H){C.on("mousemove.zoom mouseup.zoom",null),jN(H.view,R.moved),ho(H),R.event(H).end()}}function D(j,...A){if(e.apply(this,arguments)){var z=this.__zoom,R=Jt(j.changedTouches?j.changedTouches[0]:j,this),C=z.invert(R),I=z.k*(j.shiftKey?.5:2),S=n(m(v(z,I),R,C),t.apply(this,A),a);ho(j),s>0?It(this).transition().duration(s).call(k,S,R,j):It(this).call(g.transform,S,R,j)}}function P(j,...A){if(e.apply(this,arguments)){var z=j.touches,R=z.length,C=b(this,A,j.changedTouches.length===R).event(j),I,S,$,F;for(ac(j),S=0;S<R;++S)$=z[S],F=Jt($,this),F=[F,this.__zoom.invert(F),$.identifier],C.touch0?!C.touch1&&C.touch0[2]!==F[2]&&(C.touch1=F,C.taps=0):(C.touch0=F,I=!0,C.taps=1+!!c);c&&(c=clearTimeout(c)),I&&(C.taps<2&&(f=F[0],c=setTimeout(function(){c=null},h)),Ls(this),C.start())}}function O(j,...A){if(this.__zooming){var z=b(this,A).event(j),R=j.changedTouches,C=R.length,I,S,$,F;for(ho(j),I=0;I<C;++I)S=R[I],$=Jt(S,this),z.touch0&&z.touch0[2]===S.identifier?z.touch0[0]=$:z.touch1&&z.touch1[2]===S.identifier&&(z.touch1[0]=$);if(S=z.that.__zoom,z.touch1){var N=z.touch0[0],H=z.touch0[1],X=z.touch1[0],Y=z.touch1[1],Q=(Q=X[0]-N[0])*Q+(Q=X[1]-N[1])*Q,W=(W=Y[0]-H[0])*W+(W=Y[1]-H[1])*W;S=v(S,Math.sqrt(Q/W)),$=[(N[0]+X[0])/2,(N[1]+X[1])/2],F=[(H[0]+Y[0])/2,(H[1]+Y[1])/2]}else if(z.touch0)$=z.touch0[0],F=z.touch0[1];else return;z.zoom("touch",n(m(S,$,F),z.extent,a))}}function q(j,...A){if(this.__zooming){var z=b(this,A).event(j),R=j.changedTouches,C=R.length,I,S;for(ac(j),d&&clearTimeout(d),d=setTimeout(function(){d=null},h),I=0;I<C;++I)S=R[I],z.touch0&&z.touch0[2]===S.identifier?delete z.touch0:z.touch1&&z.touch1[2]===S.identifier&&delete z.touch1;if(z.touch1&&!z.touch0&&(z.touch0=z.touch1,delete z.touch1),z.touch0)z.touch0[1]=this.__zoom.invert(z.touch0[0]);else if(z.end(),z.taps===2&&(S=Jt(S,this),Math.hypot(f[0]-S[0],f[1]-S[1])<w)){var $=It(this).on("dblclick.zoom");$&&$.apply(this,arguments)}}}return g.wheelDelta=function(j){return arguments.length?(r=typeof j=="function"?j:ss(+j),g):r},g.filter=function(j){return arguments.length?(e=typeof j=="function"?j:ss(!!j),g):e},g.touchable=function(j){return arguments.length?(i=typeof j=="function"?j:ss(!!j),g):i},g.extent=function(j){return arguments.length?(t=typeof j=="function"?j:ss([[+j[0][0],+j[0][1]],[+j[1][0],+j[1][1]]]),g):t},g.scaleExtent=function(j){return arguments.length?(o[0]=+j[0],o[1]=+j[1],g):[o[0],o[1]]},g.translateExtent=function(j){return arguments.length?(a[0][0]=+j[0][0],a[1][0]=+j[1][0],a[0][1]=+j[0][1],a[1][1]=+j[1][1],g):[[a[0][0],a[0][1]],[a[1][0],a[1][1]]]},g.constrain=function(j){return arguments.length?(n=j,g):n},g.duration=function(j){return arguments.length?(s=+j,g):s},g.interpolate=function(j){return arguments.length?(l=j,g):l},g.on=function(){var j=u.on.apply(u,arguments);return j===u?g:j},g.clickDistance=function(j){return arguments.length?(y=(j=+j)*j,g):Math.sqrt(y)},g.tapDistance=function(j){return arguments.length?(w=+j,g):w},g}const bn={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,{id:t,sourceHandle:n,targetHandle:r})=>`Couldn't create edge for ${e} handle id: "${e==="source"?n:r}", edge id: ${t}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(e="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${e}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},fa=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],WN=["Enter"," ","Escape"],YN={"node.a11yDescription.default":"Press enter or space to select a node. Press delete to remove it and escape to cancel.","node.a11yDescription.keyboardDisabled":"Press enter or space to select a node. You can then use the arrow keys to move the node around. Press delete to remove it and escape to cancel.","node.a11yDescription.ariaLiveMessage":({direction:e,x:t,y:n})=>`Moved selected node ${e}. New position, x: ${t}, y: ${n}`,"edge.a11yDescription.default":"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.","controls.ariaLabel":"Control Panel","controls.zoomIn.ariaLabel":"Zoom In","controls.zoomOut.ariaLabel":"Zoom Out","controls.fitView.ariaLabel":"Fit View","controls.interactive.ariaLabel":"Toggle Interactivity","minimap.ariaLabel":"Mini Map","handle.ariaLabel":"Handle"};var Fi;(function(e){e.Strict="strict",e.Loose="loose"})(Fi||(Fi={}));var $r;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})($r||($r={}));var da;(function(e){e.Partial="partial",e.Full="full"})(da||(da={}));const KN={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null,pointer:null};var tr;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(tr||(tr={}));var gl;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(gl||(gl={}));var K;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(K||(K={}));const dx={[K.Left]:K.Right,[K.Right]:K.Left,[K.Top]:K.Bottom,[K.Bottom]:K.Top};function XN(e){return e===null?null:e?"valid":"invalid"}const QN=e=>"id"in e&&"source"in e&&"target"in e,w4=e=>"id"in e&&"position"in e&&!("source"in e)&&!("target"in e),By=e=>"id"in e&&"internals"in e&&!("source"in e)&&!("target"in e),Ca=(e,t=[0,0])=>{const{width:n,height:r}=Hn(e),i=e.origin??t,o=n*i[0],a=r*i[1];return{x:e.position.x-o,y:e.position.y-a}},_4=(e,t={nodeOrigin:[0,0]})=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((r,i)=>{const o=typeof i=="string";let a=!t.nodeLookup&&!o?i:void 0;t.nodeLookup&&(a=o?t.nodeLookup.get(i):By(i)?i:t.nodeLookup.get(i.id));const s=a?ml(a,t.nodeOrigin):{x:0,y:0,x2:0,y2:0};return Xl(r,s)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return Ql(n)},Na=(e,t={})=>{let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0},r=!1;return e.forEach(i=>{(t.filter===void 0||t.filter(i))&&(n=Xl(n,ml(i)),r=!0)}),r?Ql(n):{x:0,y:0,width:0,height:0}},Hy=(e,t,[n,r,i]=[0,0,1],o=!1,a=!1)=>{const s={...Pa(t,[n,r,i]),width:t.width/i,height:t.height/i},l=[];for(const u of e.values()){const{measured:c,selectable:f=!0,hidden:d=!1}=u;if(a&&!f||d)continue;const h=c.width??u.width??u.initialWidth??null,p=c.height??u.height??u.initialHeight??null,y=ha(s,Hi(u)),w=(h??0)*(p??0),g=o&&y>0;(!u.internals.handleBounds||g||y>=w||u.dragging)&&l.push(u)}return l},b4=(e,t)=>{const n=new Set;return e.forEach(r=>{n.add(r.id)}),t.filter(r=>n.has(r.source)||n.has(r.target))};function S4(e,t){const n=new Map,r=t!=null&&t.nodes?new Set(t.nodes.map(i=>i.id)):null;return e.forEach(i=>{i.measured.width&&i.measured.height&&((t==null?void 0:t.includeHiddenNodes)||!i.hidden)&&(!r||r.has(i.id))&&n.set(i.id,i)}),n}async function E4({nodes:e,width:t,height:n,panZoom:r,minZoom:i,maxZoom:o},a){if(e.size===0)return Promise.resolve(!0);const s=S4(e,a),l=Na(s),u=Vy(l,t,n,(a==null?void 0:a.minZoom)??i,(a==null?void 0:a.maxZoom)??o,(a==null?void 0:a.padding)??.1);return await r.setViewport(u,{duration:a==null?void 0:a.duration,ease:a==null?void 0:a.ease,interpolate:a==null?void 0:a.interpolate}),Promise.resolve(!0)}function ZN({nodeId:e,nextPosition:t,nodeLookup:n,nodeOrigin:r=[0,0],nodeExtent:i,onError:o}){const a=n.get(e),s=a.parentId?n.get(a.parentId):void 0,{x:l,y:u}=s?s.internals.positionAbsolute:{x:0,y:0},c=a.origin??r;let f=a.extent||i;if(a.extent==="parent"&&!a.expandParent)if(!s)o==null||o("005",bn.error005());else{const h=s.measured.width,p=s.measured.height;h&&p&&(f=[[l,u],[l+h,u+p]])}else s&&Vi(a.extent)&&(f=[[a.extent[0][0]+l,a.extent[0][1]+u],[a.extent[1][0]+l,a.extent[1][1]+u]]);const d=Vi(f)?Yr(t,f,a.measured):t;return(a.measured.width===void 0||a.measured.height===void 0)&&(o==null||o("015",bn.error015())),{position:{x:d.x-l+(a.measured.width??0)*c[0],y:d.y-u+(a.measured.height??0)*c[1]},positionAbsolute:d}}async function k4({nodesToRemove:e=[],edgesToRemove:t=[],nodes:n,edges:r,onBeforeDelete:i}){const o=new Set(e.map(d=>d.id)),a=[];for(const d of n){if(d.deletable===!1)continue;const h=o.has(d.id),p=!h&&d.parentId&&a.find(y=>y.id===d.parentId);(h||p)&&a.push(d)}const s=new Set(t.map(d=>d.id)),l=r.filter(d=>d.deletable!==!1),c=b4(a,l);for(const d of l)s.has(d.id)&&!c.find(p=>p.id===d.id)&&c.push(d);if(!i)return{edges:c,nodes:a};const f=await i({nodes:a,edges:c});return typeof f=="boolean"?f?{edges:c,nodes:a}:{edges:[],nodes:[]}:f}const Bi=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),Yr=(e={x:0,y:0},t,n)=>({x:Bi(e.x,t[0][0],t[1][0]-((n==null?void 0:n.width)??0)),y:Bi(e.y,t[0][1],t[1][1]-((n==null?void 0:n.height)??0))});function JN(e,t,n){const{width:r,height:i}=Hn(n),{x:o,y:a}=n.internals.positionAbsolute;return Yr(e,[[o,a],[o+r,a+i]],t)}const hx=(e,t,n)=>e<t?Bi(Math.abs(e-t),1,t)/t:e>n?-Bi(Math.abs(e-n),1,t)/t:0,e2=(e,t,n=15,r=40)=>{const i=hx(e.x,r,t.width-r)*n,o=hx(e.y,r,t.height-r)*n;return[i,o]},Xl=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),bm=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),Ql=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),Hi=(e,t=[0,0])=>{var i,o;const{x:n,y:r}=By(e)?e.internals.positionAbsolute:Ca(e,t);return{x:n,y:r,width:((i=e.measured)==null?void 0:i.width)??e.width??e.initialWidth??0,height:((o=e.measured)==null?void 0:o.height)??e.height??e.initialHeight??0}},ml=(e,t=[0,0])=>{var i,o;const{x:n,y:r}=By(e)?e.internals.positionAbsolute:Ca(e,t);return{x:n,y:r,x2:n+(((i=e.measured)==null?void 0:i.width)??e.width??e.initialWidth??0),y2:r+(((o=e.measured)==null?void 0:o.height)??e.height??e.initialHeight??0)}},t2=(e,t)=>Ql(Xl(bm(e),bm(t))),ha=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},px=e=>nn(e.width)&&nn(e.height)&&nn(e.x)&&nn(e.y),nn=e=>!isNaN(e)&&isFinite(e),C4=(e,t)=>{},Ta=(e,t=[1,1])=>({x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}),Pa=({x:e,y:t},[n,r,i],o=!1,a=[1,1])=>{const s={x:(e-n)/i,y:(t-r)/i};return o?Ta(s,a):s},yl=({x:e,y:t},[n,r,i])=>({x:e*i+n,y:t*i+r});function oi(e,t){if(typeof e=="number")return Math.floor((t-t/(1+e))*.5);if(typeof e=="string"&&e.endsWith("px")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(n)}if(typeof e=="string"&&e.endsWith("%")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(t*n*.01)}return console.error(`[React Flow] The padding value "${e}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function N4(e,t,n){if(typeof e=="string"||typeof e=="number"){const r=oi(e,n),i=oi(e,t);return{top:r,right:i,bottom:r,left:i,x:i*2,y:r*2}}if(typeof e=="object"){const r=oi(e.top??e.y??0,n),i=oi(e.bottom??e.y??0,n),o=oi(e.left??e.x??0,t),a=oi(e.right??e.x??0,t);return{top:r,right:a,bottom:i,left:o,x:o+a,y:r+i}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function T4(e,t,n,r,i,o){const{x:a,y:s}=yl(e,[t,n,r]),{x:l,y:u}=yl({x:e.x+e.width,y:e.y+e.height},[t,n,r]),c=i-l,f=o-u;return{left:Math.floor(a),top:Math.floor(s),right:Math.floor(c),bottom:Math.floor(f)}}const Vy=(e,t,n,r,i,o)=>{const a=N4(o,t,n),s=(t-a.x)/e.width,l=(n-a.y)/e.height,u=Math.min(s,l),c=Bi(u,r,i),f=e.x+e.width/2,d=e.y+e.height/2,h=t/2-f*c,p=n/2-d*c,y=T4(e,h,p,c,t,n),w={left:Math.min(y.left-a.left,0),top:Math.min(y.top-a.top,0),right:Math.min(y.right-a.right,0),bottom:Math.min(y.bottom-a.bottom,0)};return{x:h-w.left+w.right,y:p-w.top+w.bottom,zoom:c}},pa=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0};function Vi(e){return e!=null&&e!=="parent"}function Hn(e){var t,n;return{width:((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth??0,height:((n=e.measured)==null?void 0:n.height)??e.height??e.initialHeight??0}}function n2(e){var t,n;return(((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth)!==void 0&&(((n=e.measured)==null?void 0:n.height)??e.height??e.initialHeight)!==void 0}function r2(e,t={width:0,height:0},n,r,i){const o={...e},a=r.get(n);if(a){const s=a.origin||i;o.x+=a.internals.positionAbsolute.x-(t.width??0)*s[0],o.y+=a.internals.positionAbsolute.y-(t.height??0)*s[1]}return o}function gx(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function P4(){let e,t;return{promise:new Promise((r,i)=>{e=r,t=i}),resolve:e,reject:t}}function j4(e){return{...YN,...e||{}}}function qo(e,{snapGrid:t=[0,0],snapToGrid:n=!1,transform:r,containerBounds:i}){const{x:o,y:a}=rn(e),s=Pa({x:o-((i==null?void 0:i.left)??0),y:a-((i==null?void 0:i.top)??0)},r),{x:l,y:u}=n?Ta(s,t):s;return{xSnapped:l,ySnapped:u,...s}}const Uy=e=>({width:e.offsetWidth,height:e.offsetHeight}),i2=e=>{var t;return((t=e==null?void 0:e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},I4=["INPUT","SELECT","TEXTAREA"];function o2(e){var r,i;const t=((i=(r=e.composedPath)==null?void 0:r.call(e))==null?void 0:i[0])||e.target;return(t==null?void 0:t.nodeType)!==1?!1:I4.includes(t.nodeName)||t.hasAttribute("contenteditable")||!!t.closest(".nokey")}const a2=e=>"clientX"in e,rn=(e,t)=>{var o,a;const n=a2(e),r=n?e.clientX:(o=e.touches)==null?void 0:o[0].clientX,i=n?e.clientY:(a=e.touches)==null?void 0:a[0].clientY;return{x:r-((t==null?void 0:t.left)??0),y:i-((t==null?void 0:t.top)??0)}},mx=(e,t,n,r,i)=>{const o=t.querySelectorAll(`.${e}`);return!o||!o.length?null:Array.from(o).map(a=>{const s=a.getBoundingClientRect();return{id:a.getAttribute("data-handleid"),type:e,nodeId:i,position:a.getAttribute("data-handlepos"),x:(s.left-n.left)/r,y:(s.top-n.top)/r,...Uy(a)}})};function s2({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:i,sourceControlY:o,targetControlX:a,targetControlY:s}){const l=e*.125+i*.375+a*.375+n*.125,u=t*.125+o*.375+s*.375+r*.125,c=Math.abs(l-e),f=Math.abs(u-t);return[l,u,c,f]}function ls(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function yx({pos:e,x1:t,y1:n,x2:r,y2:i,c:o}){switch(e){case K.Left:return[t-ls(t-r,o),n];case K.Right:return[t+ls(r-t,o),n];case K.Top:return[t,n-ls(n-i,o)];case K.Bottom:return[t,n+ls(i-n,o)]}}function l2({sourceX:e,sourceY:t,sourcePosition:n=K.Bottom,targetX:r,targetY:i,targetPosition:o=K.Top,curvature:a=.25}){const[s,l]=yx({pos:n,x1:e,y1:t,x2:r,y2:i,c:a}),[u,c]=yx({pos:o,x1:r,y1:i,x2:e,y2:t,c:a}),[f,d,h,p]=s2({sourceX:e,sourceY:t,targetX:r,targetY:i,sourceControlX:s,sourceControlY:l,targetControlX:u,targetControlY:c});return[`M${e},${t} C${s},${l} ${u},${c} ${r},${i}`,f,d,h,p]}function u2({sourceX:e,sourceY:t,targetX:n,targetY:r}){const i=Math.abs(n-e)/2,o=n<e?n+i:n-i,a=Math.abs(r-t)/2,s=r<t?r+a:r-a;return[o,s,i,a]}function A4({sourceNode:e,targetNode:t,selected:n=!1,zIndex:r=0,elevateOnSelect:i=!1,zIndexMode:o="basic"}){if(o==="manual")return r;const a=i&&n?r+1e3:r,s=Math.max(e.parentId||i&&e.selected?e.internals.z:0,t.parentId||i&&t.selected?t.internals.z:0);return a+s}function R4({sourceNode:e,targetNode:t,width:n,height:r,transform:i}){const o=Xl(ml(e),ml(t));o.x===o.x2&&(o.x2+=1),o.y===o.y2&&(o.y2+=1);const a={x:-i[0]/i[2],y:-i[1]/i[2],width:n/i[2],height:r/i[2]};return ha(a,Ql(o))>0}const M4=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`xy-edge__${e}${t||""}-${n}${r||""}`,L4=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),O4=(e,t,n={})=>{if(!e.source||!e.target)return t;const r=n.getEdgeId||M4;let i;return QN(e)?i={...e}:i={...e,id:r(e)},L4(i,t)?t:(i.sourceHandle===null&&delete i.sourceHandle,i.targetHandle===null&&delete i.targetHandle,t.concat(i))};function c2({sourceX:e,sourceY:t,targetX:n,targetY:r}){const[i,o,a,s]=u2({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,i,o,a,s]}const vx={[K.Left]:{x:-1,y:0},[K.Right]:{x:1,y:0},[K.Top]:{x:0,y:-1},[K.Bottom]:{x:0,y:1}},D4=({source:e,sourcePosition:t=K.Bottom,target:n})=>t===K.Left||t===K.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},xx=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function z4({source:e,sourcePosition:t=K.Bottom,target:n,targetPosition:r=K.Top,center:i,offset:o,stepPosition:a}){const s=vx[t],l=vx[r],u={x:e.x+s.x*o,y:e.y+s.y*o},c={x:n.x+l.x*o,y:n.y+l.y*o},f=D4({source:u,sourcePosition:t,target:c}),d=f.x!==0?"x":"y",h=f[d];let p=[],y,w;const g={x:0,y:0},v={x:0,y:0},[,,m,_]=u2({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(s[d]*l[d]===-1){d==="x"?(y=i.x??u.x+(c.x-u.x)*a,w=i.y??(u.y+c.y)/2):(y=i.x??(u.x+c.x)/2,w=i.y??u.y+(c.y-u.y)*a);const b=[{x:y,y:u.y},{x:y,y:c.y}],E=[{x:u.x,y:w},{x:c.x,y:w}];s[d]===h?p=d==="x"?b:E:p=d==="x"?E:b}else{const b=[{x:u.x,y:c.y}],E=[{x:c.x,y:u.y}];if(d==="x"?p=s.x===h?E:b:p=s.y===h?b:E,t===r){const O=Math.abs(e[d]-n[d]);if(O<=o){const q=Math.min(o-1,o-O);s[d]===h?g[d]=(u[d]>e[d]?-1:1)*q:v[d]=(c[d]>n[d]?-1:1)*q}}if(t!==r){const O=d==="x"?"y":"x",q=s[d]===l[O],j=u[O]>c[O],A=u[O]<c[O];(s[d]===1&&(!q&&j||q&&A)||s[d]!==1&&(!q&&A||q&&j))&&(p=d==="x"?b:E)}const T={x:u.x+g.x,y:u.y+g.y},M={x:c.x+v.x,y:c.y+v.y},D=Math.max(Math.abs(T.x-p[0].x),Math.abs(M.x-p[0].x)),P=Math.max(Math.abs(T.y-p[0].y),Math.abs(M.y-p[0].y));D>=P?(y=(T.x+M.x)/2,w=p[0].y):(y=p[0].x,w=(T.y+M.y)/2)}return[[e,{x:u.x+g.x,y:u.y+g.y},...p,{x:c.x+v.x,y:c.y+v.y},n],y,w,m,_]}function q4(e,t,n,r){const i=Math.min(xx(e,t)/2,xx(t,n)/2,r),{x:o,y:a}=t;if(e.x===o&&o===n.x||e.y===a&&a===n.y)return`L${o} ${a}`;if(e.y===a){const u=e.x<n.x?-1:1,c=e.y<n.y?1:-1;return`L ${o+i*u},${a}Q ${o},${a} ${o},${a+i*c}`}const s=e.x<n.x?1:-1,l=e.y<n.y?-1:1;return`L ${o},${a+i*l}Q ${o},${a} ${o+i*s},${a}`}function vl({sourceX:e,sourceY:t,sourcePosition:n=K.Bottom,targetX:r,targetY:i,targetPosition:o=K.Top,borderRadius:a=5,centerX:s,centerY:l,offset:u=20,stepPosition:c=.5}){const[f,d,h,p,y]=z4({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:i},targetPosition:o,center:{x:s,y:l},offset:u,stepPosition:c});return[f.reduce((g,v,m)=>{let _="";return m>0&&m<f.length-1?_=q4(f[m-1],v,f[m+1],a):_=`${m===0?"M":"L"}${v.x} ${v.y}`,g+=_,g},""),d,h,p,y]}function wx(e){var t;return e&&!!(e.internals.handleBounds||(t=e.handles)!=null&&t.length)&&!!(e.measured.width||e.width||e.initialWidth)}function $4(e){var f;const{sourceNode:t,targetNode:n}=e;if(!wx(t)||!wx(n))return null;const r=t.internals.handleBounds||_x(t.handles),i=n.internals.handleBounds||_x(n.handles),o=bx((r==null?void 0:r.source)??[],e.sourceHandle),a=bx(e.connectionMode===Fi.Strict?(i==null?void 0:i.target)??[]:((i==null?void 0:i.target)??[]).concat((i==null?void 0:i.source)??[]),e.targetHandle);if(!o||!a)return(f=e.onError)==null||f.call(e,"008",bn.error008(o?"target":"source",{id:e.id,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle})),null;const s=(o==null?void 0:o.position)||K.Bottom,l=(a==null?void 0:a.position)||K.Top,u=Kr(t,o,s),c=Kr(n,a,l);return{sourceX:u.x,sourceY:u.y,targetX:c.x,targetY:c.y,sourcePosition:s,targetPosition:l}}function _x(e){if(!e)return null;const t=[],n=[];for(const r of e)r.width=r.width??1,r.height=r.height??1,r.type==="source"?t.push(r):r.type==="target"&&n.push(r);return{source:t,target:n}}function Kr(e,t,n=K.Left,r=!1){const i=((t==null?void 0:t.x)??0)+e.internals.positionAbsolute.x,o=((t==null?void 0:t.y)??0)+e.internals.positionAbsolute.y,{width:a,height:s}=t??Hn(e);if(r)return{x:i+a/2,y:o+s/2};switch((t==null?void 0:t.position)??n){case K.Top:return{x:i+a/2,y:o};case K.Right:return{x:i+a,y:o+s/2};case K.Bottom:return{x:i+a/2,y:o+s};case K.Left:return{x:i,y:o+s/2}}}function bx(e,t){return e&&(t?e.find(n=>n.id===t):e[0])||null}function Sm(e,t){return e?typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`:""}function F4(e,{id:t,defaultColor:n,defaultMarkerStart:r,defaultMarkerEnd:i}){const o=new Set;return e.reduce((a,s)=>([s.markerStart||r,s.markerEnd||i].forEach(l=>{if(l&&typeof l=="object"){const u=Sm(l,t);o.has(u)||(a.push({id:u,color:l.color||n,...l}),o.add(u))}}),a),[]).sort((a,s)=>a.id.localeCompare(s.id))}const f2=1e3,B4=10,Gy={nodeOrigin:[0,0],nodeExtent:fa,elevateNodesOnSelect:!0,zIndexMode:"basic",defaults:{}},H4={...Gy,checkEquality:!0};function Wy(e,t){const n={...e};for(const r in t)t[r]!==void 0&&(n[r]=t[r]);return n}function V4(e,t,n){const r=Wy(Gy,n);for(const i of e.values())if(i.parentId)Ky(i,e,t,r);else{const o=Ca(i,r.nodeOrigin),a=Vi(i.extent)?i.extent:r.nodeExtent,s=Yr(o,a,Hn(i));i.internals.positionAbsolute=s}}function U4(e,t){if(!e.handles)return e.measured?t==null?void 0:t.internals.handleBounds:void 0;const n=[],r=[];for(const i of e.handles){const o={id:i.id,width:i.width??1,height:i.height??1,nodeId:e.id,x:i.x,y:i.y,position:i.position,type:i.type};i.type==="source"?n.push(o):i.type==="target"&&r.push(o)}return{source:n,target:r}}function Yy(e){return e==="manual"}function Em(e,t,n,r={}){var u,c;const i=Wy(H4,r),o={i:0},a=new Map(t),s=i!=null&&i.elevateNodesOnSelect&&!Yy(i.zIndexMode)?f2:0;let l=e.length>0;t.clear(),n.clear();for(const f of e){let d=a.get(f.id);if(i.checkEquality&&f===(d==null?void 0:d.internals.userNode))t.set(f.id,d);else{const h=Ca(f,i.nodeOrigin),p=Vi(f.extent)?f.extent:i.nodeExtent,y=Yr(h,p,Hn(f));d={...i.defaults,...f,measured:{width:(u=f.measured)==null?void 0:u.width,height:(c=f.measured)==null?void 0:c.height},internals:{positionAbsolute:y,handleBounds:U4(f,d),z:d2(f,s,i.zIndexMode),userNode:f}},t.set(f.id,d)}(d.measured===void 0||d.measured.width===void 0||d.measured.height===void 0)&&!d.hidden&&(l=!1),f.parentId&&Ky(d,t,n,r,o)}return l}function G4(e,t){if(!e.parentId)return;const n=t.get(e.parentId);n?n.set(e.id,e):t.set(e.parentId,new Map([[e.id,e]]))}function Ky(e,t,n,r,i){const{elevateNodesOnSelect:o,nodeOrigin:a,nodeExtent:s,zIndexMode:l}=Wy(Gy,r),u=e.parentId,c=t.get(u);if(!c){console.warn(`Parent node ${u} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}G4(e,n),i&&!c.parentId&&c.internals.rootParentIndex===void 0&&l==="auto"&&(c.internals.rootParentIndex=++i.i,c.internals.z=c.internals.z+i.i*B4),i&&c.internals.rootParentIndex!==void 0&&(i.i=c.internals.rootParentIndex);const f=o&&!Yy(l)?f2:0,{x:d,y:h,z:p}=W4(e,c,a,s,f,l),{positionAbsolute:y}=e.internals,w=d!==y.x||h!==y.y;(w||p!==e.internals.z)&&t.set(e.id,{...e,internals:{...e.internals,positionAbsolute:w?{x:d,y:h}:y,z:p}})}function d2(e,t,n){const r=nn(e.zIndex)?e.zIndex:0;return Yy(n)?r:r+(e.selected?t:0)}function W4(e,t,n,r,i,o){const{x:a,y:s}=t.internals.positionAbsolute,l=Hn(e),u=Ca(e,n),c=Vi(e.extent)?Yr(u,e.extent,l):u;let f=Yr({x:a+c.x,y:s+c.y},r,l);e.extent==="parent"&&(f=JN(f,l,t));const d=d2(e,i,o),h=t.internals.z??0;return{x:f.x,y:f.y,z:h>=d?h+1:d}}function Xy(e,t,n,r=[0,0]){var a;const i=[],o=new Map;for(const s of e){const l=t.get(s.parentId);if(!l)continue;const u=((a=o.get(s.parentId))==null?void 0:a.expandedRect)??Hi(l),c=t2(u,s.rect);o.set(s.parentId,{expandedRect:c,parent:l})}return o.size>0&&o.forEach(({expandedRect:s,parent:l},u)=>{var m;const c=l.internals.positionAbsolute,f=Hn(l),d=l.origin??r,h=s.x<c.x?Math.round(Math.abs(c.x-s.x)):0,p=s.y<c.y?Math.round(Math.abs(c.y-s.y)):0,y=Math.max(f.width,Math.round(s.width)),w=Math.max(f.height,Math.round(s.height)),g=(y-f.width)*d[0],v=(w-f.height)*d[1];(h>0||p>0||g||v)&&(i.push({id:u,type:"position",position:{x:l.position.x-h+g,y:l.position.y-p+v}}),(m=n.get(u))==null||m.forEach(_=>{e.some(k=>k.id===_.id)||i.push({id:_.id,type:"position",position:{x:_.position.x+h,y:_.position.y+p}})})),(f.width<s.width||f.height<s.height||h||p)&&i.push({id:u,type:"dimensions",setAttributes:!0,dimensions:{width:y+(h?d[0]*h-g:0),height:w+(p?d[1]*p-v:0)}})}),i}function Y4(e,t,n,r,i,o,a){const s=r==null?void 0:r.querySelector(".xyflow__viewport");let l=!1;if(!s)return{changes:[],updatedInternals:l};const u=[],c=window.getComputedStyle(s),{m22:f}=new window.DOMMatrixReadOnly(c.transform),d=[];for(const h of e.values()){const p=t.get(h.id);if(!p)continue;if(p.hidden){t.set(p.id,{...p,internals:{...p.internals,handleBounds:void 0}}),l=!0;continue}const y=Uy(h.nodeElement),w=p.measured.width!==y.width||p.measured.height!==y.height;if(!!(y.width&&y.height&&(w||!p.internals.handleBounds||h.force))){const v=h.nodeElement.getBoundingClientRect(),m=Vi(p.extent)?p.extent:o;let{positionAbsolute:_}=p.internals;p.parentId&&p.extent==="parent"?_=JN(_,y,t.get(p.parentId)):m&&(_=Yr(_,m,y));const k={...p,measured:y,internals:{...p.internals,positionAbsolute:_,handleBounds:{source:mx("source",h.nodeElement,v,f,p.id),target:mx("target",h.nodeElement,v,f,p.id)}}};t.set(p.id,k),p.parentId&&Ky(k,t,n,{nodeOrigin:i,zIndexMode:a}),l=!0,w&&(u.push({id:p.id,type:"dimensions",dimensions:y}),p.expandParent&&p.parentId&&d.push({id:p.id,parentId:p.parentId,rect:Hi(k,i)}))}}if(d.length>0){const h=Xy(d,t,n,i);u.push(...h)}return{changes:u,updatedInternals:l}}async function K4({delta:e,panZoom:t,transform:n,translateExtent:r,width:i,height:o}){if(!t||!e.x&&!e.y)return Promise.resolve(!1);const a=await t.setViewportConstrained({x:n[0]+e.x,y:n[1]+e.y,zoom:n[2]},[[0,0],[i,o]],r),s=!!a&&(a.x!==n[0]||a.y!==n[1]||a.k!==n[2]);return Promise.resolve(s)}function Sx(e,t,n,r,i,o){let a=i;const s=r.get(a)||new Map;r.set(a,s.set(n,t)),a=`${i}-${e}`;const l=r.get(a)||new Map;if(r.set(a,l.set(n,t)),o){a=`${i}-${e}-${o}`;const u=r.get(a)||new Map;r.set(a,u.set(n,t))}}function h2(e,t,n){e.clear(),t.clear();for(const r of n){const{source:i,target:o,sourceHandle:a=null,targetHandle:s=null}=r,l={edgeId:r.id,source:i,target:o,sourceHandle:a,targetHandle:s},u=`${i}-${a}--${o}-${s}`,c=`${o}-${s}--${i}-${a}`;Sx("source",l,c,e,i,a),Sx("target",l,u,e,o,s),t.set(r.id,r)}}function p2(e,t){if(!e.parentId)return!1;const n=t.get(e.parentId);return n?n.selected?!0:p2(n,t):!1}function Ex(e,t,n){var i;let r=e;do{if((i=r==null?void 0:r.matches)!=null&&i.call(r,t))return!0;if(r===n)return!1;r=r==null?void 0:r.parentElement}while(r);return!1}function X4(e,t,n,r){const i=new Map;for(const[o,a]of e)if((a.selected||a.id===r)&&(!a.parentId||!p2(a,e))&&(a.draggable||t&&typeof a.draggable>"u")){const s=e.get(o);s&&i.set(o,{id:o,position:s.position||{x:0,y:0},distance:{x:n.x-s.internals.positionAbsolute.x,y:n.y-s.internals.positionAbsolute.y},extent:s.extent,parentId:s.parentId,origin:s.origin,expandParent:s.expandParent,internals:{positionAbsolute:s.internals.positionAbsolute||{x:0,y:0}},measured:{width:s.measured.width??0,height:s.measured.height??0}})}return i}function sc({nodeId:e,dragItems:t,nodeLookup:n,dragging:r=!0}){var a,s,l;const i=[];for(const[u,c]of t){const f=(a=n.get(u))==null?void 0:a.internals.userNode;f&&i.push({...f,position:c.position,dragging:r})}if(!e)return[i[0],i];const o=(s=n.get(e))==null?void 0:s.internals.userNode;return[o?{...o,position:((l=t.get(e))==null?void 0:l.position)||o.position,dragging:r}:i[0],i]}function Q4({dragItems:e,snapGrid:t,x:n,y:r}){const i=e.values().next().value;if(!i)return null;const o={x:n-i.distance.x,y:r-i.distance.y},a=Ta(o,t);return{x:a.x-o.x,y:a.y-o.y}}function Z4({onNodeMouseDown:e,getStoreItems:t,onDragStart:n,onDrag:r,onDragStop:i}){let o={x:null,y:null},a=0,s=new Map,l=!1,u={x:0,y:0},c=null,f=!1,d=null,h=!1,p=!1,y=null;function w({noDragClassName:v,handleSelector:m,domNode:_,isSelectable:k,nodeId:b,nodeClickDistance:E=0}){d=It(_);function T({x:O,y:q}){const{nodeLookup:j,nodeExtent:A,snapGrid:z,snapToGrid:R,nodeOrigin:C,onNodeDrag:I,onSelectionDrag:S,onError:$,updateNodePositions:F}=t();o={x:O,y:q};let N=!1;const H=s.size>1,X=H&&A?bm(Na(s)):null,Y=H&&R?Q4({dragItems:s,snapGrid:z,x:O,y:q}):null;for(const[Q,W]of s){if(!j.has(Q))continue;let ee={x:O-W.distance.x,y:q-W.distance.y};R&&(ee=Y?{x:Math.round(ee.x+Y.x),y:Math.round(ee.y+Y.y)}:Ta(ee,z));let le=null;if(H&&A&&!W.extent&&X){const{positionAbsolute:ie}=W.internals,ge=ie.x-X.x+A[0][0],ne=ie.x+W.measured.width-X.x2+A[1][0],fe=ie.y-X.y+A[0][1],se=ie.y+W.measured.height-X.y2+A[1][1];le=[[ge,fe],[ne,se]]}const{position:oe,positionAbsolute:te}=ZN({nodeId:Q,nextPosition:ee,nodeLookup:j,nodeExtent:le||A,nodeOrigin:C,onError:$});N=N||W.position.x!==oe.x||W.position.y!==oe.y,W.position=oe,W.internals.positionAbsolute=te}if(p=p||N,!!N&&(F(s,!0),y&&(r||I||!b&&S))){const[Q,W]=sc({nodeId:b,dragItems:s,nodeLookup:j});r==null||r(y,s,Q,W),I==null||I(y,Q,W),b||S==null||S(y,W)}}async function M(){if(!c)return;const{transform:O,panBy:q,autoPanSpeed:j,autoPanOnNodeDrag:A}=t();if(!A){l=!1,cancelAnimationFrame(a);return}const[z,R]=e2(u,c,j);(z!==0||R!==0)&&(o.x=(o.x??0)-z/O[2],o.y=(o.y??0)-R/O[2],await q({x:z,y:R})&&T(o)),a=requestAnimationFrame(M)}function D(O){var H;const{nodeLookup:q,multiSelectionActive:j,nodesDraggable:A,transform:z,snapGrid:R,snapToGrid:C,selectNodesOnDrag:I,onNodeDragStart:S,onSelectionDragStart:$,unselectNodesAndEdges:F}=t();f=!0,(!I||!k)&&!j&&b&&((H=q.get(b))!=null&&H.selected||F()),k&&I&&b&&(e==null||e(b));const N=qo(O.sourceEvent,{transform:z,snapGrid:R,snapToGrid:C,containerBounds:c});if(o=N,s=X4(q,A,N,b),s.size>0&&(n||S||!b&&$)){const[X,Y]=sc({nodeId:b,dragItems:s,nodeLookup:q});n==null||n(O.sourceEvent,s,X,Y),S==null||S(O.sourceEvent,X,Y),b||$==null||$(O.sourceEvent,Y)}}const P=IN().clickDistance(E).on("start",O=>{const{domNode:q,nodeDragThreshold:j,transform:A,snapGrid:z,snapToGrid:R}=t();c=(q==null?void 0:q.getBoundingClientRect())||null,h=!1,p=!1,y=O.sourceEvent,j===0&&D(O),o=qo(O.sourceEvent,{transform:A,snapGrid:z,snapToGrid:R,containerBounds:c}),u=rn(O.sourceEvent,c)}).on("drag",O=>{const{autoPanOnNodeDrag:q,transform:j,snapGrid:A,snapToGrid:z,nodeDragThreshold:R,nodeLookup:C}=t(),I=qo(O.sourceEvent,{transform:j,snapGrid:A,snapToGrid:z,containerBounds:c});if(y=O.sourceEvent,(O.sourceEvent.type==="touchmove"&&O.sourceEvent.touches.length>1||b&&!C.has(b))&&(h=!0),!h){if(!l&&q&&f&&(l=!0,M()),!f){const S=rn(O.sourceEvent,c),$=S.x-u.x,F=S.y-u.y;Math.sqrt($*$+F*F)>R&&D(O)}(o.x!==I.xSnapped||o.y!==I.ySnapped)&&s&&f&&(u=rn(O.sourceEvent,c),T(I))}}).on("end",O=>{if(!(!f||h)&&(l=!1,f=!1,cancelAnimationFrame(a),s.size>0)){const{nodeLookup:q,updateNodePositions:j,onNodeDragStop:A,onSelectionDragStop:z}=t();if(p&&(j(s,!1),p=!1),i||A||!b&&z){const[R,C]=sc({nodeId:b,dragItems:s,nodeLookup:q,dragging:!1});i==null||i(O.sourceEvent,s,R,C),A==null||A(O.sourceEvent,R,C),b||z==null||z(O.sourceEvent,C)}}}).filter(O=>{const q=O.target;return!O.button&&(!v||!Ex(q,`.${v}`,_))&&(!m||Ex(q,m,_))});d.call(P)}function g(){d==null||d.on(".drag",null)}return{update:w,destroy:g}}function J4(e,t,n){const r=[],i={x:e.x-n,y:e.y-n,width:n*2,height:n*2};for(const o of t.values())ha(i,Hi(o))>0&&r.push(o);return r}const eD=250;function tD(e,t,n,r){var s,l;let i=[],o=1/0;const a=J4(e,n,t+eD);for(const u of a){const c=[...((s=u.internals.handleBounds)==null?void 0:s.source)??[],...((l=u.internals.handleBounds)==null?void 0:l.target)??[]];for(const f of c){if(r.nodeId===f.nodeId&&r.type===f.type&&r.id===f.id)continue;const{x:d,y:h}=Kr(u,f,f.position,!0),p=Math.sqrt(Math.pow(d-e.x,2)+Math.pow(h-e.y,2));p>t||(p<o?(i=[{...f,x:d,y:h}],o=p):p===o&&i.push({...f,x:d,y:h}))}}if(!i.length)return null;if(i.length>1){const u=r.type==="source"?"target":"source";return i.find(c=>c.type===u)??i[0]}return i[0]}function g2(e,t,n,r,i,o=!1){var u,c,f;const a=r.get(e);if(!a)return null;const s=i==="strict"?(u=a.internals.handleBounds)==null?void 0:u[t]:[...((c=a.internals.handleBounds)==null?void 0:c.source)??[],...((f=a.internals.handleBounds)==null?void 0:f.target)??[]],l=(n?s==null?void 0:s.find(d=>d.id===n):s==null?void 0:s[0])??null;return l&&o?{...l,...Kr(a,l,l.position,!0)}:l}function m2(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function nD(e,t){let n=null;return t?n=!0:e&&!t&&(n=!1),n}const y2=()=>!0;function rD(e,{connectionMode:t,connectionRadius:n,handleId:r,nodeId:i,edgeUpdaterType:o,isTarget:a,domNode:s,nodeLookup:l,lib:u,autoPanOnConnect:c,flowId:f,panBy:d,cancelConnection:h,onConnectStart:p,onConnect:y,onConnectEnd:w,isValidConnection:g=y2,onReconnectEnd:v,updateConnection:m,getTransform:_,getFromHandle:k,autoPanSpeed:b,dragThreshold:E=1,handleDomNode:T}){const M=i2(e.target);let D=0,P;const{x:O,y:q}=rn(e),j=m2(o,T),A=s==null?void 0:s.getBoundingClientRect();let z=!1;if(!A||!j)return;const R=g2(i,j,r,l,t);if(!R)return;let C=rn(e,A),I=!1,S=null,$=!1,F=null;function N(){if(!c||!A)return;const[oe,te]=e2(C,A,b);d({x:oe,y:te}),D=requestAnimationFrame(N)}const H={...R,nodeId:i,type:j,position:R.position},X=l.get(i);let Q={inProgress:!0,isValid:null,from:Kr(X,H,K.Left,!0),fromHandle:H,fromPosition:H.position,fromNode:X,to:C,toHandle:null,toPosition:dx[H.position],toNode:null,pointer:C};function W(){z=!0,m(Q),p==null||p(e,{nodeId:i,handleId:r,handleType:j})}E===0&&W();function ee(oe){if(!z){const{x:se,y:Ge}=rn(oe),$e=se-O,pt=Ge-q;if(!($e*$e+pt*pt>E*E))return;W()}if(!k()||!H){le(oe);return}const te=_();C=rn(oe,A),P=tD(Pa(C,te,!1,[1,1]),n,l,H),I||(N(),I=!0);const ie=v2(oe,{handle:P,connectionMode:t,fromNodeId:i,fromHandleId:r,fromType:a?"target":"source",isValidConnection:g,doc:M,lib:u,flowId:f,nodeLookup:l});F=ie.handleDomNode,S=ie.connection,$=nD(!!P,ie.isValid);const ge=l.get(i),ne=ge?Kr(ge,H,K.Left,!0):Q.from,fe={...Q,from:ne,isValid:$,to:ie.toHandle&&$?yl({x:ie.toHandle.x,y:ie.toHandle.y},te):C,toHandle:ie.toHandle,toPosition:$&&ie.toHandle?ie.toHandle.position:dx[H.position],toNode:ie.toHandle?l.get(ie.toHandle.nodeId):null,pointer:C};m(fe),Q=fe}function le(oe){if(!("touches"in oe&&oe.touches.length>0)){if(z){(P||F)&&S&&$&&(y==null||y(S));const{inProgress:te,...ie}=Q,ge={...ie,toPosition:Q.toHandle?Q.toPosition:null};w==null||w(oe,ge),o&&(v==null||v(oe,ge))}h(),cancelAnimationFrame(D),I=!1,$=!1,S=null,F=null,M.removeEventListener("mousemove",ee),M.removeEventListener("mouseup",le),M.removeEventListener("touchmove",ee),M.removeEventListener("touchend",le)}}M.addEventListener("mousemove",ee),M.addEventListener("mouseup",le),M.addEventListener("touchmove",ee),M.addEventListener("touchend",le)}function v2(e,{handle:t,connectionMode:n,fromNodeId:r,fromHandleId:i,fromType:o,doc:a,lib:s,flowId:l,isValidConnection:u=y2,nodeLookup:c}){const f=o==="target",d=t?a.querySelector(`.${s}-flow__handle[data-id="${l}-${t==null?void 0:t.nodeId}-${t==null?void 0:t.id}-${t==null?void 0:t.type}"]`):null,{x:h,y:p}=rn(e),y=a.elementFromPoint(h,p),w=y!=null&&y.classList.contains(`${s}-flow__handle`)?y:d,g={handleDomNode:w,isValid:!1,connection:null,toHandle:null};if(w){const v=m2(void 0,w),m=w.getAttribute("data-nodeid"),_=w.getAttribute("data-handleid"),k=w.classList.contains("connectable"),b=w.classList.contains("connectableend");if(!m||!v)return g;const E={source:f?m:r,sourceHandle:f?_:i,target:f?r:m,targetHandle:f?i:_};g.connection=E;const M=k&&b&&(n===Fi.Strict?f&&v==="source"||!f&&v==="target":m!==r||_!==i);g.isValid=M&&u(E),g.toHandle=g2(m,v,_,c,n,!0)}return g}const km={onPointerDown:rD,isValid:v2};function iD({domNode:e,panZoom:t,getTransform:n,getViewScale:r}){const i=It(e);function o({translateExtent:s,width:l,height:u,zoomStep:c=1,pannable:f=!0,zoomable:d=!0,inversePan:h=!1}){const p=m=>{if(m.sourceEvent.type!=="wheel"||!t)return;const _=n(),k=m.sourceEvent.ctrlKey&&pa()?10:1,b=-m.sourceEvent.deltaY*(m.sourceEvent.deltaMode===1?.05:m.sourceEvent.deltaMode?1:.002)*c,E=_[2]*Math.pow(2,b*k);t.scaleTo(E)};let y=[0,0];const w=m=>{(m.sourceEvent.type==="mousedown"||m.sourceEvent.type==="touchstart")&&(y=[m.sourceEvent.clientX??m.sourceEvent.touches[0].clientX,m.sourceEvent.clientY??m.sourceEvent.touches[0].clientY])},g=m=>{const _=n();if(m.sourceEvent.type!=="mousemove"&&m.sourceEvent.type!=="touchmove"||!t)return;const k=[m.sourceEvent.clientX??m.sourceEvent.touches[0].clientX,m.sourceEvent.clientY??m.sourceEvent.touches[0].clientY],b=[k[0]-y[0],k[1]-y[1]];y=k;const E=r()*Math.max(_[2],Math.log(_[2]))*(h?-1:1),T={x:_[0]-b[0]*E,y:_[1]-b[1]*E},M=[[0,0],[l,u]];t.setViewportConstrained({x:T.x,y:T.y,zoom:_[2]},M,s)},v=GN().on("start",w).on("zoom",f?g:null).on("zoom.wheel",d?p:null);i.call(v,{})}function a(){i.on("zoom",null)}return{update:o,destroy:a,pointer:Jt}}const Zl=e=>({x:e.x,y:e.y,zoom:e.k}),lc=({x:e,y:t,zoom:n})=>Kl.translate(e,t).scale(n),xi=(e,t)=>e.target.closest(`.${t}`),x2=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),oD=e=>((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2,uc=(e,t=0,n=oD,r=()=>{})=>{const i=typeof t=="number"&&t>0;return i||r(),i?e.transition().duration(t).ease(n).on("end",r):e},w2=e=>{const t=e.ctrlKey&&pa()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t};function aD({zoomPanValues:e,noWheelClassName:t,d3Selection:n,d3Zoom:r,panOnScrollMode:i,panOnScrollSpeed:o,zoomOnPinch:a,onPanZoomStart:s,onPanZoom:l,onPanZoomEnd:u}){return c=>{if(xi(c,t))return c.ctrlKey&&c.preventDefault(),!1;c.preventDefault(),c.stopImmediatePropagation();const f=n.property("__zoom").k||1;if(c.ctrlKey&&a){const w=Jt(c),g=w2(c),v=f*Math.pow(2,g);r.scaleTo(n,v,w,c);return}const d=c.deltaMode===1?20:1;let h=i===$r.Vertical?0:c.deltaX*d,p=i===$r.Horizontal?0:c.deltaY*d;!pa()&&c.shiftKey&&i!==$r.Vertical&&(h=c.deltaY*d,p=0),r.translateBy(n,-(h/f)*o,-(p/f)*o,{internal:!0});const y=Zl(n.property("__zoom"));clearTimeout(e.panScrollTimeout),e.isPanScrolling?(l==null||l(c,y),e.panScrollTimeout=setTimeout(()=>{u==null||u(c,y),e.isPanScrolling=!1},150)):(e.isPanScrolling=!0,s==null||s(c,y))}}function sD({noWheelClassName:e,preventScrolling:t,d3ZoomHandler:n}){return function(r,i){const o=r.type==="wheel",a=!t&&o&&!r.ctrlKey,s=xi(r,e);if(r.ctrlKey&&o&&s&&r.preventDefault(),a||s)return null;r.preventDefault(),n.call(this,r,i)}}function lD({zoomPanValues:e,onDraggingChange:t,onPanZoomStart:n}){return r=>{var o,a,s;if((o=r.sourceEvent)!=null&&o.internal)return;const i=Zl(r.transform);e.mouseButton=((a=r.sourceEvent)==null?void 0:a.button)||0,e.isZoomingOrPanning=!0,e.prevViewport=i,((s=r.sourceEvent)==null?void 0:s.type)==="mousedown"&&t(!0),n&&(n==null||n(r.sourceEvent,i))}}function uD({zoomPanValues:e,panOnDrag:t,onPaneContextMenu:n,onTransformChange:r,onPanZoom:i}){return o=>{var a,s;e.usedRightMouseButton=!!(n&&x2(t,e.mouseButton??0)),(a=o.sourceEvent)!=null&&a.sync||r([o.transform.x,o.transform.y,o.transform.k]),i&&!((s=o.sourceEvent)!=null&&s.internal)&&(i==null||i(o.sourceEvent,Zl(o.transform)))}}function cD({zoomPanValues:e,panOnDrag:t,panOnScroll:n,onDraggingChange:r,onPanZoomEnd:i,onPaneContextMenu:o}){return a=>{var s;if(!((s=a.sourceEvent)!=null&&s.internal)&&(e.isZoomingOrPanning=!1,o&&x2(t,e.mouseButton??0)&&!e.usedRightMouseButton&&a.sourceEvent&&o(a.sourceEvent),e.usedRightMouseButton=!1,r(!1),i)){const l=Zl(a.transform);e.prevViewport=l,clearTimeout(e.timerId),e.timerId=setTimeout(()=>{i==null||i(a.sourceEvent,l)},n?150:0)}}}function fD({zoomActivationKeyPressed:e,zoomOnScroll:t,zoomOnPinch:n,panOnDrag:r,panOnScroll:i,zoomOnDoubleClick:o,userSelectionActive:a,noWheelClassName:s,noPanClassName:l,lib:u,connectionInProgress:c}){return f=>{var w;const d=e||t,h=n&&f.ctrlKey,p=f.type==="wheel";if(f.button===1&&f.type==="mousedown"&&(xi(f,`${u}-flow__node`)||xi(f,`${u}-flow__edge`)))return!0;if(!r&&!d&&!i&&!o&&!n||a||c&&!p||xi(f,s)&&p||xi(f,l)&&(!p||i&&p&&!e)||!n&&f.ctrlKey&&p)return!1;if(!n&&f.type==="touchstart"&&((w=f.touches)==null?void 0:w.length)>1)return f.preventDefault(),!1;if(!d&&!i&&!h&&p||!r&&(f.type==="mousedown"||f.type==="touchstart")||Array.isArray(r)&&!r.includes(f.button)&&f.type==="mousedown")return!1;const y=Array.isArray(r)&&r.includes(f.button)||!f.button||f.button<=1;return(!f.ctrlKey||p)&&y}}function dD({domNode:e,minZoom:t,maxZoom:n,translateExtent:r,viewport:i,onPanZoom:o,onPanZoomStart:a,onPanZoomEnd:s,onDraggingChange:l}){const u={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},c=e.getBoundingClientRect(),f=GN().scaleExtent([t,n]).translateExtent(r),d=It(e).call(f);v({x:i.x,y:i.y,zoom:Bi(i.zoom,t,n)},[[0,0],[c.width,c.height]],r);const h=d.on("wheel.zoom"),p=d.on("dblclick.zoom");f.wheelDelta(w2);function y(P,O){return d?new Promise(q=>{f==null||f.interpolate((O==null?void 0:O.interpolate)==="linear"?zo:As).transform(uc(d,O==null?void 0:O.duration,O==null?void 0:O.ease,()=>q(!0)),P)}):Promise.resolve(!1)}function w({noWheelClassName:P,noPanClassName:O,onPaneContextMenu:q,userSelectionActive:j,panOnScroll:A,panOnDrag:z,panOnScrollMode:R,panOnScrollSpeed:C,preventScrolling:I,zoomOnPinch:S,zoomOnScroll:$,zoomOnDoubleClick:F,zoomActivationKeyPressed:N,lib:H,onTransformChange:X,connectionInProgress:Y,paneClickDistance:Q,selectionOnDrag:W}){j&&!u.isZoomingOrPanning&&g();const ee=A&&!N&&!j;f.clickDistance(W?1/0:!nn(Q)||Q<0?0:Q);const le=ee?aD({zoomPanValues:u,noWheelClassName:P,d3Selection:d,d3Zoom:f,panOnScrollMode:R,panOnScrollSpeed:C,zoomOnPinch:S,onPanZoomStart:a,onPanZoom:o,onPanZoomEnd:s}):sD({noWheelClassName:P,preventScrolling:I,d3ZoomHandler:h});if(d.on("wheel.zoom",le,{passive:!1}),!j){const te=lD({zoomPanValues:u,onDraggingChange:l,onPanZoomStart:a});f.on("start",te);const ie=uD({zoomPanValues:u,panOnDrag:z,onPaneContextMenu:!!q,onPanZoom:o,onTransformChange:X});f.on("zoom",ie);const ge=cD({zoomPanValues:u,panOnDrag:z,panOnScroll:A,onPaneContextMenu:q,onPanZoomEnd:s,onDraggingChange:l});f.on("end",ge)}const oe=fD({zoomActivationKeyPressed:N,panOnDrag:z,zoomOnScroll:$,panOnScroll:A,zoomOnDoubleClick:F,zoomOnPinch:S,userSelectionActive:j,noPanClassName:O,noWheelClassName:P,lib:H,connectionInProgress:Y});f.filter(oe),F?d.on("dblclick.zoom",p):d.on("dblclick.zoom",null)}function g(){f.on("zoom",null)}async function v(P,O,q){const j=lc(P),A=f==null?void 0:f.constrain()(j,O,q);return A&&await y(A),new Promise(z=>z(A))}async function m(P,O){const q=lc(P);return await y(q,O),new Promise(j=>j(q))}function _(P){if(d){const O=lc(P),q=d.property("__zoom");(q.k!==P.zoom||q.x!==P.x||q.y!==P.y)&&(f==null||f.transform(d,O,null,{sync:!0}))}}function k(){const P=d?UN(d.node()):{x:0,y:0,k:1};return{x:P.x,y:P.y,zoom:P.k}}function b(P,O){return d?new Promise(q=>{f==null||f.interpolate((O==null?void 0:O.interpolate)==="linear"?zo:As).scaleTo(uc(d,O==null?void 0:O.duration,O==null?void 0:O.ease,()=>q(!0)),P)}):Promise.resolve(!1)}function E(P,O){return d?new Promise(q=>{f==null||f.interpolate((O==null?void 0:O.interpolate)==="linear"?zo:As).scaleBy(uc(d,O==null?void 0:O.duration,O==null?void 0:O.ease,()=>q(!0)),P)}):Promise.resolve(!1)}function T(P){f==null||f.scaleExtent(P)}function M(P){f==null||f.translateExtent(P)}function D(P){const O=!nn(P)||P<0?0:P;f==null||f.clickDistance(O)}return{update:w,destroy:g,setViewport:m,setViewportConstrained:v,getViewport:k,scaleTo:b,scaleBy:E,setScaleExtent:T,setTranslateExtent:M,syncViewport:_,setClickDistance:D}}var Ui;(function(e){e.Line="line",e.Handle="handle"})(Ui||(Ui={}));function hD({width:e,prevWidth:t,height:n,prevHeight:r,affectsX:i,affectsY:o}){const a=e-t,s=n-r,l=[a>0?1:a<0?-1:0,s>0?1:s<0?-1:0];return a&&i&&(l[0]=l[0]*-1),s&&o&&(l[1]=l[1]*-1),l}function kx(e){const t=e.includes("right")||e.includes("left"),n=e.includes("bottom")||e.includes("top"),r=e.includes("left"),i=e.includes("top");return{isHorizontal:t,isVertical:n,affectsX:r,affectsY:i}}function Wn(e,t){return Math.max(0,t-e)}function Yn(e,t){return Math.max(0,e-t)}function us(e,t,n){return Math.max(0,t-e,e-n)}function Cx(e,t){return e?!t:t}function pD(e,t,n,r,i,o,a,s){let{affectsX:l,affectsY:u}=t;const{isHorizontal:c,isVertical:f}=t,d=c&&f,{xSnapped:h,ySnapped:p}=n,{minWidth:y,maxWidth:w,minHeight:g,maxHeight:v}=r,{x:m,y:_,width:k,height:b,aspectRatio:E}=e;let T=Math.floor(c?h-e.pointerX:0),M=Math.floor(f?p-e.pointerY:0);const D=k+(l?-T:T),P=b+(u?-M:M),O=-o[0]*k,q=-o[1]*b;let j=us(D,y,w),A=us(P,g,v);if(a){let C=0,I=0;l&&T<0?C=Wn(m+T+O,a[0][0]):!l&&T>0&&(C=Yn(m+D+O,a[1][0])),u&&M<0?I=Wn(_+M+q,a[0][1]):!u&&M>0&&(I=Yn(_+P+q,a[1][1])),j=Math.max(j,C),A=Math.max(A,I)}if(s){let C=0,I=0;l&&T>0?C=Yn(m+T,s[0][0]):!l&&T<0&&(C=Wn(m+D,s[1][0])),u&&M>0?I=Yn(_+M,s[0][1]):!u&&M<0&&(I=Wn(_+P,s[1][1])),j=Math.max(j,C),A=Math.max(A,I)}if(i){if(c){const C=us(D/E,g,v)*E;if(j=Math.max(j,C),a){let I=0;!l&&!u||l&&!u&&d?I=Yn(_+q+D/E,a[1][1])*E:I=Wn(_+q+(l?T:-T)/E,a[0][1])*E,j=Math.max(j,I)}if(s){let I=0;!l&&!u||l&&!u&&d?I=Wn(_+D/E,s[1][1])*E:I=Yn(_+(l?T:-T)/E,s[0][1])*E,j=Math.max(j,I)}}if(f){const C=us(P*E,y,w)/E;if(A=Math.max(A,C),a){let I=0;!l&&!u||u&&!l&&d?I=Yn(m+P*E+O,a[1][0])/E:I=Wn(m+(u?M:-M)*E+O,a[0][0])/E,A=Math.max(A,I)}if(s){let I=0;!l&&!u||u&&!l&&d?I=Wn(m+P*E,s[1][0])/E:I=Yn(m+(u?M:-M)*E,s[0][0])/E,A=Math.max(A,I)}}}M=M+(M<0?A:-A),T=T+(T<0?j:-j),i&&(d?D>P*E?M=(Cx(l,u)?-T:T)/E:T=(Cx(l,u)?-M:M)*E:c?(M=T/E,u=l):(T=M*E,l=u));const z=l?m+T:m,R=u?_+M:_;return{width:k+(l?-T:T),height:b+(u?-M:M),x:o[0]*T*(l?-1:1)+z,y:o[1]*M*(u?-1:1)+R}}const _2={width:0,height:0,x:0,y:0},gD={..._2,pointerX:0,pointerY:0,aspectRatio:1};function mD(e){return[[0,0],[e.measured.width,e.measured.height]]}function yD(e,t,n){const r=t.position.x+e.position.x,i=t.position.y+e.position.y,o=e.measured.width??0,a=e.measured.height??0,s=n[0]*o,l=n[1]*a;return[[r-s,i-l],[r+o-s,i+a-l]]}function vD({domNode:e,nodeId:t,getStoreItems:n,onChange:r,onEnd:i}){const o=It(e);let a={controlDirection:kx("bottom-right"),boundaries:{minWidth:0,minHeight:0,maxWidth:Number.MAX_VALUE,maxHeight:Number.MAX_VALUE},resizeDirection:void 0,keepAspectRatio:!1};function s({controlPosition:u,boundaries:c,keepAspectRatio:f,resizeDirection:d,onResizeStart:h,onResize:p,onResizeEnd:y,shouldResize:w}){let g={..._2},v={...gD};a={boundaries:c,resizeDirection:d,keepAspectRatio:f,controlDirection:kx(u)};let m,_=null,k=[],b,E,T,M=!1;const D=IN().on("start",P=>{const{nodeLookup:O,transform:q,snapGrid:j,snapToGrid:A,nodeOrigin:z,paneDomNode:R}=n();if(m=O.get(t),!m)return;_=(R==null?void 0:R.getBoundingClientRect())??null;const{xSnapped:C,ySnapped:I}=qo(P.sourceEvent,{transform:q,snapGrid:j,snapToGrid:A,containerBounds:_});g={width:m.measured.width??0,height:m.measured.height??0,x:m.position.x??0,y:m.position.y??0},v={...g,pointerX:C,pointerY:I,aspectRatio:g.width/g.height},b=void 0,m.parentId&&(m.extent==="parent"||m.expandParent)&&(b=O.get(m.parentId),E=b&&m.extent==="parent"?mD(b):void 0),k=[],T=void 0;for(const[S,$]of O)if($.parentId===t&&(k.push({id:S,position:{...$.position},extent:$.extent}),$.extent==="parent"||$.expandParent)){const F=yD($,m,$.origin??z);T?T=[[Math.min(F[0][0],T[0][0]),Math.min(F[0][1],T[0][1])],[Math.max(F[1][0],T[1][0]),Math.max(F[1][1],T[1][1])]]:T=F}h==null||h(P,{...g})}).on("drag",P=>{const{transform:O,snapGrid:q,snapToGrid:j,nodeOrigin:A}=n(),z=qo(P.sourceEvent,{transform:O,snapGrid:q,snapToGrid:j,containerBounds:_}),R=[];if(!m)return;const{x:C,y:I,width:S,height:$}=g,F={},N=m.origin??A,{width:H,height:X,x:Y,y:Q}=pD(v,a.controlDirection,z,a.boundaries,a.keepAspectRatio,N,E,T),W=H!==S,ee=X!==$,le=Y!==C&&W,oe=Q!==I&&ee;if(!le&&!oe&&!W&&!ee)return;if((le||oe||N[0]===1||N[1]===1)&&(F.x=le?Y:g.x,F.y=oe?Q:g.y,g.x=F.x,g.y=F.y,k.length>0)){const ne=Y-C,fe=Q-I;for(const se of k)se.position={x:se.position.x-ne+N[0]*(H-S),y:se.position.y-fe+N[1]*(X-$)},R.push(se)}if((W||ee)&&(F.width=W&&(!a.resizeDirection||a.resizeDirection==="horizontal")?H:g.width,F.height=ee&&(!a.resizeDirection||a.resizeDirection==="vertical")?X:g.height,g.width=F.width,g.height=F.height),b&&m.expandParent){const ne=N[0]*(F.width??0);F.x&&F.x<ne&&(g.x=ne,v.x=v.x-(F.x-ne));const fe=N[1]*(F.height??0);F.y&&F.y<fe&&(g.y=fe,v.y=v.y-(F.y-fe))}const te=hD({width:g.width,prevWidth:S,height:g.height,prevHeight:$,affectsX:a.controlDirection.affectsX,affectsY:a.controlDirection.affectsY}),ie={...g,direction:te};(w==null?void 0:w(P,ie))!==!1&&(M=!0,p==null||p(P,ie),r(F,R))}).on("end",P=>{M&&(y==null||y(P,{...g}),i==null||i({...g}),M=!1)});o.call(D)}function l(){o.on(".drag",null)}return{update:s,destroy:l}}var b2={exports:{}},S2={},E2={exports:{}},k2={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gi=L;function xD(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var wD=typeof Object.is=="function"?Object.is:xD,_D=Gi.useState,bD=Gi.useEffect,SD=Gi.useLayoutEffect,ED=Gi.useDebugValue;function kD(e,t){var n=t(),r=_D({inst:{value:n,getSnapshot:t}}),i=r[0].inst,o=r[1];return SD(function(){i.value=n,i.getSnapshot=t,cc(i)&&o({inst:i})},[e,n,t]),bD(function(){return cc(i)&&o({inst:i}),e(function(){cc(i)&&o({inst:i})})},[e]),ED(n),n}function cc(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!wD(e,n)}catch{return!0}}function CD(e,t){return t()}var ND=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?CD:kD;k2.useSyncExternalStore=Gi.useSyncExternalStore!==void 0?Gi.useSyncExternalStore:ND;E2.exports=k2;var TD=E2.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jl=L,PD=TD;function jD(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ID=typeof Object.is=="function"?Object.is:jD,AD=PD.useSyncExternalStore,RD=Jl.useRef,MD=Jl.useEffect,LD=Jl.useMemo,OD=Jl.useDebugValue;S2.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var o=RD(null);if(o.current===null){var a={hasValue:!1,value:null};o.current=a}else a=o.current;o=LD(function(){function l(h){if(!u){if(u=!0,c=h,h=r(h),i!==void 0&&a.hasValue){var p=a.value;if(i(p,h))return f=p}return f=h}if(p=f,ID(c,h))return p;var y=r(h);return i!==void 0&&i(p,y)?(c=h,p):(c=h,f=y)}var u=!1,c,f,d=n===void 0?null:n;return[function(){return l(t())},d===null?void 0:function(){return l(d())}]},[t,n,r,i]);var s=AD(e,o[0],o[1]);return MD(function(){a.hasValue=!0,a.value=s},[s]),OD(s),s};b2.exports=S2;var DD=b2.exports;const C2=va(DD),zD={},Nx=e=>{let t;const n=new Set,r=(c,f)=>{const d=typeof c=="function"?c(t):c;if(!Object.is(d,t)){const h=t;t=f??(typeof d!="object"||d===null)?d:Object.assign({},t,d),n.forEach(p=>p(t,h))}},i=()=>t,l={setState:r,getState:i,getInitialState:()=>u,subscribe:c=>(n.add(c),()=>n.delete(c)),destroy:()=>{(zD?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=t=e(r,i,l);return l},N2=e=>e?Nx(e):Nx,{useDebugValue:qD}=Mt,{useSyncExternalStoreWithSelector:$D}=C2,FD=e=>e;function T2(e,t=FD,n){const r=$D(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return qD(r),r}const Tx=(e,t)=>{const n=N2(e),r=(i,o=t)=>T2(n,i,o);return Object.assign(r,n),r},BD=(e,t)=>e?Tx(e,t):Tx;function Ae(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,i]of e)if(!Object.is(i,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}const eu=L.createContext(null),HD=eu.Provider,P2=bn.error001();function ve(e,t){const n=L.useContext(eu);if(n===null)throw new Error(P2);return T2(n,e,t)}function Re(){const e=L.useContext(eu);if(e===null)throw new Error(P2);return L.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe}),[e])}const Px={display:"none"},VD={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},j2="react-flow__node-desc",I2="react-flow__edge-desc",UD="react-flow__aria-live",GD=e=>e.ariaLiveMessage,WD=e=>e.ariaLabelConfig;function YD({rfId:e}){const t=ve(GD);return x.jsx("div",{id:`${UD}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:VD,children:t})}function KD({rfId:e,disableKeyboardA11y:t}){const n=ve(WD);return x.jsxs(x.Fragment,{children:[x.jsx("div",{id:`${j2}-${e}`,style:Px,children:t?n["node.a11yDescription.default"]:n["node.a11yDescription.keyboardDisabled"]}),x.jsx("div",{id:`${I2}-${e}`,style:Px,children:n["edge.a11yDescription.default"]}),!t&&x.jsx(YD,{rfId:e})]})}const tu=L.forwardRef(({position:e="top-left",children:t,className:n,style:r,...i},o)=>{const a=`${e}`.split("-");return x.jsx("div",{className:Ve(["react-flow__panel",n,...a]),style:r,ref:o,...i,children:t})});tu.displayName="Panel";function XD({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:x.jsx(tu,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:x.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const QD=e=>{const t=[],n=[];for(const[,r]of e.nodeLookup)r.selected&&t.push(r.internals.userNode);for(const[,r]of e.edgeLookup)r.selected&&n.push(r);return{selectedNodes:t,selectedEdges:n}},cs=e=>e.id;function ZD(e,t){return Ae(e.selectedNodes.map(cs),t.selectedNodes.map(cs))&&Ae(e.selectedEdges.map(cs),t.selectedEdges.map(cs))}function JD({onSelectionChange:e}){const t=Re(),{selectedNodes:n,selectedEdges:r}=ve(QD,ZD);return L.useEffect(()=>{const i={nodes:n,edges:r};e==null||e(i),t.getState().onSelectionChangeHandlers.forEach(o=>o(i))},[n,r,e]),null}const e3=e=>!!e.onSelectionChangeHandlers;function t3({onSelectionChange:e}){const t=ve(e3);return e||t?x.jsx(JD,{onSelectionChange:e}):null}const A2=[0,0],n3={x:0,y:0,zoom:1},r3=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","autoPanOnNodeFocus","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","connectionDragThreshold","onBeforeDelete","debug","autoPanSpeed","ariaLabelConfig","zIndexMode"],jx=[...r3,"rfId"],i3=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges}),Ix={translateExtent:fa,nodeOrigin:A2,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1"};function o3(e){const{setNodes:t,setEdges:n,setMinZoom:r,setMaxZoom:i,setTranslateExtent:o,setNodeExtent:a,reset:s,setDefaultNodesAndEdges:l}=ve(i3,Ae),u=Re();L.useEffect(()=>(l(e.defaultNodes,e.defaultEdges),()=>{c.current=Ix,s()}),[]);const c=L.useRef(Ix);return L.useEffect(()=>{for(const f of jx){const d=e[f],h=c.current[f];d!==h&&(typeof e[f]>"u"||(f==="nodes"?t(d):f==="edges"?n(d):f==="minZoom"?r(d):f==="maxZoom"?i(d):f==="translateExtent"?o(d):f==="nodeExtent"?a(d):f==="ariaLabelConfig"?u.setState({ariaLabelConfig:j4(d)}):f==="fitView"?u.setState({fitViewQueued:d}):f==="fitViewOptions"?u.setState({fitViewOptions:d}):u.setState({[f]:d})))}c.current=e},jx.map(f=>e[f])),null}function Ax(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function a3(e){var r;const[t,n]=L.useState(e==="system"?null:e);return L.useEffect(()=>{if(e!=="system"){n(e);return}const i=Ax(),o=()=>n(i!=null&&i.matches?"dark":"light");return o(),i==null||i.addEventListener("change",o),()=>{i==null||i.removeEventListener("change",o)}},[e]),t!==null?t:(r=Ax())!=null&&r.matches?"dark":"light"}const Rx=typeof document<"u"?document:null;function ga(e=null,t={target:Rx,actInsideInputWithModifier:!0}){const[n,r]=L.useState(!1),i=L.useRef(!1),o=L.useRef(new Set([])),[a,s]=L.useMemo(()=>{if(e!==null){const u=(Array.isArray(e)?e:[e]).filter(f=>typeof f=="string").map(f=>f.replace("+",`
`).replace(`

`,`
+`).split(`
`)),c=u.reduce((f,d)=>f.concat(...d),[]);return[u,c]}return[[],[]]},[e]);return L.useEffect(()=>{const l=(t==null?void 0:t.target)??Rx,u=(t==null?void 0:t.actInsideInputWithModifier)??!0;if(e!==null){const c=h=>{var w,g;if(i.current=h.ctrlKey||h.metaKey||h.shiftKey||h.altKey,(!i.current||i.current&&!u)&&o2(h))return!1;const y=Lx(h.code,s);if(o.current.add(h[y]),Mx(a,o.current,!1)){const v=((g=(w=h.composedPath)==null?void 0:w.call(h))==null?void 0:g[0])||h.target,m=(v==null?void 0:v.nodeName)==="BUTTON"||(v==null?void 0:v.nodeName)==="A";t.preventDefault!==!1&&(i.current||!m)&&h.preventDefault(),r(!0)}},f=h=>{const p=Lx(h.code,s);Mx(a,o.current,!0)?(r(!1),o.current.clear()):o.current.delete(h[p]),h.key==="Meta"&&o.current.clear(),i.current=!1},d=()=>{o.current.clear(),r(!1)};return l==null||l.addEventListener("keydown",c),l==null||l.addEventListener("keyup",f),window.addEventListener("blur",d),window.addEventListener("contextmenu",d),()=>{l==null||l.removeEventListener("keydown",c),l==null||l.removeEventListener("keyup",f),window.removeEventListener("blur",d),window.removeEventListener("contextmenu",d)}}},[e,r]),n}function Mx(e,t,n){return e.filter(r=>n||r.length===t.size).some(r=>r.every(i=>t.has(i)))}function Lx(e,t){return t.includes(e)?"code":"key"}const s3=()=>{const e=Re();return L.useMemo(()=>({zoomIn:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomOut:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1/1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomTo:(t,n)=>{const{panZoom:r}=e.getState();return r?r.scaleTo(t,{duration:n==null?void 0:n.duration}):Promise.resolve(!1)},getZoom:()=>e.getState().transform[2],setViewport:async(t,n)=>{const{transform:[r,i,o],panZoom:a}=e.getState();return a?(await a.setViewport({x:t.x??r,y:t.y??i,zoom:t.zoom??o},n),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[t,n,r]=e.getState().transform;return{x:t,y:n,zoom:r}},setCenter:async(t,n,r)=>e.getState().setCenter(t,n,r),fitBounds:async(t,n)=>{const{width:r,height:i,minZoom:o,maxZoom:a,panZoom:s}=e.getState(),l=Vy(t,r,i,o,a,(n==null?void 0:n.padding)??.1);return s?(await s.setViewport(l,{duration:n==null?void 0:n.duration,ease:n==null?void 0:n.ease,interpolate:n==null?void 0:n.interpolate}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(t,n={})=>{const{transform:r,snapGrid:i,snapToGrid:o,domNode:a}=e.getState();if(!a)return t;const{x:s,y:l}=a.getBoundingClientRect(),u={x:t.x-s,y:t.y-l},c=n.snapGrid??i,f=n.snapToGrid??o;return Pa(u,r,f,c)},flowToScreenPosition:t=>{const{transform:n,domNode:r}=e.getState();if(!r)return t;const{x:i,y:o}=r.getBoundingClientRect(),a=yl(t,n);return{x:a.x+i,y:a.y+o}}}),[])};function R2(e,t){const n=[],r=new Map,i=[];for(const o of e)if(o.type==="add"){i.push(o);continue}else if(o.type==="remove"||o.type==="replace")r.set(o.id,[o]);else{const a=r.get(o.id);a?a.push(o):r.set(o.id,[o])}for(const o of t){const a=r.get(o.id);if(!a){n.push(o);continue}if(a[0].type==="remove")continue;if(a[0].type==="replace"){n.push({...a[0].item});continue}const s={...o};for(const l of a)l3(l,s);n.push(s)}return i.length&&i.forEach(o=>{o.index!==void 0?n.splice(o.index,0,{...o.item}):n.push({...o.item})}),n}function l3(e,t){switch(e.type){case"select":{t.selected=e.selected;break}case"position":{typeof e.position<"u"&&(t.position=e.position),typeof e.dragging<"u"&&(t.dragging=e.dragging);break}case"dimensions":{typeof e.dimensions<"u"&&(t.measured={...e.dimensions},e.setAttributes&&((e.setAttributes===!0||e.setAttributes==="width")&&(t.width=e.dimensions.width),(e.setAttributes===!0||e.setAttributes==="height")&&(t.height=e.dimensions.height))),typeof e.resizing=="boolean"&&(t.resizing=e.resizing);break}}}function M2(e,t){return R2(e,t)}function L2(e,t){return R2(e,t)}function Pr(e,t){return{id:e,type:"select",selected:t}}function wi(e,t=new Set,n=!1){const r=[];for(const[i,o]of e){const a=t.has(i);!(o.selected===void 0&&!a)&&o.selected!==a&&(n&&(o.selected=a),r.push(Pr(o.id,a)))}return r}function Ox({items:e=[],lookup:t}){var i;const n=[],r=new Map(e.map(o=>[o.id,o]));for(const[o,a]of e.entries()){const s=t.get(a.id),l=((i=s==null?void 0:s.internals)==null?void 0:i.userNode)??s;l!==void 0&&l!==a&&n.push({id:a.id,item:a,type:"replace"}),l===void 0&&n.push({item:a,type:"add",index:o})}for(const[o]of t)r.get(o)===void 0&&n.push({id:o,type:"remove"});return n}function Dx(e){return{id:e.id,type:"remove"}}const zx=e=>w4(e),u3=e=>QN(e);function O2(e){return L.forwardRef(e)}const c3=typeof window<"u"?L.useLayoutEffect:L.useEffect;function qx(e){const[t,n]=L.useState(BigInt(0)),[r]=L.useState(()=>f3(()=>n(i=>i+BigInt(1))));return c3(()=>{const i=r.get();i.length&&(e(i),r.reset())},[t]),r}function f3(e){let t=[];return{get:()=>t,reset:()=>{t=[]},push:n=>{t.push(n),e()}}}const D2=L.createContext(null);function d3({children:e}){const t=Re(),n=L.useCallback(s=>{const{nodes:l=[],setNodes:u,hasDefaultNodes:c,onNodesChange:f,nodeLookup:d,fitViewQueued:h,onNodesChangeMiddlewareMap:p}=t.getState();let y=l;for(const g of s)y=typeof g=="function"?g(y):g;let w=Ox({items:y,lookup:d});for(const g of p.values())w=g(w);c&&u(y),w.length>0?f==null||f(w):h&&window.requestAnimationFrame(()=>{const{fitViewQueued:g,nodes:v,setNodes:m}=t.getState();g&&m(v)})},[]),r=qx(n),i=L.useCallback(s=>{const{edges:l=[],setEdges:u,hasDefaultEdges:c,onEdgesChange:f,edgeLookup:d}=t.getState();let h=l;for(const p of s)h=typeof p=="function"?p(h):p;c?u(h):f&&f(Ox({items:h,lookup:d}))},[]),o=qx(i),a=L.useMemo(()=>({nodeQueue:r,edgeQueue:o}),[]);return x.jsx(D2.Provider,{value:a,children:e})}function h3(){const e=L.useContext(D2);if(!e)throw new Error("useBatchContext must be used within a BatchProvider");return e}const p3=e=>!!e.panZoom;function nu(){const e=s3(),t=Re(),n=h3(),r=ve(p3),i=L.useMemo(()=>{const o=f=>t.getState().nodeLookup.get(f),a=f=>{n.nodeQueue.push(f)},s=f=>{n.edgeQueue.push(f)},l=f=>{var g,v;const{nodeLookup:d,nodeOrigin:h}=t.getState(),p=zx(f)?f:d.get(f.id),y=p.parentId?r2(p.position,p.measured,p.parentId,d,h):p.position,w={...p,position:y,width:((g=p.measured)==null?void 0:g.width)??p.width,height:((v=p.measured)==null?void 0:v.height)??p.height};return Hi(w)},u=(f,d,h={replace:!1})=>{a(p=>p.map(y=>{if(y.id===f){const w=typeof d=="function"?d(y):d;return h.replace&&zx(w)?w:{...y,...w}}return y}))},c=(f,d,h={replace:!1})=>{s(p=>p.map(y=>{if(y.id===f){const w=typeof d=="function"?d(y):d;return h.replace&&u3(w)?w:{...y,...w}}return y}))};return{getNodes:()=>t.getState().nodes.map(f=>({...f})),getNode:f=>{var d;return(d=o(f))==null?void 0:d.internals.userNode},getInternalNode:o,getEdges:()=>{const{edges:f=[]}=t.getState();return f.map(d=>({...d}))},getEdge:f=>t.getState().edgeLookup.get(f),setNodes:a,setEdges:s,addNodes:f=>{const d=Array.isArray(f)?f:[f];n.nodeQueue.push(h=>[...h,...d])},addEdges:f=>{const d=Array.isArray(f)?f:[f];n.edgeQueue.push(h=>[...h,...d])},toObject:()=>{const{nodes:f=[],edges:d=[],transform:h}=t.getState(),[p,y,w]=h;return{nodes:f.map(g=>({...g})),edges:d.map(g=>({...g})),viewport:{x:p,y,zoom:w}}},deleteElements:async({nodes:f=[],edges:d=[]})=>{const{nodes:h,edges:p,onNodesDelete:y,onEdgesDelete:w,triggerNodeChanges:g,triggerEdgeChanges:v,onDelete:m,onBeforeDelete:_}=t.getState(),{nodes:k,edges:b}=await k4({nodesToRemove:f,edgesToRemove:d,nodes:h,edges:p,onBeforeDelete:_}),E=b.length>0,T=k.length>0;if(E){const M=b.map(Dx);w==null||w(b),v(M)}if(T){const M=k.map(Dx);y==null||y(k),g(M)}return(T||E)&&(m==null||m({nodes:k,edges:b})),{deletedNodes:k,deletedEdges:b}},getIntersectingNodes:(f,d=!0,h)=>{const p=px(f),y=p?f:l(f),w=h!==void 0;return y?(h||t.getState().nodes).filter(g=>{const v=t.getState().nodeLookup.get(g.id);if(v&&!p&&(g.id===f.id||!v.internals.positionAbsolute))return!1;const m=Hi(w?g:v),_=ha(m,y);return d&&_>0||_>=m.width*m.height||_>=y.width*y.height}):[]},isNodeIntersecting:(f,d,h=!0)=>{const y=px(f)?f:l(f);if(!y)return!1;const w=ha(y,d);return h&&w>0||w>=d.width*d.height||w>=y.width*y.height},updateNode:u,updateNodeData:(f,d,h={replace:!1})=>{u(f,p=>{const y=typeof d=="function"?d(p):d;return h.replace?{...p,data:y}:{...p,data:{...p.data,...y}}},h)},updateEdge:c,updateEdgeData:(f,d,h={replace:!1})=>{c(f,p=>{const y=typeof d=="function"?d(p):d;return h.replace?{...p,data:y}:{...p,data:{...p.data,...y}}},h)},getNodesBounds:f=>{const{nodeLookup:d,nodeOrigin:h}=t.getState();return _4(f,{nodeLookup:d,nodeOrigin:h})},getHandleConnections:({type:f,id:d,nodeId:h})=>{var p;return Array.from(((p=t.getState().connectionLookup.get(`${h}-${f}${d?`-${d}`:""}`))==null?void 0:p.values())??[])},getNodeConnections:({type:f,handleId:d,nodeId:h})=>{var p;return Array.from(((p=t.getState().connectionLookup.get(`${h}${f?d?`-${f}-${d}`:`-${f}`:""}`))==null?void 0:p.values())??[])},fitView:async f=>{const d=t.getState().fitViewResolver??P4();return t.setState({fitViewQueued:!0,fitViewOptions:f,fitViewResolver:d}),n.nodeQueue.push(h=>[...h]),d.promise}}},[]);return L.useMemo(()=>({...i,...e,viewportInitialized:r}),[r])}const $x=e=>e.selected,g3=typeof window<"u"?window:void 0;function m3({deleteKeyCode:e,multiSelectionKeyCode:t}){const n=Re(),{deleteElements:r}=nu(),i=ga(e,{actInsideInputWithModifier:!1}),o=ga(t,{target:g3});L.useEffect(()=>{if(i){const{edges:a,nodes:s}=n.getState();r({nodes:s.filter($x),edges:a.filter($x)}),n.setState({nodesSelectionActive:!1})}},[i]),L.useEffect(()=>{n.setState({multiSelectionActive:o})},[o])}function y3(e){const t=Re();L.useEffect(()=>{const n=()=>{var i,o,a,s;if(!e.current||!(((o=(i=e.current).checkVisibility)==null?void 0:o.call(i))??!0))return!1;const r=Uy(e.current);(r.height===0||r.width===0)&&((s=(a=t.getState()).onError)==null||s.call(a,"004",bn.error004())),t.setState({width:r.width||500,height:r.height||500})};if(e.current){n(),window.addEventListener("resize",n);const r=new ResizeObserver(()=>n());return r.observe(e.current),()=>{window.removeEventListener("resize",n),r&&e.current&&r.unobserve(e.current)}}},[])}const ru={position:"absolute",width:"100%",height:"100%",top:0,left:0},v3=e=>({userSelectionActive:e.userSelectionActive,lib:e.lib,connectionInProgress:e.connection.inProgress});function x3({onPaneContextMenu:e,zoomOnScroll:t=!0,zoomOnPinch:n=!0,panOnScroll:r=!1,panOnScrollSpeed:i=.5,panOnScrollMode:o=$r.Free,zoomOnDoubleClick:a=!0,panOnDrag:s=!0,defaultViewport:l,translateExtent:u,minZoom:c,maxZoom:f,zoomActivationKeyCode:d,preventScrolling:h=!0,children:p,noWheelClassName:y,noPanClassName:w,onViewportChange:g,isControlledViewport:v,paneClickDistance:m,selectionOnDrag:_}){const k=Re(),b=L.useRef(null),{userSelectionActive:E,lib:T,connectionInProgress:M}=ve(v3,Ae),D=ga(d),P=L.useRef();y3(b);const O=L.useCallback(q=>{g==null||g({x:q[0],y:q[1],zoom:q[2]}),v||k.setState({transform:q})},[g,v]);return L.useEffect(()=>{if(b.current){P.current=dD({domNode:b.current,minZoom:c,maxZoom:f,translateExtent:u,viewport:l,onDraggingChange:z=>k.setState({paneDragging:z}),onPanZoomStart:(z,R)=>{const{onViewportChangeStart:C,onMoveStart:I}=k.getState();I==null||I(z,R),C==null||C(R)},onPanZoom:(z,R)=>{const{onViewportChange:C,onMove:I}=k.getState();I==null||I(z,R),C==null||C(R)},onPanZoomEnd:(z,R)=>{const{onViewportChangeEnd:C,onMoveEnd:I}=k.getState();I==null||I(z,R),C==null||C(R)}});const{x:q,y:j,zoom:A}=P.current.getViewport();return k.setState({panZoom:P.current,transform:[q,j,A],domNode:b.current.closest(".react-flow")}),()=>{var z;(z=P.current)==null||z.destroy()}}},[]),L.useEffect(()=>{var q;(q=P.current)==null||q.update({onPaneContextMenu:e,zoomOnScroll:t,zoomOnPinch:n,panOnScroll:r,panOnScrollSpeed:i,panOnScrollMode:o,zoomOnDoubleClick:a,panOnDrag:s,zoomActivationKeyPressed:D,preventScrolling:h,noPanClassName:w,userSelectionActive:E,noWheelClassName:y,lib:T,onTransformChange:O,connectionInProgress:M,selectionOnDrag:_,paneClickDistance:m})},[e,t,n,r,i,o,a,s,D,h,w,E,y,T,O,M,_,m]),x.jsx("div",{className:"react-flow__renderer",ref:b,style:ru,children:p})}const w3=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function _3(){const{userSelectionActive:e,userSelectionRect:t}=ve(w3,Ae);return e&&t?x.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}const fc=(e,t)=>n=>{n.target===t.current&&(e==null||e(n))},b3=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,connectionInProgress:e.connection.inProgress,dragging:e.paneDragging});function S3({isSelecting:e,selectionKeyPressed:t,selectionMode:n=da.Full,panOnDrag:r,paneClickDistance:i,selectionOnDrag:o,onSelectionStart:a,onSelectionEnd:s,onPaneClick:l,onPaneContextMenu:u,onPaneScroll:c,onPaneMouseEnter:f,onPaneMouseMove:d,onPaneMouseLeave:h,children:p}){const y=Re(),{userSelectionActive:w,elementsSelectable:g,dragging:v,connectionInProgress:m}=ve(b3,Ae),_=g&&(e||w),k=L.useRef(null),b=L.useRef(),E=L.useRef(new Set),T=L.useRef(new Set),M=L.useRef(!1),D=C=>{if(M.current||m){M.current=!1;return}l==null||l(C),y.getState().resetSelectedElements(),y.setState({nodesSelectionActive:!1})},P=C=>{if(Array.isArray(r)&&(r!=null&&r.includes(2))){C.preventDefault();return}u==null||u(C)},O=c?C=>c(C):void 0,q=C=>{M.current&&(C.stopPropagation(),M.current=!1)},j=C=>{var X,Y;const{domNode:I}=y.getState();if(b.current=I==null?void 0:I.getBoundingClientRect(),!b.current)return;const S=C.target===k.current;if(!S&&!!C.target.closest(".nokey")||!e||!(o&&S||t)||C.button!==0||!C.isPrimary)return;(Y=(X=C.target)==null?void 0:X.setPointerCapture)==null||Y.call(X,C.pointerId),M.current=!1;const{x:N,y:H}=rn(C.nativeEvent,b.current);y.setState({userSelectionRect:{width:0,height:0,startX:N,startY:H,x:N,y:H}}),S||(C.stopPropagation(),C.preventDefault())},A=C=>{const{userSelectionRect:I,transform:S,nodeLookup:$,edgeLookup:F,connectionLookup:N,triggerNodeChanges:H,triggerEdgeChanges:X,defaultEdgeOptions:Y,resetSelectedElements:Q}=y.getState();if(!b.current||!I)return;const{x:W,y:ee}=rn(C.nativeEvent,b.current),{startX:le,startY:oe}=I;if(!M.current){const fe=t?0:i;if(Math.hypot(W-le,ee-oe)<=fe)return;Q(),a==null||a(C)}M.current=!0;const te={startX:le,startY:oe,x:W<le?W:le,y:ee<oe?ee:oe,width:Math.abs(W-le),height:Math.abs(ee-oe)},ie=E.current,ge=T.current;E.current=new Set(Hy($,te,S,n===da.Partial,!0).map(fe=>fe.id)),T.current=new Set;const ne=(Y==null?void 0:Y.selectable)??!0;for(const fe of E.current){const se=N.get(fe);if(se)for(const{edgeId:Ge}of se.values()){const $e=F.get(Ge);$e&&($e.selectable??ne)&&T.current.add(Ge)}}if(!gx(ie,E.current)){const fe=wi($,E.current,!0);H(fe)}if(!gx(ge,T.current)){const fe=wi(F,T.current);X(fe)}y.setState({userSelectionRect:te,userSelectionActive:!0,nodesSelectionActive:!1})},z=C=>{var I,S;C.button===0&&((S=(I=C.target)==null?void 0:I.releasePointerCapture)==null||S.call(I,C.pointerId),!w&&C.target===k.current&&y.getState().userSelectionRect&&(D==null||D(C)),y.setState({userSelectionActive:!1,userSelectionRect:null}),M.current&&(s==null||s(C),y.setState({nodesSelectionActive:E.current.size>0})))},R=r===!0||Array.isArray(r)&&r.includes(0);return x.jsxs("div",{className:Ve(["react-flow__pane",{draggable:R,dragging:v,selection:e}]),onClick:_?void 0:fc(D,k),onContextMenu:fc(P,k),onWheel:fc(O,k),onPointerEnter:_?void 0:f,onPointerMove:_?A:d,onPointerUp:_?z:void 0,onPointerDownCapture:_?j:void 0,onClickCapture:_?q:void 0,onPointerLeave:h,ref:k,style:ru,children:[p,x.jsx(_3,{})]})}function Cm({id:e,store:t,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:i,unselectNodesAndEdges:o,multiSelectionActive:a,nodeLookup:s,onError:l}=t.getState(),u=s.get(e);if(!u){l==null||l("012",bn.error012(e));return}t.setState({nodesSelectionActive:!1}),u.selected?(n||u.selected&&a)&&(o({nodes:[u],edges:[]}),requestAnimationFrame(()=>{var c;return(c=r==null?void 0:r.current)==null?void 0:c.blur()})):i([e])}function z2({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:r,nodeId:i,isSelectable:o,nodeClickDistance:a}){const s=Re(),[l,u]=L.useState(!1),c=L.useRef();return L.useEffect(()=>{c.current=Z4({getStoreItems:()=>s.getState(),onNodeMouseDown:f=>{Cm({id:f,store:s,nodeRef:e})},onDragStart:()=>{u(!0)},onDragStop:()=>{u(!1)}})},[]),L.useEffect(()=>{var f,d;if(t)(f=c.current)==null||f.destroy();else if(e.current)return(d=c.current)==null||d.update({noDragClassName:n,handleSelector:r,domNode:e.current,isSelectable:o,nodeId:i,nodeClickDistance:a}),()=>{var h;(h=c.current)==null||h.destroy()}},[n,r,t,o,e,i]),l}const E3=e=>t=>t.selected&&(t.draggable||e&&typeof t.draggable>"u");function q2(){const e=Re();return L.useCallback(n=>{const{nodeExtent:r,snapToGrid:i,snapGrid:o,nodesDraggable:a,onError:s,updateNodePositions:l,nodeLookup:u,nodeOrigin:c}=e.getState(),f=new Map,d=E3(a),h=i?o[0]:5,p=i?o[1]:5,y=n.direction.x*h*n.factor,w=n.direction.y*p*n.factor;for(const[,g]of u){if(!d(g))continue;let v={x:g.internals.positionAbsolute.x+y,y:g.internals.positionAbsolute.y+w};i&&(v=Ta(v,o));const{position:m,positionAbsolute:_}=ZN({nodeId:g.id,nextPosition:v,nodeLookup:u,nodeExtent:r,nodeOrigin:c,onError:s});g.position=m,g.internals.positionAbsolute=_,f.set(g.id,g)}l(f)},[])}const Qy=L.createContext(null),k3=Qy.Provider;Qy.Consumer;const $2=()=>L.useContext(Qy),C3=e=>({connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName,rfId:e.rfId}),N3=(e,t,n)=>r=>{const{connectionClickStartHandle:i,connectionMode:o,connection:a}=r,{fromHandle:s,toHandle:l,isValid:u}=a,c=(l==null?void 0:l.nodeId)===e&&(l==null?void 0:l.id)===t&&(l==null?void 0:l.type)===n;return{connectingFrom:(s==null?void 0:s.nodeId)===e&&(s==null?void 0:s.id)===t&&(s==null?void 0:s.type)===n,connectingTo:c,clickConnecting:(i==null?void 0:i.nodeId)===e&&(i==null?void 0:i.id)===t&&(i==null?void 0:i.type)===n,isPossibleEndHandle:o===Fi.Strict?(s==null?void 0:s.type)!==n:e!==(s==null?void 0:s.nodeId)||t!==(s==null?void 0:s.id),connectionInProcess:!!s,clickConnectionInProcess:!!i,valid:c&&u}};function T3({type:e="source",position:t=K.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:i=!0,isConnectableEnd:o=!0,id:a,onConnect:s,children:l,className:u,onMouseDown:c,onTouchStart:f,...d},h){var A,z;const p=a||null,y=e==="target",w=Re(),g=$2(),{connectOnClick:v,noPanClassName:m,rfId:_}=ve(C3,Ae),{connectingFrom:k,connectingTo:b,clickConnecting:E,isPossibleEndHandle:T,connectionInProcess:M,clickConnectionInProcess:D,valid:P}=ve(N3(g,p,e),Ae);g||(z=(A=w.getState()).onError)==null||z.call(A,"010",bn.error010());const O=R=>{const{defaultEdgeOptions:C,onConnect:I,hasDefaultEdges:S}=w.getState(),$={...C,...R};if(S){const{edges:F,setEdges:N}=w.getState();N(O4($,F))}I==null||I($),s==null||s($)},q=R=>{if(!g)return;const C=a2(R.nativeEvent);if(i&&(C&&R.button===0||!C)){const I=w.getState();km.onPointerDown(R.nativeEvent,{handleDomNode:R.currentTarget,autoPanOnConnect:I.autoPanOnConnect,connectionMode:I.connectionMode,connectionRadius:I.connectionRadius,domNode:I.domNode,nodeLookup:I.nodeLookup,lib:I.lib,isTarget:y,handleId:p,nodeId:g,flowId:I.rfId,panBy:I.panBy,cancelConnection:I.cancelConnection,onConnectStart:I.onConnectStart,onConnectEnd:I.onConnectEnd,updateConnection:I.updateConnection,onConnect:O,isValidConnection:n||I.isValidConnection,getTransform:()=>w.getState().transform,getFromHandle:()=>w.getState().connection.fromHandle,autoPanSpeed:I.autoPanSpeed,dragThreshold:I.connectionDragThreshold})}C?c==null||c(R):f==null||f(R)},j=R=>{const{onClickConnectStart:C,onClickConnectEnd:I,connectionClickStartHandle:S,connectionMode:$,isValidConnection:F,lib:N,rfId:H,nodeLookup:X,connection:Y}=w.getState();if(!g||!S&&!i)return;if(!S){C==null||C(R.nativeEvent,{nodeId:g,handleId:p,handleType:e}),w.setState({connectionClickStartHandle:{nodeId:g,type:e,id:p}});return}const Q=i2(R.target),W=n||F,{connection:ee,isValid:le}=km.isValid(R.nativeEvent,{handle:{nodeId:g,id:p,type:e},connectionMode:$,fromNodeId:S.nodeId,fromHandleId:S.id||null,fromType:S.type,isValidConnection:W,flowId:H,doc:Q,lib:N,nodeLookup:X});le&&ee&&O(ee);const oe=structuredClone(Y);delete oe.inProgress,oe.toPosition=oe.toHandle?oe.toHandle.position:null,I==null||I(R,oe),w.setState({connectionClickStartHandle:null})};return x.jsx("div",{"data-handleid":p,"data-nodeid":g,"data-handlepos":t,"data-id":`${_}-${g}-${p}-${e}`,className:Ve(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",m,u,{source:!y,target:y,connectable:r,connectablestart:i,connectableend:o,clickconnecting:E,connectingfrom:k,connectingto:b,valid:P,connectionindicator:r&&(!M||T)&&(M||D?o:i)}]),onMouseDown:q,onTouchStart:q,onClick:v?j:void 0,ref:h,...d,children:l})}const Se=L.memo(O2(T3));function P3({data:e,isConnectable:t,sourcePosition:n=K.Bottom}){return x.jsxs(x.Fragment,{children:[e==null?void 0:e.label,x.jsx(Se,{type:"source",position:n,isConnectable:t})]})}function j3({data:e,isConnectable:t,targetPosition:n=K.Top,sourcePosition:r=K.Bottom}){return x.jsxs(x.Fragment,{children:[x.jsx(Se,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label,x.jsx(Se,{type:"source",position:r,isConnectable:t})]})}function I3(){return null}function A3({data:e,isConnectable:t,targetPosition:n=K.Top}){return x.jsxs(x.Fragment,{children:[x.jsx(Se,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label]})}const xl={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},Fx={input:P3,default:j3,output:A3,group:I3};function R3(e){var t,n,r,i;return e.internals.handleBounds===void 0?{width:e.width??e.initialWidth??((t=e.style)==null?void 0:t.width),height:e.height??e.initialHeight??((n=e.style)==null?void 0:n.height)}:{width:e.width??((r=e.style)==null?void 0:r.width),height:e.height??((i=e.style)==null?void 0:i.height)}}const M3=e=>{const{width:t,height:n,x:r,y:i}=Na(e.nodeLookup,{filter:o=>!!o.selected});return{width:nn(t)?t:null,height:nn(n)?n:null,userSelectionActive:e.userSelectionActive,transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]}) translate(${r}px,${i}px)`}};function L3({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const r=Re(),{width:i,height:o,transformString:a,userSelectionActive:s}=ve(M3,Ae),l=q2(),u=L.useRef(null);if(L.useEffect(()=>{var d;n||(d=u.current)==null||d.focus({preventScroll:!0})},[n]),z2({nodeRef:u}),s||!i||!o)return null;const c=e?d=>{const h=r.getState().nodes.filter(p=>p.selected);e(d,h)}:void 0,f=d=>{Object.prototype.hasOwnProperty.call(xl,d.key)&&(d.preventDefault(),l({direction:xl[d.key],factor:d.shiftKey?4:1}))};return x.jsx("div",{className:Ve(["react-flow__nodesselection","react-flow__container",t]),style:{transform:a},children:x.jsx("div",{ref:u,className:"react-flow__nodesselection-rect",onContextMenu:c,tabIndex:n?void 0:-1,onKeyDown:n?void 0:f,style:{width:i,height:o}})})}const Bx=typeof window<"u"?window:void 0,O3=e=>({nodesSelectionActive:e.nodesSelectionActive,userSelectionActive:e.userSelectionActive});function F2({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:o,onPaneScroll:a,paneClickDistance:s,deleteKeyCode:l,selectionKeyCode:u,selectionOnDrag:c,selectionMode:f,onSelectionStart:d,onSelectionEnd:h,multiSelectionKeyCode:p,panActivationKeyCode:y,zoomActivationKeyCode:w,elementsSelectable:g,zoomOnScroll:v,zoomOnPinch:m,panOnScroll:_,panOnScrollSpeed:k,panOnScrollMode:b,zoomOnDoubleClick:E,panOnDrag:T,defaultViewport:M,translateExtent:D,minZoom:P,maxZoom:O,preventScrolling:q,onSelectionContextMenu:j,noWheelClassName:A,noPanClassName:z,disableKeyboardA11y:R,onViewportChange:C,isControlledViewport:I}){const{nodesSelectionActive:S,userSelectionActive:$}=ve(O3,Ae),F=ga(u,{target:Bx}),N=ga(y,{target:Bx}),H=N||T,X=N||_,Y=c&&H!==!0,Q=F||$||Y;return m3({deleteKeyCode:l,multiSelectionKeyCode:p}),x.jsx(x3,{onPaneContextMenu:o,elementsSelectable:g,zoomOnScroll:v,zoomOnPinch:m,panOnScroll:X,panOnScrollSpeed:k,panOnScrollMode:b,zoomOnDoubleClick:E,panOnDrag:!F&&H,defaultViewport:M,translateExtent:D,minZoom:P,maxZoom:O,zoomActivationKeyCode:w,preventScrolling:q,noWheelClassName:A,noPanClassName:z,onViewportChange:C,isControlledViewport:I,paneClickDistance:s,selectionOnDrag:Y,children:x.jsxs(S3,{onSelectionStart:d,onSelectionEnd:h,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:o,onPaneScroll:a,panOnDrag:H,isSelecting:!!Q,selectionMode:f,selectionKeyPressed:F,paneClickDistance:s,selectionOnDrag:Y,children:[e,S&&x.jsx(L3,{onSelectionContextMenu:j,noPanClassName:z,disableKeyboardA11y:R})]})})}F2.displayName="FlowRenderer";const D3=L.memo(F2),z3=e=>t=>e?Hy(t.nodeLookup,{x:0,y:0,width:t.width,height:t.height},t.transform,!0).map(n=>n.id):Array.from(t.nodeLookup.keys());function q3(e){return ve(L.useCallback(z3(e),[e]),Ae)}const $3=e=>e.updateNodeInternals;function F3(){const e=ve($3),[t]=L.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(n=>{const r=new Map;n.forEach(i=>{const o=i.target.getAttribute("data-id");r.set(o,{id:o,nodeElement:i.target,force:!0})}),e(r)}));return L.useEffect(()=>()=>{t==null||t.disconnect()},[t]),t}function B3({node:e,nodeType:t,hasDimensions:n,resizeObserver:r}){const i=Re(),o=L.useRef(null),a=L.useRef(null),s=L.useRef(e.sourcePosition),l=L.useRef(e.targetPosition),u=L.useRef(t),c=n&&!!e.internals.handleBounds;return L.useEffect(()=>{o.current&&!e.hidden&&(!c||a.current!==o.current)&&(a.current&&(r==null||r.unobserve(a.current)),r==null||r.observe(o.current),a.current=o.current)},[c,e.hidden]),L.useEffect(()=>()=>{a.current&&(r==null||r.unobserve(a.current),a.current=null)},[]),L.useEffect(()=>{if(o.current){const f=u.current!==t,d=s.current!==e.sourcePosition,h=l.current!==e.targetPosition;(f||d||h)&&(u.current=t,s.current=e.sourcePosition,l.current=e.targetPosition,i.getState().updateNodeInternals(new Map([[e.id,{id:e.id,nodeElement:o.current,force:!0}]])))}},[e.id,t,e.sourcePosition,e.targetPosition]),o}function H3({id:e,onClick:t,onMouseEnter:n,onMouseMove:r,onMouseLeave:i,onContextMenu:o,onDoubleClick:a,nodesDraggable:s,elementsSelectable:l,nodesConnectable:u,nodesFocusable:c,resizeObserver:f,noDragClassName:d,noPanClassName:h,disableKeyboardA11y:p,rfId:y,nodeTypes:w,nodeClickDistance:g,onError:v}){const{node:m,internals:_,isParent:k}=ve(W=>{const ee=W.nodeLookup.get(e),le=W.parentLookup.has(e);return{node:ee,internals:ee.internals,isParent:le}},Ae);let b=m.type||"default",E=(w==null?void 0:w[b])||Fx[b];E===void 0&&(v==null||v("003",bn.error003(b)),b="default",E=(w==null?void 0:w.default)||Fx.default);const T=!!(m.draggable||s&&typeof m.draggable>"u"),M=!!(m.selectable||l&&typeof m.selectable>"u"),D=!!(m.connectable||u&&typeof m.connectable>"u"),P=!!(m.focusable||c&&typeof m.focusable>"u"),O=Re(),q=n2(m),j=B3({node:m,nodeType:b,hasDimensions:q,resizeObserver:f}),A=z2({nodeRef:j,disabled:m.hidden||!T,noDragClassName:d,handleSelector:m.dragHandle,nodeId:e,isSelectable:M,nodeClickDistance:g}),z=q2();if(m.hidden)return null;const R=Hn(m),C=R3(m),I=M||T||t||n||r||i,S=n?W=>n(W,{..._.userNode}):void 0,$=r?W=>r(W,{..._.userNode}):void 0,F=i?W=>i(W,{..._.userNode}):void 0,N=o?W=>o(W,{..._.userNode}):void 0,H=a?W=>a(W,{..._.userNode}):void 0,X=W=>{const{selectNodesOnDrag:ee,nodeDragThreshold:le}=O.getState();M&&(!ee||!T||le>0)&&Cm({id:e,store:O,nodeRef:j}),t&&t(W,{..._.userNode})},Y=W=>{if(!(o2(W.nativeEvent)||p)){if(WN.includes(W.key)&&M){const ee=W.key==="Escape";Cm({id:e,store:O,unselect:ee,nodeRef:j})}else if(T&&m.selected&&Object.prototype.hasOwnProperty.call(xl,W.key)){W.preventDefault();const{ariaLabelConfig:ee}=O.getState();O.setState({ariaLiveMessage:ee["node.a11yDescription.ariaLiveMessage"]({direction:W.key.replace("Arrow","").toLowerCase(),x:~~_.positionAbsolute.x,y:~~_.positionAbsolute.y})}),z({direction:xl[W.key],factor:W.shiftKey?4:1})}}},Q=()=>{var ge;if(p||!((ge=j.current)!=null&&ge.matches(":focus-visible")))return;const{transform:W,width:ee,height:le,autoPanOnNodeFocus:oe,setCenter:te}=O.getState();if(!oe)return;Hy(new Map([[e,m]]),{x:0,y:0,width:ee,height:le},W,!0).length>0||te(m.position.x+R.width/2,m.position.y+R.height/2,{zoom:W[2]})};return x.jsx("div",{className:Ve(["react-flow__node",`react-flow__node-${b}`,{[h]:T},m.className,{selected:m.selected,selectable:M,parent:k,draggable:T,dragging:A}]),ref:j,style:{zIndex:_.z,transform:`translate(${_.positionAbsolute.x}px,${_.positionAbsolute.y}px)`,pointerEvents:I?"all":"none",visibility:q?"visible":"hidden",...m.style,...C},"data-id":e,"data-testid":`rf__node-${e}`,onMouseEnter:S,onMouseMove:$,onMouseLeave:F,onContextMenu:N,onClick:X,onDoubleClick:H,onKeyDown:P?Y:void 0,tabIndex:P?0:void 0,onFocus:P?Q:void 0,role:m.ariaRole??(P?"group":void 0),"aria-roledescription":"node","aria-describedby":p?void 0:`${j2}-${y}`,"aria-label":m.ariaLabel,...m.domAttributes,children:x.jsx(k3,{value:e,children:x.jsx(E,{id:e,data:m.data,type:b,positionAbsoluteX:_.positionAbsolute.x,positionAbsoluteY:_.positionAbsolute.y,selected:m.selected??!1,selectable:M,draggable:T,deletable:m.deletable??!0,isConnectable:D,sourcePosition:m.sourcePosition,targetPosition:m.targetPosition,dragging:A,dragHandle:m.dragHandle,zIndex:_.z,parentId:m.parentId,...R})})})}var V3=L.memo(H3);const U3=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,onError:e.onError});function B2(e){const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,onError:o}=ve(U3,Ae),a=q3(e.onlyRenderVisibleElements),s=F3();return x.jsx("div",{className:"react-flow__nodes",style:ru,children:a.map(l=>x.jsx(V3,{id:l,nodeTypes:e.nodeTypes,nodeExtent:e.nodeExtent,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,resizeObserver:s,nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,nodeClickDistance:e.nodeClickDistance,onError:o},l))})}B2.displayName="NodeRenderer";const G3=L.memo(B2);function W3(e){return ve(L.useCallback(n=>{if(!e)return n.edges.map(i=>i.id);const r=[];if(n.width&&n.height)for(const i of n.edges){const o=n.nodeLookup.get(i.source),a=n.nodeLookup.get(i.target);o&&a&&R4({sourceNode:o,targetNode:a,width:n.width,height:n.height,transform:n.transform})&&r.push(i.id)}return r},[e]),Ae)}const Y3=({color:e="none",strokeWidth:t=1})=>{const n={strokeWidth:t,...e&&{stroke:e}};return x.jsx("polyline",{className:"arrow",style:n,strokeLinecap:"round",fill:"none",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4"})},K3=({color:e="none",strokeWidth:t=1})=>{const n={strokeWidth:t,...e&&{stroke:e,fill:e}};return x.jsx("polyline",{className:"arrowclosed",style:n,strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})},Hx={[gl.Arrow]:Y3,[gl.ArrowClosed]:K3};function X3(e){const t=Re();return L.useMemo(()=>{var i,o;return Object.prototype.hasOwnProperty.call(Hx,e)?Hx[e]:((o=(i=t.getState()).onError)==null||o.call(i,"009",bn.error009(e)),null)},[e])}const Q3=({id:e,type:t,color:n,width:r=12.5,height:i=12.5,markerUnits:o="strokeWidth",strokeWidth:a,orient:s="auto-start-reverse"})=>{const l=X3(t);return l?x.jsx("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${r}`,markerHeight:`${i}`,viewBox:"-10 -10 20 20",markerUnits:o,orient:s,refX:"0",refY:"0",children:x.jsx(l,{color:n,strokeWidth:a})}):null},H2=({defaultColor:e,rfId:t})=>{const n=ve(o=>o.edges),r=ve(o=>o.defaultEdgeOptions),i=L.useMemo(()=>F4(n,{id:t,defaultColor:e,defaultMarkerStart:r==null?void 0:r.markerStart,defaultMarkerEnd:r==null?void 0:r.markerEnd}),[n,r,t,e]);return i.length?x.jsx("svg",{className:"react-flow__marker","aria-hidden":"true",children:x.jsx("defs",{children:i.map(o=>x.jsx(Q3,{id:o.id,type:o.type,color:o.color,width:o.width,height:o.height,markerUnits:o.markerUnits,strokeWidth:o.strokeWidth,orient:o.orient},o.id))})}):null};H2.displayName="MarkerDefinitions";var Z3=L.memo(H2);function V2({x:e,y:t,label:n,labelStyle:r,labelShowBg:i=!0,labelBgStyle:o,labelBgPadding:a=[2,4],labelBgBorderRadius:s=2,children:l,className:u,...c}){const[f,d]=L.useState({x:1,y:0,width:0,height:0}),h=Ve(["react-flow__edge-textwrapper",u]),p=L.useRef(null);return L.useEffect(()=>{if(p.current){const y=p.current.getBBox();d({x:y.x,y:y.y,width:y.width,height:y.height})}},[n]),n?x.jsxs("g",{transform:`translate(${e-f.width/2} ${t-f.height/2})`,className:h,visibility:f.width?"visible":"hidden",...c,children:[i&&x.jsx("rect",{width:f.width+2*a[0],x:-a[0],y:-a[1],height:f.height+2*a[1],className:"react-flow__edge-textbg",style:o,rx:s,ry:s}),x.jsx("text",{className:"react-flow__edge-text",y:f.height/2,dy:"0.3em",ref:p,style:r,children:n}),l]}):null}V2.displayName="EdgeText";const J3=L.memo(V2);function iu({path:e,labelX:t,labelY:n,label:r,labelStyle:i,labelShowBg:o,labelBgStyle:a,labelBgPadding:s,labelBgBorderRadius:l,interactionWidth:u=20,...c}){return x.jsxs(x.Fragment,{children:[x.jsx("path",{...c,d:e,fill:"none",className:Ve(["react-flow__edge-path",c.className])}),u?x.jsx("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:u,className:"react-flow__edge-interaction"}):null,r&&nn(t)&&nn(n)?x.jsx(J3,{x:t,y:n,label:r,labelStyle:i,labelShowBg:o,labelBgStyle:a,labelBgPadding:s,labelBgBorderRadius:l}):null]})}function Vx({pos:e,x1:t,y1:n,x2:r,y2:i}){return e===K.Left||e===K.Right?[.5*(t+r),n]:[t,.5*(n+i)]}function U2({sourceX:e,sourceY:t,sourcePosition:n=K.Bottom,targetX:r,targetY:i,targetPosition:o=K.Top}){const[a,s]=Vx({pos:n,x1:e,y1:t,x2:r,y2:i}),[l,u]=Vx({pos:o,x1:r,y1:i,x2:e,y2:t}),[c,f,d,h]=s2({sourceX:e,sourceY:t,targetX:r,targetY:i,sourceControlX:a,sourceControlY:s,targetControlX:l,targetControlY:u});return[`M${e},${t} C${a},${s} ${l},${u} ${r},${i}`,c,f,d,h]}function G2(e){return L.memo(({id:t,sourceX:n,sourceY:r,targetX:i,targetY:o,sourcePosition:a,targetPosition:s,label:l,labelStyle:u,labelShowBg:c,labelBgStyle:f,labelBgPadding:d,labelBgBorderRadius:h,style:p,markerEnd:y,markerStart:w,interactionWidth:g})=>{const[v,m,_]=U2({sourceX:n,sourceY:r,sourcePosition:a,targetX:i,targetY:o,targetPosition:s}),k=e.isInternal?void 0:t;return x.jsx(iu,{id:k,path:v,labelX:m,labelY:_,label:l,labelStyle:u,labelShowBg:c,labelBgStyle:f,labelBgPadding:d,labelBgBorderRadius:h,style:p,markerEnd:y,markerStart:w,interactionWidth:g})})}const ez=G2({isInternal:!1}),W2=G2({isInternal:!0});ez.displayName="SimpleBezierEdge";W2.displayName="SimpleBezierEdgeInternal";function Y2(e){return L.memo(({id:t,sourceX:n,sourceY:r,targetX:i,targetY:o,label:a,labelStyle:s,labelShowBg:l,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:f,style:d,sourcePosition:h=K.Bottom,targetPosition:p=K.Top,markerEnd:y,markerStart:w,pathOptions:g,interactionWidth:v})=>{const[m,_,k]=vl({sourceX:n,sourceY:r,sourcePosition:h,targetX:i,targetY:o,targetPosition:p,borderRadius:g==null?void 0:g.borderRadius,offset:g==null?void 0:g.offset,stepPosition:g==null?void 0:g.stepPosition}),b=e.isInternal?void 0:t;return x.jsx(iu,{id:b,path:m,labelX:_,labelY:k,label:a,labelStyle:s,labelShowBg:l,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:f,style:d,markerEnd:y,markerStart:w,interactionWidth:v})})}const K2=Y2({isInternal:!1}),X2=Y2({isInternal:!0});K2.displayName="SmoothStepEdge";X2.displayName="SmoothStepEdgeInternal";function Q2(e){return L.memo(({id:t,...n})=>{var i;const r=e.isInternal?void 0:t;return x.jsx(K2,{...n,id:r,pathOptions:L.useMemo(()=>{var o;return{borderRadius:0,offset:(o=n.pathOptions)==null?void 0:o.offset}},[(i=n.pathOptions)==null?void 0:i.offset])})})}const tz=Q2({isInternal:!1}),Z2=Q2({isInternal:!0});tz.displayName="StepEdge";Z2.displayName="StepEdgeInternal";function J2(e){return L.memo(({id:t,sourceX:n,sourceY:r,targetX:i,targetY:o,label:a,labelStyle:s,labelShowBg:l,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:f,style:d,markerEnd:h,markerStart:p,interactionWidth:y})=>{const[w,g,v]=c2({sourceX:n,sourceY:r,targetX:i,targetY:o}),m=e.isInternal?void 0:t;return x.jsx(iu,{id:m,path:w,labelX:g,labelY:v,label:a,labelStyle:s,labelShowBg:l,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:f,style:d,markerEnd:h,markerStart:p,interactionWidth:y})})}const nz=J2({isInternal:!1}),eT=J2({isInternal:!0});nz.displayName="StraightEdge";eT.displayName="StraightEdgeInternal";function tT(e){return L.memo(({id:t,sourceX:n,sourceY:r,targetX:i,targetY:o,sourcePosition:a=K.Bottom,targetPosition:s=K.Top,label:l,labelStyle:u,labelShowBg:c,labelBgStyle:f,labelBgPadding:d,labelBgBorderRadius:h,style:p,markerEnd:y,markerStart:w,pathOptions:g,interactionWidth:v})=>{const[m,_,k]=l2({sourceX:n,sourceY:r,sourcePosition:a,targetX:i,targetY:o,targetPosition:s,curvature:g==null?void 0:g.curvature}),b=e.isInternal?void 0:t;return x.jsx(iu,{id:b,path:m,labelX:_,labelY:k,label:l,labelStyle:u,labelShowBg:c,labelBgStyle:f,labelBgPadding:d,labelBgBorderRadius:h,style:p,markerEnd:y,markerStart:w,interactionWidth:v})})}const rz=tT({isInternal:!1}),nT=tT({isInternal:!0});rz.displayName="BezierEdge";nT.displayName="BezierEdgeInternal";const Ux={default:nT,straight:eT,step:Z2,smoothstep:X2,simplebezier:W2},Gx={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},iz=(e,t,n)=>n===K.Left?e-t:n===K.Right?e+t:e,oz=(e,t,n)=>n===K.Top?e-t:n===K.Bottom?e+t:e,Wx="react-flow__edgeupdater";function Yx({position:e,centerX:t,centerY:n,radius:r=10,onMouseDown:i,onMouseEnter:o,onMouseOut:a,type:s}){return x.jsx("circle",{onMouseDown:i,onMouseEnter:o,onMouseOut:a,className:Ve([Wx,`${Wx}-${s}`]),cx:iz(t,r,e),cy:oz(n,r,e),r,stroke:"transparent",fill:"transparent"})}function az({isReconnectable:e,reconnectRadius:t,edge:n,sourceX:r,sourceY:i,targetX:o,targetY:a,sourcePosition:s,targetPosition:l,onReconnect:u,onReconnectStart:c,onReconnectEnd:f,setReconnecting:d,setUpdateHover:h}){const p=Re(),y=(_,k)=>{if(_.button!==0)return;const{autoPanOnConnect:b,domNode:E,isValidConnection:T,connectionMode:M,connectionRadius:D,lib:P,onConnectStart:O,onConnectEnd:q,cancelConnection:j,nodeLookup:A,rfId:z,panBy:R,updateConnection:C}=p.getState(),I=k.type==="target",S=(N,H)=>{d(!1),f==null||f(N,n,k.type,H)},$=N=>u==null?void 0:u(n,N),F=(N,H)=>{d(!0),c==null||c(_,n,k.type),O==null||O(N,H)};km.onPointerDown(_.nativeEvent,{autoPanOnConnect:b,connectionMode:M,connectionRadius:D,domNode:E,handleId:k.id,nodeId:k.nodeId,nodeLookup:A,isTarget:I,edgeUpdaterType:k.type,lib:P,flowId:z,cancelConnection:j,panBy:R,isValidConnection:T,onConnect:$,onConnectStart:F,onConnectEnd:q,onReconnectEnd:S,updateConnection:C,getTransform:()=>p.getState().transform,getFromHandle:()=>p.getState().connection.fromHandle,dragThreshold:p.getState().connectionDragThreshold,handleDomNode:_.currentTarget})},w=_=>y(_,{nodeId:n.target,id:n.targetHandle??null,type:"target"}),g=_=>y(_,{nodeId:n.source,id:n.sourceHandle??null,type:"source"}),v=()=>h(!0),m=()=>h(!1);return x.jsxs(x.Fragment,{children:[(e===!0||e==="source")&&x.jsx(Yx,{position:s,centerX:r,centerY:i,radius:t,onMouseDown:w,onMouseEnter:v,onMouseOut:m,type:"source"}),(e===!0||e==="target")&&x.jsx(Yx,{position:l,centerX:o,centerY:a,radius:t,onMouseDown:g,onMouseEnter:v,onMouseOut:m,type:"target"})]})}function sz({id:e,edgesFocusable:t,edgesReconnectable:n,elementsSelectable:r,onClick:i,onDoubleClick:o,onContextMenu:a,onMouseEnter:s,onMouseMove:l,onMouseLeave:u,reconnectRadius:c,onReconnect:f,onReconnectStart:d,onReconnectEnd:h,rfId:p,edgeTypes:y,noPanClassName:w,onError:g,disableKeyboardA11y:v}){let m=ve(te=>te.edgeLookup.get(e));const _=ve(te=>te.defaultEdgeOptions);m=_?{..._,...m}:m;let k=m.type||"default",b=(y==null?void 0:y[k])||Ux[k];b===void 0&&(g==null||g("011",bn.error011(k)),k="default",b=(y==null?void 0:y.default)||Ux.default);const E=!!(m.focusable||t&&typeof m.focusable>"u"),T=typeof f<"u"&&(m.reconnectable||n&&typeof m.reconnectable>"u"),M=!!(m.selectable||r&&typeof m.selectable>"u"),D=L.useRef(null),[P,O]=L.useState(!1),[q,j]=L.useState(!1),A=Re(),{zIndex:z,sourceX:R,sourceY:C,targetX:I,targetY:S,sourcePosition:$,targetPosition:F}=ve(L.useCallback(te=>{const ie=te.nodeLookup.get(m.source),ge=te.nodeLookup.get(m.target);if(!ie||!ge)return{zIndex:m.zIndex,...Gx};const ne=$4({id:e,sourceNode:ie,targetNode:ge,sourceHandle:m.sourceHandle||null,targetHandle:m.targetHandle||null,connectionMode:te.connectionMode,onError:g});return{zIndex:A4({selected:m.selected,zIndex:m.zIndex,sourceNode:ie,targetNode:ge,elevateOnSelect:te.elevateEdgesOnSelect,zIndexMode:te.zIndexMode}),...ne||Gx}},[m.source,m.target,m.sourceHandle,m.targetHandle,m.selected,m.zIndex]),Ae),N=L.useMemo(()=>m.markerStart?`url('#${Sm(m.markerStart,p)}')`:void 0,[m.markerStart,p]),H=L.useMemo(()=>m.markerEnd?`url('#${Sm(m.markerEnd,p)}')`:void 0,[m.markerEnd,p]);if(m.hidden||R===null||C===null||I===null||S===null)return null;const X=te=>{var fe;const{addSelectedEdges:ie,unselectNodesAndEdges:ge,multiSelectionActive:ne}=A.getState();M&&(A.setState({nodesSelectionActive:!1}),m.selected&&ne?(ge({nodes:[],edges:[m]}),(fe=D.current)==null||fe.blur()):ie([e])),i&&i(te,m)},Y=o?te=>{o(te,{...m})}:void 0,Q=a?te=>{a(te,{...m})}:void 0,W=s?te=>{s(te,{...m})}:void 0,ee=l?te=>{l(te,{...m})}:void 0,le=u?te=>{u(te,{...m})}:void 0,oe=te=>{var ie;if(!v&&WN.includes(te.key)&&M){const{unselectNodesAndEdges:ge,addSelectedEdges:ne}=A.getState();te.key==="Escape"?((ie=D.current)==null||ie.blur(),ge({edges:[m]})):ne([e])}};return x.jsx("svg",{style:{zIndex:z},children:x.jsxs("g",{className:Ve(["react-flow__edge",`react-flow__edge-${k}`,m.className,w,{selected:m.selected,animated:m.animated,inactive:!M&&!i,updating:P,selectable:M}]),onClick:X,onDoubleClick:Y,onContextMenu:Q,onMouseEnter:W,onMouseMove:ee,onMouseLeave:le,onKeyDown:E?oe:void 0,tabIndex:E?0:void 0,role:m.ariaRole??(E?"group":"img"),"aria-roledescription":"edge","data-id":e,"data-testid":`rf__edge-${e}`,"aria-label":m.ariaLabel===null?void 0:m.ariaLabel||`Edge from ${m.source} to ${m.target}`,"aria-describedby":E?`${I2}-${p}`:void 0,ref:D,...m.domAttributes,children:[!q&&x.jsx(b,{id:e,source:m.source,target:m.target,type:m.type,selected:m.selected,animated:m.animated,selectable:M,deletable:m.deletable??!0,label:m.label,labelStyle:m.labelStyle,labelShowBg:m.labelShowBg,labelBgStyle:m.labelBgStyle,labelBgPadding:m.labelBgPadding,labelBgBorderRadius:m.labelBgBorderRadius,sourceX:R,sourceY:C,targetX:I,targetY:S,sourcePosition:$,targetPosition:F,data:m.data,style:m.style,sourceHandleId:m.sourceHandle,targetHandleId:m.targetHandle,markerStart:N,markerEnd:H,pathOptions:"pathOptions"in m?m.pathOptions:void 0,interactionWidth:m.interactionWidth}),T&&x.jsx(az,{edge:m,isReconnectable:T,reconnectRadius:c,onReconnect:f,onReconnectStart:d,onReconnectEnd:h,sourceX:R,sourceY:C,targetX:I,targetY:S,sourcePosition:$,targetPosition:F,setUpdateHover:O,setReconnecting:j})]})})}var lz=L.memo(sz);const uz=e=>({edgesFocusable:e.edgesFocusable,edgesReconnectable:e.edgesReconnectable,elementsSelectable:e.elementsSelectable,connectionMode:e.connectionMode,onError:e.onError});function rT({defaultMarkerColor:e,onlyRenderVisibleElements:t,rfId:n,edgeTypes:r,noPanClassName:i,onReconnect:o,onEdgeContextMenu:a,onEdgeMouseEnter:s,onEdgeMouseMove:l,onEdgeMouseLeave:u,onEdgeClick:c,reconnectRadius:f,onEdgeDoubleClick:d,onReconnectStart:h,onReconnectEnd:p,disableKeyboardA11y:y}){const{edgesFocusable:w,edgesReconnectable:g,elementsSelectable:v,onError:m}=ve(uz,Ae),_=W3(t);return x.jsxs("div",{className:"react-flow__edges",children:[x.jsx(Z3,{defaultColor:e,rfId:n}),_.map(k=>x.jsx(lz,{id:k,edgesFocusable:w,edgesReconnectable:g,elementsSelectable:v,noPanClassName:i,onReconnect:o,onContextMenu:a,onMouseEnter:s,onMouseMove:l,onMouseLeave:u,onClick:c,reconnectRadius:f,onDoubleClick:d,onReconnectStart:h,onReconnectEnd:p,rfId:n,onError:m,edgeTypes:r,disableKeyboardA11y:y},k))]})}rT.displayName="EdgeRenderer";const cz=L.memo(rT),fz=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function dz({children:e}){const t=ve(fz);return x.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:t},children:e})}function hz(e){const t=nu(),n=L.useRef(!1);L.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const pz=e=>{var t;return(t=e.panZoom)==null?void 0:t.syncViewport};function gz(e){const t=ve(pz),n=Re();return L.useEffect(()=>{e&&(t==null||t(e),n.setState({transform:[e.x,e.y,e.zoom]}))},[e,t]),null}function mz(e){return e.connection.inProgress?{...e.connection,to:Pa(e.connection.to,e.transform)}:{...e.connection}}function yz(e){return mz}function vz(e){const t=yz();return ve(t,Ae)}const xz=e=>({nodesConnectable:e.nodesConnectable,isValid:e.connection.isValid,inProgress:e.connection.inProgress,width:e.width,height:e.height});function wz({containerStyle:e,style:t,type:n,component:r}){const{nodesConnectable:i,width:o,height:a,isValid:s,inProgress:l}=ve(xz,Ae);return!(o&&i&&l)?null:x.jsx("svg",{style:e,width:o,height:a,className:"react-flow__connectionline react-flow__container",children:x.jsx("g",{className:Ve(["react-flow__connection",XN(s)]),children:x.jsx(iT,{style:t,type:n,CustomComponent:r,isValid:s})})})}const iT=({style:e,type:t=tr.Bezier,CustomComponent:n,isValid:r})=>{const{inProgress:i,from:o,fromNode:a,fromHandle:s,fromPosition:l,to:u,toNode:c,toHandle:f,toPosition:d,pointer:h}=vz();if(!i)return;if(n)return x.jsx(n,{connectionLineType:t,connectionLineStyle:e,fromNode:a,fromHandle:s,fromX:o.x,fromY:o.y,toX:u.x,toY:u.y,fromPosition:l,toPosition:d,connectionStatus:XN(r),toNode:c,toHandle:f,pointer:h});let p="";const y={sourceX:o.x,sourceY:o.y,sourcePosition:l,targetX:u.x,targetY:u.y,targetPosition:d};switch(t){case tr.Bezier:[p]=l2(y);break;case tr.SimpleBezier:[p]=U2(y);break;case tr.Step:[p]=vl({...y,borderRadius:0});break;case tr.SmoothStep:[p]=vl(y);break;default:[p]=c2(y)}return x.jsx("path",{d:p,fill:"none",className:"react-flow__connection-path",style:e})};iT.displayName="ConnectionLine";const _z={};function Kx(e=_z){L.useRef(e),Re(),L.useEffect(()=>{},[e])}function bz(){Re(),L.useRef(!1),L.useEffect(()=>{},[])}function oT({nodeTypes:e,edgeTypes:t,onInit:n,onNodeClick:r,onEdgeClick:i,onNodeDoubleClick:o,onEdgeDoubleClick:a,onNodeMouseEnter:s,onNodeMouseMove:l,onNodeMouseLeave:u,onNodeContextMenu:c,onSelectionContextMenu:f,onSelectionStart:d,onSelectionEnd:h,connectionLineType:p,connectionLineStyle:y,connectionLineComponent:w,connectionLineContainerStyle:g,selectionKeyCode:v,selectionOnDrag:m,selectionMode:_,multiSelectionKeyCode:k,panActivationKeyCode:b,zoomActivationKeyCode:E,deleteKeyCode:T,onlyRenderVisibleElements:M,elementsSelectable:D,defaultViewport:P,translateExtent:O,minZoom:q,maxZoom:j,preventScrolling:A,defaultMarkerColor:z,zoomOnScroll:R,zoomOnPinch:C,panOnScroll:I,panOnScrollSpeed:S,panOnScrollMode:$,zoomOnDoubleClick:F,panOnDrag:N,onPaneClick:H,onPaneMouseEnter:X,onPaneMouseMove:Y,onPaneMouseLeave:Q,onPaneScroll:W,onPaneContextMenu:ee,paneClickDistance:le,nodeClickDistance:oe,onEdgeContextMenu:te,onEdgeMouseEnter:ie,onEdgeMouseMove:ge,onEdgeMouseLeave:ne,reconnectRadius:fe,onReconnect:se,onReconnectStart:Ge,onReconnectEnd:$e,noDragClassName:pt,noWheelClassName:gt,noPanClassName:Ke,disableKeyboardA11y:Pe,nodeExtent:$t,rfId:Ct,viewport:B,onViewportChange:U}){return Kx(e),Kx(t),bz(),hz(n),gz(B),x.jsx(D3,{onPaneClick:H,onPaneMouseEnter:X,onPaneMouseMove:Y,onPaneMouseLeave:Q,onPaneContextMenu:ee,onPaneScroll:W,paneClickDistance:le,deleteKeyCode:T,selectionKeyCode:v,selectionOnDrag:m,selectionMode:_,onSelectionStart:d,onSelectionEnd:h,multiSelectionKeyCode:k,panActivationKeyCode:b,zoomActivationKeyCode:E,elementsSelectable:D,zoomOnScroll:R,zoomOnPinch:C,zoomOnDoubleClick:F,panOnScroll:I,panOnScrollSpeed:S,panOnScrollMode:$,panOnDrag:N,defaultViewport:P,translateExtent:O,minZoom:q,maxZoom:j,onSelectionContextMenu:f,preventScrolling:A,noDragClassName:pt,noWheelClassName:gt,noPanClassName:Ke,disableKeyboardA11y:Pe,onViewportChange:U,isControlledViewport:!!B,children:x.jsxs(dz,{children:[x.jsx(cz,{edgeTypes:t,onEdgeClick:i,onEdgeDoubleClick:a,onReconnect:se,onReconnectStart:Ge,onReconnectEnd:$e,onlyRenderVisibleElements:M,onEdgeContextMenu:te,onEdgeMouseEnter:ie,onEdgeMouseMove:ge,onEdgeMouseLeave:ne,reconnectRadius:fe,defaultMarkerColor:z,noPanClassName:Ke,disableKeyboardA11y:Pe,rfId:Ct}),x.jsx(wz,{style:y,type:p,component:w,containerStyle:g}),x.jsx("div",{className:"react-flow__edgelabel-renderer"}),x.jsx(G3,{nodeTypes:e,onNodeClick:r,onNodeDoubleClick:o,onNodeMouseEnter:s,onNodeMouseMove:l,onNodeMouseLeave:u,onNodeContextMenu:c,nodeClickDistance:oe,onlyRenderVisibleElements:M,noPanClassName:Ke,noDragClassName:pt,disableKeyboardA11y:Pe,nodeExtent:$t,rfId:Ct}),x.jsx("div",{className:"react-flow__viewport-portal"})]})})}oT.displayName="GraphView";const Sz=L.memo(oT),Xx=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:i,height:o,fitView:a,fitViewOptions:s,minZoom:l=.5,maxZoom:u=2,nodeOrigin:c,nodeExtent:f,zIndexMode:d="basic"}={})=>{const h=new Map,p=new Map,y=new Map,w=new Map,g=r??t??[],v=n??e??[],m=c??[0,0],_=f??fa;h2(y,w,g);const k=Em(v,h,p,{nodeOrigin:m,nodeExtent:_,zIndexMode:d});let b=[0,0,1];if(a&&i&&o){const E=Na(h,{filter:P=>!!((P.width||P.initialWidth)&&(P.height||P.initialHeight))}),{x:T,y:M,zoom:D}=Vy(E,i,o,l,u,(s==null?void 0:s.padding)??.1);b=[T,M,D]}return{rfId:"1",width:i??0,height:o??0,transform:b,nodes:v,nodesInitialized:k,nodeLookup:h,parentLookup:p,edges:g,edgeLookup:w,connectionLookup:y,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:n!==void 0,hasDefaultEdges:r!==void 0,panZoom:null,minZoom:l,maxZoom:u,translateExtent:fa,nodeExtent:_,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:Fi.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:m,nodeDragThreshold:1,connectionDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!0,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:a??!1,fitViewOptions:s,fitViewResolver:null,connection:{...KN},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanOnNodeFocus:!0,autoPanSpeed:15,connectionRadius:20,onError:C4,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1,ariaLabelConfig:YN,zIndexMode:d,onNodesChangeMiddlewareMap:new Map,onEdgesChangeMiddlewareMap:new Map}},Ez=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:i,height:o,fitView:a,fitViewOptions:s,minZoom:l,maxZoom:u,nodeOrigin:c,nodeExtent:f,zIndexMode:d})=>BD((h,p)=>{async function y(){const{nodeLookup:w,panZoom:g,fitViewOptions:v,fitViewResolver:m,width:_,height:k,minZoom:b,maxZoom:E}=p();g&&(await E4({nodes:w,width:_,height:k,panZoom:g,minZoom:b,maxZoom:E},v),m==null||m.resolve(!0),h({fitViewResolver:null}))}return{...Xx({nodes:e,edges:t,width:i,height:o,fitView:a,fitViewOptions:s,minZoom:l,maxZoom:u,nodeOrigin:c,nodeExtent:f,defaultNodes:n,defaultEdges:r,zIndexMode:d}),setNodes:w=>{const{nodeLookup:g,parentLookup:v,nodeOrigin:m,elevateNodesOnSelect:_,fitViewQueued:k,zIndexMode:b}=p(),E=Em(w,g,v,{nodeOrigin:m,nodeExtent:f,elevateNodesOnSelect:_,checkEquality:!0,zIndexMode:b});k&&E?(y(),h({nodes:w,nodesInitialized:E,fitViewQueued:!1,fitViewOptions:void 0})):h({nodes:w,nodesInitialized:E})},setEdges:w=>{const{connectionLookup:g,edgeLookup:v}=p();h2(g,v,w),h({edges:w})},setDefaultNodesAndEdges:(w,g)=>{if(w){const{setNodes:v}=p();v(w),h({hasDefaultNodes:!0})}if(g){const{setEdges:v}=p();v(g),h({hasDefaultEdges:!0})}},updateNodeInternals:w=>{const{triggerNodeChanges:g,nodeLookup:v,parentLookup:m,domNode:_,nodeOrigin:k,nodeExtent:b,debug:E,fitViewQueued:T,zIndexMode:M}=p(),{changes:D,updatedInternals:P}=Y4(w,v,m,_,k,b,M);P&&(V4(v,m,{nodeOrigin:k,nodeExtent:b,zIndexMode:M}),T?(y(),h({fitViewQueued:!1,fitViewOptions:void 0})):h({}),(D==null?void 0:D.length)>0&&(E&&console.log("React Flow: trigger node changes",D),g==null||g(D)))},updateNodePositions:(w,g=!1)=>{const v=[];let m=[];const{nodeLookup:_,triggerNodeChanges:k,connection:b,updateConnection:E,onNodesChangeMiddlewareMap:T}=p();for(const[M,D]of w){const P=_.get(M),O=!!(P!=null&&P.expandParent&&(P!=null&&P.parentId)&&(D!=null&&D.position)),q={id:M,type:"position",position:O?{x:Math.max(0,D.position.x),y:Math.max(0,D.position.y)}:D.position,dragging:g};if(P&&b.inProgress&&b.fromNode.id===P.id){const j=Kr(P,b.fromHandle,K.Left,!0);E({...b,from:j})}O&&P.parentId&&v.push({id:M,parentId:P.parentId,rect:{...D.internals.positionAbsolute,width:D.measured.width??0,height:D.measured.height??0}}),m.push(q)}if(v.length>0){const{parentLookup:M,nodeOrigin:D}=p(),P=Xy(v,_,M,D);m.push(...P)}for(const M of T.values())m=M(m);k(m)},triggerNodeChanges:w=>{const{onNodesChange:g,setNodes:v,nodes:m,hasDefaultNodes:_,debug:k}=p();if(w!=null&&w.length){if(_){const b=M2(w,m);v(b)}k&&console.log("React Flow: trigger node changes",w),g==null||g(w)}},triggerEdgeChanges:w=>{const{onEdgesChange:g,setEdges:v,edges:m,hasDefaultEdges:_,debug:k}=p();if(w!=null&&w.length){if(_){const b=L2(w,m);v(b)}k&&console.log("React Flow: trigger edge changes",w),g==null||g(w)}},addSelectedNodes:w=>{const{multiSelectionActive:g,edgeLookup:v,nodeLookup:m,triggerNodeChanges:_,triggerEdgeChanges:k}=p();if(g){const b=w.map(E=>Pr(E,!0));_(b);return}_(wi(m,new Set([...w]),!0)),k(wi(v))},addSelectedEdges:w=>{const{multiSelectionActive:g,edgeLookup:v,nodeLookup:m,triggerNodeChanges:_,triggerEdgeChanges:k}=p();if(g){const b=w.map(E=>Pr(E,!0));k(b);return}k(wi(v,new Set([...w]))),_(wi(m,new Set,!0))},unselectNodesAndEdges:({nodes:w,edges:g}={})=>{const{edges:v,nodes:m,nodeLookup:_,triggerNodeChanges:k,triggerEdgeChanges:b}=p(),E=w||m,T=g||v,M=E.map(P=>{const O=_.get(P.id);return O&&(O.selected=!1),Pr(P.id,!1)}),D=T.map(P=>Pr(P.id,!1));k(M),b(D)},setMinZoom:w=>{const{panZoom:g,maxZoom:v}=p();g==null||g.setScaleExtent([w,v]),h({minZoom:w})},setMaxZoom:w=>{const{panZoom:g,minZoom:v}=p();g==null||g.setScaleExtent([v,w]),h({maxZoom:w})},setTranslateExtent:w=>{var g;(g=p().panZoom)==null||g.setTranslateExtent(w),h({translateExtent:w})},resetSelectedElements:()=>{const{edges:w,nodes:g,triggerNodeChanges:v,triggerEdgeChanges:m,elementsSelectable:_}=p();if(!_)return;const k=g.reduce((E,T)=>T.selected?[...E,Pr(T.id,!1)]:E,[]),b=w.reduce((E,T)=>T.selected?[...E,Pr(T.id,!1)]:E,[]);v(k),m(b)},setNodeExtent:w=>{const{nodes:g,nodeLookup:v,parentLookup:m,nodeOrigin:_,elevateNodesOnSelect:k,nodeExtent:b,zIndexMode:E}=p();w[0][0]===b[0][0]&&w[0][1]===b[0][1]&&w[1][0]===b[1][0]&&w[1][1]===b[1][1]||(Em(g,v,m,{nodeOrigin:_,nodeExtent:w,elevateNodesOnSelect:k,checkEquality:!1,zIndexMode:E}),h({nodeExtent:w}))},panBy:w=>{const{transform:g,width:v,height:m,panZoom:_,translateExtent:k}=p();return K4({delta:w,panZoom:_,transform:g,translateExtent:k,width:v,height:m})},setCenter:async(w,g,v)=>{const{width:m,height:_,maxZoom:k,panZoom:b}=p();if(!b)return Promise.resolve(!1);const E=typeof(v==null?void 0:v.zoom)<"u"?v.zoom:k;return await b.setViewport({x:m/2-w*E,y:_/2-g*E,zoom:E},{duration:v==null?void 0:v.duration,ease:v==null?void 0:v.ease,interpolate:v==null?void 0:v.interpolate}),Promise.resolve(!0)},cancelConnection:()=>{h({connection:{...KN}})},updateConnection:w=>{h({connection:w})},reset:()=>h({...Xx()})}},Object.is);function aT({initialNodes:e,initialEdges:t,defaultNodes:n,defaultEdges:r,initialWidth:i,initialHeight:o,initialMinZoom:a,initialMaxZoom:s,initialFitViewOptions:l,fitView:u,nodeOrigin:c,nodeExtent:f,zIndexMode:d,children:h}){const[p]=L.useState(()=>Ez({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:i,height:o,fitView:u,minZoom:a,maxZoom:s,fitViewOptions:l,nodeOrigin:c,nodeExtent:f,zIndexMode:d}));return x.jsx(HD,{value:p,children:x.jsx(d3,{children:h})})}function kz({children:e,nodes:t,edges:n,defaultNodes:r,defaultEdges:i,width:o,height:a,fitView:s,fitViewOptions:l,minZoom:u,maxZoom:c,nodeOrigin:f,nodeExtent:d,zIndexMode:h}){return L.useContext(eu)?x.jsx(x.Fragment,{children:e}):x.jsx(aT,{initialNodes:t,initialEdges:n,defaultNodes:r,defaultEdges:i,initialWidth:o,initialHeight:a,fitView:s,initialFitViewOptions:l,initialMinZoom:u,initialMaxZoom:c,nodeOrigin:f,nodeExtent:d,zIndexMode:h,children:e})}const Cz={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function Nz({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,className:i,nodeTypes:o,edgeTypes:a,onNodeClick:s,onEdgeClick:l,onInit:u,onMove:c,onMoveStart:f,onMoveEnd:d,onConnect:h,onConnectStart:p,onConnectEnd:y,onClickConnectStart:w,onClickConnectEnd:g,onNodeMouseEnter:v,onNodeMouseMove:m,onNodeMouseLeave:_,onNodeContextMenu:k,onNodeDoubleClick:b,onNodeDragStart:E,onNodeDrag:T,onNodeDragStop:M,onNodesDelete:D,onEdgesDelete:P,onDelete:O,onSelectionChange:q,onSelectionDragStart:j,onSelectionDrag:A,onSelectionDragStop:z,onSelectionContextMenu:R,onSelectionStart:C,onSelectionEnd:I,onBeforeDelete:S,connectionMode:$,connectionLineType:F=tr.Bezier,connectionLineStyle:N,connectionLineComponent:H,connectionLineContainerStyle:X,deleteKeyCode:Y="Backspace",selectionKeyCode:Q="Shift",selectionOnDrag:W=!1,selectionMode:ee=da.Full,panActivationKeyCode:le="Space",multiSelectionKeyCode:oe=pa()?"Meta":"Control",zoomActivationKeyCode:te=pa()?"Meta":"Control",snapToGrid:ie,snapGrid:ge,onlyRenderVisibleElements:ne=!1,selectNodesOnDrag:fe,nodesDraggable:se,autoPanOnNodeFocus:Ge,nodesConnectable:$e,nodesFocusable:pt,nodeOrigin:gt=A2,edgesFocusable:Ke,edgesReconnectable:Pe,elementsSelectable:$t=!0,defaultViewport:Ct=n3,minZoom:B=.5,maxZoom:U=2,translateExtent:re=fa,preventScrolling:de=!0,nodeExtent:me,defaultMarkerColor:Xe="#b1b1b7",zoomOnScroll:lt=!0,zoomOnPinch:Le=!0,panOnScroll:Qe=!1,panOnScrollSpeed:Z=.5,panOnScrollMode:ae=$r.Free,zoomOnDoubleClick:je=!0,panOnDrag:ut=!0,onPaneClick:za,onPaneMouseEnter:Pu,onPaneMouseMove:Sj,onPaneMouseLeave:Ej,onPaneScroll:kj,onPaneContextMenu:Cj,paneClickDistance:Nj=1,nodeClickDistance:Tj=0,children:Pj,onReconnect:jj,onReconnectStart:Ij,onReconnectEnd:Aj,onEdgeContextMenu:Rj,onEdgeDoubleClick:Mj,onEdgeMouseEnter:Lj,onEdgeMouseMove:Oj,onEdgeMouseLeave:Dj,reconnectRadius:zj=10,onNodesChange:qj,onEdgesChange:$j,noDragClassName:Fj="nodrag",noWheelClassName:Bj="nowheel",noPanClassName:Rv="nopan",fitView:Mv,fitViewOptions:Lv,connectOnClick:Hj,attributionPosition:Vj,proOptions:Uj,defaultEdgeOptions:Gj,elevateNodesOnSelect:Wj=!0,elevateEdgesOnSelect:Yj=!1,disableKeyboardA11y:Ov=!1,autoPanOnConnect:Kj,autoPanOnNodeDrag:Xj,autoPanSpeed:Qj,connectionRadius:Zj,isValidConnection:Jj,onError:eI,style:tI,id:Dv,nodeDragThreshold:nI,connectionDragThreshold:rI,viewport:iI,onViewportChange:oI,width:aI,height:sI,colorMode:lI="light",debug:uI,onScroll:qa,ariaLabelConfig:cI,zIndexMode:zv="basic",...fI},dI){const ju=Dv||"1",hI=a3(lI),pI=L.useCallback(qv=>{qv.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),qa==null||qa(qv)},[qa]);return x.jsx("div",{"data-testid":"rf__wrapper",...fI,onScroll:pI,style:{...tI,...Cz},ref:dI,className:Ve(["react-flow",i,hI]),id:Dv,role:"application",children:x.jsxs(kz,{nodes:e,edges:t,width:aI,height:sI,fitView:Mv,fitViewOptions:Lv,minZoom:B,maxZoom:U,nodeOrigin:gt,nodeExtent:me,zIndexMode:zv,children:[x.jsx(Sz,{onInit:u,onNodeClick:s,onEdgeClick:l,onNodeMouseEnter:v,onNodeMouseMove:m,onNodeMouseLeave:_,onNodeContextMenu:k,onNodeDoubleClick:b,nodeTypes:o,edgeTypes:a,connectionLineType:F,connectionLineStyle:N,connectionLineComponent:H,connectionLineContainerStyle:X,selectionKeyCode:Q,selectionOnDrag:W,selectionMode:ee,deleteKeyCode:Y,multiSelectionKeyCode:oe,panActivationKeyCode:le,zoomActivationKeyCode:te,onlyRenderVisibleElements:ne,defaultViewport:Ct,translateExtent:re,minZoom:B,maxZoom:U,preventScrolling:de,zoomOnScroll:lt,zoomOnPinch:Le,zoomOnDoubleClick:je,panOnScroll:Qe,panOnScrollSpeed:Z,panOnScrollMode:ae,panOnDrag:ut,onPaneClick:za,onPaneMouseEnter:Pu,onPaneMouseMove:Sj,onPaneMouseLeave:Ej,onPaneScroll:kj,onPaneContextMenu:Cj,paneClickDistance:Nj,nodeClickDistance:Tj,onSelectionContextMenu:R,onSelectionStart:C,onSelectionEnd:I,onReconnect:jj,onReconnectStart:Ij,onReconnectEnd:Aj,onEdgeContextMenu:Rj,onEdgeDoubleClick:Mj,onEdgeMouseEnter:Lj,onEdgeMouseMove:Oj,onEdgeMouseLeave:Dj,reconnectRadius:zj,defaultMarkerColor:Xe,noDragClassName:Fj,noWheelClassName:Bj,noPanClassName:Rv,rfId:ju,disableKeyboardA11y:Ov,nodeExtent:me,viewport:iI,onViewportChange:oI}),x.jsx(o3,{nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:h,onConnectStart:p,onConnectEnd:y,onClickConnectStart:w,onClickConnectEnd:g,nodesDraggable:se,autoPanOnNodeFocus:Ge,nodesConnectable:$e,nodesFocusable:pt,edgesFocusable:Ke,edgesReconnectable:Pe,elementsSelectable:$t,elevateNodesOnSelect:Wj,elevateEdgesOnSelect:Yj,minZoom:B,maxZoom:U,nodeExtent:me,onNodesChange:qj,onEdgesChange:$j,snapToGrid:ie,snapGrid:ge,connectionMode:$,translateExtent:re,connectOnClick:Hj,defaultEdgeOptions:Gj,fitView:Mv,fitViewOptions:Lv,onNodesDelete:D,onEdgesDelete:P,onDelete:O,onNodeDragStart:E,onNodeDrag:T,onNodeDragStop:M,onSelectionDrag:A,onSelectionDragStart:j,onSelectionDragStop:z,onMove:c,onMoveStart:f,onMoveEnd:d,noPanClassName:Rv,nodeOrigin:gt,rfId:ju,autoPanOnConnect:Kj,autoPanOnNodeDrag:Xj,autoPanSpeed:Qj,onError:eI,connectionRadius:Zj,isValidConnection:Jj,selectNodesOnDrag:fe,nodeDragThreshold:nI,connectionDragThreshold:rI,onBeforeDelete:S,debug:uI,ariaLabelConfig:cI,zIndexMode:zv}),x.jsx(t3,{onSelectionChange:q}),Pj,x.jsx(XD,{proOptions:Uj,position:Vj}),x.jsx(KD,{rfId:ju,disableKeyboardA11y:Ov})]})})}var Tz=O2(Nz);function Pz(e){const[t,n]=L.useState(e),r=L.useCallback(i=>n(o=>M2(i,o)),[]);return[t,n,r]}function jz(e){const[t,n]=L.useState(e),r=L.useCallback(i=>n(o=>L2(i,o)),[]);return[t,n,r]}function Iz({dimensions:e,lineWidth:t,variant:n,className:r}){return x.jsx("path",{strokeWidth:t,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`,className:Ve(["react-flow__background-pattern",n,r])})}function Az({radius:e,className:t}){return x.jsx("circle",{cx:e,cy:e,r:e,className:Ve(["react-flow__background-pattern","dots",t])})}var pr;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(pr||(pr={}));const Rz={[pr.Dots]:1,[pr.Lines]:1,[pr.Cross]:6},Mz=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function sT({id:e,variant:t=pr.Dots,gap:n=20,size:r,lineWidth:i=1,offset:o=0,color:a,bgColor:s,style:l,className:u,patternClassName:c}){const f=L.useRef(null),{transform:d,patternId:h}=ve(Mz,Ae),p=r||Rz[t],y=t===pr.Dots,w=t===pr.Cross,g=Array.isArray(n)?n:[n,n],v=[g[0]*d[2]||1,g[1]*d[2]||1],m=p*d[2],_=Array.isArray(o)?o:[o,o],k=w?[m,m]:v,b=[_[0]*d[2]||1+k[0]/2,_[1]*d[2]||1+k[1]/2],E=`${h}${e||""}`;return x.jsxs("svg",{className:Ve(["react-flow__background",u]),style:{...l,...ru,"--xy-background-color-props":s,"--xy-background-pattern-color-props":a},ref:f,"data-testid":"rf__background",children:[x.jsx("pattern",{id:E,x:d[0]%v[0],y:d[1]%v[1],width:v[0],height:v[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${b[0]},-${b[1]})`,children:y?x.jsx(Az,{radius:m/2,className:c}):x.jsx(Iz,{dimensions:k,lineWidth:i,variant:t,className:c})}),x.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${E})`})]})}sT.displayName="Background";const Lz=L.memo(sT);function Oz(){return x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:x.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function Dz(){return x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:x.jsx("path",{d:"M0 0h32v4.2H0z"})})}function zz(){return x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:x.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function qz(){return x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:x.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function $z(){return x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:x.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function fs({children:e,className:t,...n}){return x.jsx("button",{type:"button",className:Ve(["react-flow__controls-button",t]),...n,children:e})}const Fz=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom,ariaLabelConfig:e.ariaLabelConfig});function lT({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:i,onZoomIn:o,onZoomOut:a,onFitView:s,onInteractiveChange:l,className:u,children:c,position:f="bottom-left",orientation:d="vertical","aria-label":h}){const p=Re(),{isInteractive:y,minZoomReached:w,maxZoomReached:g,ariaLabelConfig:v}=ve(Fz,Ae),{zoomIn:m,zoomOut:_,fitView:k}=nu(),b=()=>{m(),o==null||o()},E=()=>{_(),a==null||a()},T=()=>{k(i),s==null||s()},M=()=>{p.setState({nodesDraggable:!y,nodesConnectable:!y,elementsSelectable:!y}),l==null||l(!y)},D=d==="horizontal"?"horizontal":"vertical";return x.jsxs(tu,{className:Ve(["react-flow__controls",D,u]),position:f,style:e,"data-testid":"rf__controls","aria-label":h??v["controls.ariaLabel"],children:[t&&x.jsxs(x.Fragment,{children:[x.jsx(fs,{onClick:b,className:"react-flow__controls-zoomin",title:v["controls.zoomIn.ariaLabel"],"aria-label":v["controls.zoomIn.ariaLabel"],disabled:g,children:x.jsx(Oz,{})}),x.jsx(fs,{onClick:E,className:"react-flow__controls-zoomout",title:v["controls.zoomOut.ariaLabel"],"aria-label":v["controls.zoomOut.ariaLabel"],disabled:w,children:x.jsx(Dz,{})})]}),n&&x.jsx(fs,{className:"react-flow__controls-fitview",onClick:T,title:v["controls.fitView.ariaLabel"],"aria-label":v["controls.fitView.ariaLabel"],children:x.jsx(zz,{})}),r&&x.jsx(fs,{className:"react-flow__controls-interactive",onClick:M,title:v["controls.interactive.ariaLabel"],"aria-label":v["controls.interactive.ariaLabel"],children:y?x.jsx($z,{}):x.jsx(qz,{})}),c]})}lT.displayName="Controls";const Bz=L.memo(lT);function Hz({id:e,x:t,y:n,width:r,height:i,style:o,color:a,strokeColor:s,strokeWidth:l,className:u,borderRadius:c,shapeRendering:f,selected:d,onClick:h}){const{background:p,backgroundColor:y}=o||{},w=a||p||y;return x.jsx("rect",{className:Ve(["react-flow__minimap-node",{selected:d},u]),x:t,y:n,rx:c,ry:c,width:r,height:i,style:{fill:w,stroke:s,strokeWidth:l},shapeRendering:f,onClick:h?g=>h(g,e):void 0})}const Vz=L.memo(Hz),Uz=e=>e.nodes.map(t=>t.id),dc=e=>e instanceof Function?e:()=>e;function Gz({nodeStrokeColor:e,nodeColor:t,nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:i,nodeComponent:o=Vz,onClick:a}){const s=ve(Uz,Ae),l=dc(t),u=dc(e),c=dc(n),f=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return x.jsx(x.Fragment,{children:s.map(d=>x.jsx(Yz,{id:d,nodeColorFunc:l,nodeStrokeColorFunc:u,nodeClassNameFunc:c,nodeBorderRadius:r,nodeStrokeWidth:i,NodeComponent:o,onClick:a,shapeRendering:f},d))})}function Wz({id:e,nodeColorFunc:t,nodeStrokeColorFunc:n,nodeClassNameFunc:r,nodeBorderRadius:i,nodeStrokeWidth:o,shapeRendering:a,NodeComponent:s,onClick:l}){const{node:u,x:c,y:f,width:d,height:h}=ve(p=>{const{internals:y}=p.nodeLookup.get(e),w=y.userNode,{x:g,y:v}=y.positionAbsolute,{width:m,height:_}=Hn(w);return{node:w,x:g,y:v,width:m,height:_}},Ae);return!u||u.hidden||!n2(u)?null:x.jsx(s,{x:c,y:f,width:d,height:h,style:u.style,selected:!!u.selected,className:r(u),color:t(u),borderRadius:i,strokeColor:n(u),strokeWidth:o,shapeRendering:a,onClick:l,id:u.id})}const Yz=L.memo(Wz);var Kz=L.memo(Gz);const Xz=200,Qz=150,Zz=e=>!e.hidden,Jz=e=>{const t={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:t,boundingRect:e.nodeLookup.size>0?t2(Na(e.nodeLookup,{filter:Zz}),t):t,rfId:e.rfId,panZoom:e.panZoom,translateExtent:e.translateExtent,flowWidth:e.width,flowHeight:e.height,ariaLabelConfig:e.ariaLabelConfig}},eq="react-flow__minimap-desc";function uT({style:e,className:t,nodeStrokeColor:n,nodeColor:r,nodeClassName:i="",nodeBorderRadius:o=5,nodeStrokeWidth:a,nodeComponent:s,bgColor:l,maskColor:u,maskStrokeColor:c,maskStrokeWidth:f,position:d="bottom-right",onClick:h,onNodeClick:p,pannable:y=!1,zoomable:w=!1,ariaLabel:g,inversePan:v,zoomStep:m=1,offsetScale:_=5}){const k=Re(),b=L.useRef(null),{boundingRect:E,viewBB:T,rfId:M,panZoom:D,translateExtent:P,flowWidth:O,flowHeight:q,ariaLabelConfig:j}=ve(Jz,Ae),A=(e==null?void 0:e.width)??Xz,z=(e==null?void 0:e.height)??Qz,R=E.width/A,C=E.height/z,I=Math.max(R,C),S=I*A,$=I*z,F=_*I,N=E.x-(S-E.width)/2-F,H=E.y-($-E.height)/2-F,X=S+F*2,Y=$+F*2,Q=`${eq}-${M}`,W=L.useRef(0),ee=L.useRef();W.current=I,L.useEffect(()=>{if(b.current&&D)return ee.current=iD({domNode:b.current,panZoom:D,getTransform:()=>k.getState().transform,getViewScale:()=>W.current}),()=>{var ie;(ie=ee.current)==null||ie.destroy()}},[D]),L.useEffect(()=>{var ie;(ie=ee.current)==null||ie.update({translateExtent:P,width:O,height:q,inversePan:v,pannable:y,zoomStep:m,zoomable:w})},[y,w,v,m,P,O,q]);const le=h?ie=>{var fe;const[ge,ne]=((fe=ee.current)==null?void 0:fe.pointer(ie))||[0,0];h(ie,{x:ge,y:ne})}:void 0,oe=p?L.useCallback((ie,ge)=>{const ne=k.getState().nodeLookup.get(ge).internals.userNode;p(ie,ne)},[]):void 0,te=g??j["minimap.ariaLabel"];return x.jsx(tu,{position:d,style:{...e,"--xy-minimap-background-color-props":typeof l=="string"?l:void 0,"--xy-minimap-mask-background-color-props":typeof u=="string"?u:void 0,"--xy-minimap-mask-stroke-color-props":typeof c=="string"?c:void 0,"--xy-minimap-mask-stroke-width-props":typeof f=="number"?f*I:void 0,"--xy-minimap-node-background-color-props":typeof r=="string"?r:void 0,"--xy-minimap-node-stroke-color-props":typeof n=="string"?n:void 0,"--xy-minimap-node-stroke-width-props":typeof a=="number"?a:void 0},className:Ve(["react-flow__minimap",t]),"data-testid":"rf__minimap",children:x.jsxs("svg",{width:A,height:z,viewBox:`${N} ${H} ${X} ${Y}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":Q,ref:b,onClick:le,children:[te&&x.jsx("title",{id:Q,children:te}),x.jsx(Kz,{onClick:oe,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:o,nodeClassName:i,nodeStrokeWidth:a,nodeComponent:s}),x.jsx("path",{className:"react-flow__minimap-mask",d:`M${N-F},${H-F}h${X+F*2}v${Y+F*2}h${-X-F*2}z
        M${T.x},${T.y}h${T.width}v${T.height}h${-T.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}uT.displayName="MiniMap";const tq=L.memo(uT),nq=e=>t=>e?`${Math.max(1/t.transform[2],1)}`:void 0,rq={[Ui.Line]:"right",[Ui.Handle]:"bottom-right"};function iq({nodeId:e,position:t,variant:n=Ui.Handle,className:r,style:i=void 0,children:o,color:a,minWidth:s=10,minHeight:l=10,maxWidth:u=Number.MAX_VALUE,maxHeight:c=Number.MAX_VALUE,keepAspectRatio:f=!1,resizeDirection:d,autoScale:h=!0,shouldResize:p,onResizeStart:y,onResize:w,onResizeEnd:g}){const v=$2(),m=typeof e=="string"?e:v,_=Re(),k=L.useRef(null),b=n===Ui.Handle,E=ve(L.useCallback(nq(b&&h),[b,h]),Ae),T=L.useRef(null),M=t??rq[n];L.useEffect(()=>{if(!(!k.current||!m))return T.current||(T.current=vD({domNode:k.current,nodeId:m,getStoreItems:()=>{const{nodeLookup:P,transform:O,snapGrid:q,snapToGrid:j,nodeOrigin:A,domNode:z}=_.getState();return{nodeLookup:P,transform:O,snapGrid:q,snapToGrid:j,nodeOrigin:A,paneDomNode:z}},onChange:(P,O)=>{const{triggerNodeChanges:q,nodeLookup:j,parentLookup:A,nodeOrigin:z}=_.getState(),R=[],C={x:P.x,y:P.y},I=j.get(m);if(I&&I.expandParent&&I.parentId){const S=I.origin??z,$=P.width??I.measured.width??0,F=P.height??I.measured.height??0,N={id:I.id,parentId:I.parentId,rect:{width:$,height:F,...r2({x:P.x??I.position.x,y:P.y??I.position.y},{width:$,height:F},I.parentId,j,S)}},H=Xy([N],j,A,z);R.push(...H),C.x=P.x?Math.max(S[0]*$,P.x):void 0,C.y=P.y?Math.max(S[1]*F,P.y):void 0}if(C.x!==void 0&&C.y!==void 0){const S={id:m,type:"position",position:{...C}};R.push(S)}if(P.width!==void 0&&P.height!==void 0){const $={id:m,type:"dimensions",resizing:!0,setAttributes:d?d==="horizontal"?"width":"height":!0,dimensions:{width:P.width,height:P.height}};R.push($)}for(const S of O){const $={...S,type:"position"};R.push($)}q(R)},onEnd:({width:P,height:O})=>{const q={id:m,type:"dimensions",resizing:!1,dimensions:{width:P,height:O}};_.getState().triggerNodeChanges([q])}})),T.current.update({controlPosition:M,boundaries:{minWidth:s,minHeight:l,maxWidth:u,maxHeight:c},keepAspectRatio:f,resizeDirection:d,onResizeStart:y,onResize:w,onResizeEnd:g,shouldResize:p}),()=>{var P;(P=T.current)==null||P.destroy()}},[M,s,l,u,c,f,y,w,g,p]);const D=M.split("-");return x.jsx("div",{className:Ve(["react-flow__resize-control","nodrag",...D,n,r]),ref:k,style:{...i,scale:E,...a&&{[b?"backgroundColor":"borderColor"]:a}},children:o})}L.memo(iq);const cT={},{useDebugValue:oq}=Mt,{useSyncExternalStoreWithSelector:aq}=C2;let Qx=!1;const sq=e=>e;function lq(e,t=sq,n){(cT?"production":void 0)!=="production"&&n&&!Qx&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Qx=!0);const r=aq(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return oq(r),r}const Zx=e=>{(cT?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?N2(e):e,n=(r,i)=>lq(t,r,i);return Object.assign(n,t),n},uq=e=>e?Zx(e):Zx,cq="/api";async function kr(e,t){const n=await fetch(`${cq}${e}`,{headers:{"Content-Type":"application/json"},...t});if(!n.ok){const r=await n.json().catch(()=>({error:n.statusText}));throw new Error(r.error||"Request failed")}if(n.status!==204)return n.json()}const jr={projects:{list:()=>kr("/projects"),get:e=>kr(`/projects/${e}`),create:(e,t="")=>kr("/projects",{method:"POST",body:JSON.stringify({name:e,description:t})}),update:(e,t)=>kr(`/projects/${e}`,{method:"PUT",body:JSON.stringify(t)}),delete:e=>kr(`/projects/${e}`,{method:"DELETE"}),compile:e=>kr(`/projects/${e}/compile`),build:e=>kr(`/projects/${e}/build`,{method:"POST"})}},sn=uq((e,t)=>({projects:[],loadingProjects:!1,currentProject:null,selectedNodeId:null,selectedToolId:null,layoutDirection:"TB",fetchProjects:async()=>{e({loadingProjects:!0});try{const n=await jr.projects.list();e({projects:n})}finally{e({loadingProjects:!1})}},createProject:async(n,r)=>{const i=await jr.projects.create(n,r);return e(o=>({projects:[{id:i.id,name:n,description:r||"",updated_at:i.updated_at},...o.projects]})),i},openProject:async n=>{const r=await jr.projects.get(n);e({currentProject:r,selectedNodeId:null})},saveProject:async()=>{const{currentProject:n}=t();n&&await jr.projects.update(n.id,n)},closeProject:()=>e({currentProject:null,selectedNodeId:null}),deleteProject:async n=>{await jr.projects.delete(n),e(r=>({projects:r.projects.filter(i=>i.id!==n)}))},selectNode:n=>e({selectedNodeId:n}),updateAgent:(n,r)=>e(i=>i.currentProject?{currentProject:{...i.currentProject,agents:{...i.currentProject.agents,[n]:{...i.currentProject.agents[n],...r}}}}:i),renameAgent:(n,r)=>{n!==r&&(e(i=>{if(!i.currentProject||!i.currentProject.agents[n])return i;const o={...i.currentProject.agents};o[r]=o[n],delete o[n],Object.keys(o).forEach(l=>{var u;(u=o[l].sub_agents)!=null&&u.includes(n)&&(o[l]={...o[l],sub_agents:o[l].sub_agents.map(c=>c===n?r:c)})});const a=i.currentProject.workflow.edges.map(l=>({...l,from:l.from===n?r:l.from,to:l.to===n?r:l.to})),s={...i.currentProject.tool_configs};return Object.keys(s).forEach(l=>{if(l.startsWith(`${n}_`)){const u=l.replace(`${n}_`,`${r}_`);s[u]=s[l],delete s[l]}}),{currentProject:{...i.currentProject,agents:o,tool_configs:s,workflow:{...i.currentProject.workflow,edges:a}},selectedNodeId:i.selectedNodeId===n?r:i.selectedNodeId}}),t().saveProject())},addAgent:(n,r)=>{e(i=>i.currentProject?{currentProject:{...i.currentProject,agents:{...i.currentProject.agents,[n]:r}}}:i),setTimeout(()=>t().saveProject(),0)},removeAgent:n=>{e(r=>{if(!r.currentProject)return r;const i=r.currentProject.agents[n],o=[n];i!=null&&i.sub_agents&&o.push(...i.sub_agents);const a={...r.currentProject.agents};o.forEach(l=>delete a[l]);const s={...r.currentProject.tool_configs};return Object.keys(s).forEach(l=>{o.some(u=>l.startsWith(`${u}_`))&&delete s[l]}),{currentProject:{...r.currentProject,agents:a,tool_configs:s,workflow:{...r.currentProject.workflow,edges:r.currentProject.workflow.edges.filter(l=>!o.includes(l.from)&&!o.includes(l.to))}}}}),setTimeout(()=>t().saveProject(),0)},addEdge:(n,r)=>{e(i=>i.currentProject?{currentProject:{...i.currentProject,workflow:{...i.currentProject.workflow,edges:[...i.currentProject.workflow.edges,{from:n,to:r}]}}}:i),setTimeout(()=>t().saveProject(),0)},removeEdge:(n,r)=>{e(i=>i.currentProject?{currentProject:{...i.currentProject,workflow:{...i.currentProject.workflow,edges:i.currentProject.workflow.edges.filter(o=>!(o.from===n&&o.to===r))}}}:i),setTimeout(()=>t().saveProject(),0)},addToolToAgent:(n,r)=>{e(i=>{if(!i.currentProject)return i;const o=i.currentProject.agents[n];if(!o)return i;let a=r;if(r==="function"||r==="mcp"){const s=o.tools.filter(l=>l.startsWith(r));a=`${r}_${s.length+1}`}else if(o.tools.includes(r))return i;return{currentProject:{...i.currentProject,agents:{...i.currentProject.agents,[n]:{...o,tools:[...o.tools,a]}}}}}),setTimeout(()=>t().saveProject(),0)},removeToolFromAgent:(n,r)=>{e(i=>{if(!i.currentProject)return i;const o=i.currentProject.agents[n];if(!o)return i;const a=`${n}_${r}`,{[a]:s,...l}=i.currentProject.tool_configs;return{currentProject:{...i.currentProject,agents:{...i.currentProject.agents,[n]:{...o,tools:o.tools.filter(u=>u!==r)}},tool_configs:l},selectedToolId:i.selectedToolId===a?null:i.selectedToolId}}),setTimeout(()=>t().saveProject(),0)},addSubAgentToContainer:n=>{const{currentProject:r,addAgent:i,updateAgent:o,saveProject:a}=t();if(!r)return;const s=r.agents[n];if(!s)return;const l=s.sub_agents.length+1,u=`${n}_agent_${l}`;i(u,{type:"llm",model:"gemini-2.0-flash",instruction:`You are agent ${l}.`,tools:[],sub_agents:[],position:{x:0,y:0}}),o(n,{sub_agents:[...s.sub_agents,u]}),a()},selectTool:n=>e({selectedToolId:n}),updateToolConfig:(n,r)=>{e(i=>i.currentProject?{currentProject:{...i.currentProject,tool_configs:{...i.currentProject.tool_configs,[n]:r}}}:i),setTimeout(()=>t().saveProject(),0)},setLayoutDirection:n=>e({layoutDirection:n})}));function fq(){const{projects:e,loadingProjects:t,createProject:n,openProject:r,deleteProject:i}=sn(),[o,a]=L.useState(!1),[s,l]=L.useState(""),u=async()=>{if(!s.trim())return;const c=await n(s.trim());l(""),a(!1),r(c.id)};return x.jsxs("div",{className:"p-8 max-w-4xl mx-auto",children:[x.jsxs("div",{className:"flex justify-between items-center mb-8",children:[x.jsx("h2",{className:"text-2xl font-bold",children:"Projects"}),x.jsx("button",{onClick:()=>a(!0),className:"px-4 py-2 bg-studio-highlight rounded hover:opacity-90",children:"+ New Project"})]}),o&&x.jsxs("div",{className:"mb-6 p-4 bg-studio-panel rounded-lg border border-gray-700",children:[x.jsx("input",{type:"text",placeholder:"Project name",value:s,onChange:c=>l(c.target.value),onKeyDown:c=>c.key==="Enter"&&u(),className:"w-full px-3 py-2 bg-studio-bg border border-gray-600 rounded mb-3 text-white",autoFocus:!0}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx("button",{onClick:u,className:"px-4 py-2 bg-studio-highlight rounded",children:"Create"}),x.jsx("button",{onClick:()=>a(!1),className:"px-4 py-2 bg-gray-700 rounded",children:"Cancel"})]})]}),t?x.jsx("div",{className:"text-gray-400",children:"Loading..."}):e.length===0?x.jsx("div",{className:"text-gray-400 text-center py-12",children:"No projects yet. Create one to get started!"}):x.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(c=>x.jsxs("div",{className:"p-4 bg-studio-panel rounded-lg border border-gray-700 hover:border-studio-highlight cursor-pointer group",onClick:()=>r(c.id),children:[x.jsxs("div",{className:"flex items-start justify-between",children:[x.jsxs("span",{className:"font-medium",children:[" ",c.name]}),x.jsx("button",{onClick:f=>{f.stopPropagation(),confirm("Delete?")&&i(c.id)},className:"opacity-0 group-hover:opacity-100 text-gray-400 hover:text-red-400",children:""})]}),c.description&&x.jsx("p",{className:"text-sm text-gray-400 mt-2",children:c.description}),x.jsx("p",{className:"text-xs text-gray-500 mt-2",children:new Date(c.updated_at).toLocaleDateString()})]},c.id))})]})}function dq(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const hq=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,pq=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,gq={};function Jx(e,t){return(gq.jsx?pq:hq).test(e)}const mq=/[ \t\n\f\r]/g;function yq(e){return typeof e=="object"?e.type==="text"?e1(e.value):!1:e1(e)}function e1(e){return e.replace(mq,"")===""}class ja{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}ja.prototype.normal={};ja.prototype.property={};ja.prototype.space=void 0;function fT(e,t){const n={},r={};for(const i of e)Object.assign(n,i.property),Object.assign(r,i.normal);return new ja(n,r,t)}function Nm(e){return e.toLowerCase()}class kt{constructor(t,n){this.attribute=n,this.property=t}}kt.prototype.attribute="";kt.prototype.booleanish=!1;kt.prototype.boolean=!1;kt.prototype.commaOrSpaceSeparated=!1;kt.prototype.commaSeparated=!1;kt.prototype.defined=!1;kt.prototype.mustUseProperty=!1;kt.prototype.number=!1;kt.prototype.overloadedBoolean=!1;kt.prototype.property="";kt.prototype.spaceSeparated=!1;kt.prototype.space=void 0;let vq=0;const he=Zr(),Be=Zr(),Tm=Zr(),G=Zr(),Ee=Zr(),ji=Zr(),Nt=Zr();function Zr(){return 2**++vq}const Pm=Object.freeze(Object.defineProperty({__proto__:null,boolean:he,booleanish:Be,commaOrSpaceSeparated:Nt,commaSeparated:ji,number:G,overloadedBoolean:Tm,spaceSeparated:Ee},Symbol.toStringTag,{value:"Module"})),hc=Object.keys(Pm);class Zy extends kt{constructor(t,n,r,i){let o=-1;if(super(t,n),t1(this,"space",i),typeof r=="number")for(;++o<hc.length;){const a=hc[o];t1(this,hc[o],(r&Pm[a])===Pm[a])}}}Zy.prototype.defined=!0;function t1(e,t,n){n&&(e[t]=n)}function Xi(e){const t={},n={};for(const[r,i]of Object.entries(e.properties)){const o=new Zy(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(o.mustUseProperty=!0),t[r]=o,n[Nm(r)]=r,n[Nm(o.attribute)]=r}return new ja(t,n,e.space)}const dT=Xi({properties:{ariaActiveDescendant:null,ariaAtomic:Be,ariaAutoComplete:null,ariaBusy:Be,ariaChecked:Be,ariaColCount:G,ariaColIndex:G,ariaColSpan:G,ariaControls:Ee,ariaCurrent:null,ariaDescribedBy:Ee,ariaDetails:null,ariaDisabled:Be,ariaDropEffect:Ee,ariaErrorMessage:null,ariaExpanded:Be,ariaFlowTo:Ee,ariaGrabbed:Be,ariaHasPopup:null,ariaHidden:Be,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Ee,ariaLevel:G,ariaLive:null,ariaModal:Be,ariaMultiLine:Be,ariaMultiSelectable:Be,ariaOrientation:null,ariaOwns:Ee,ariaPlaceholder:null,ariaPosInSet:G,ariaPressed:Be,ariaReadOnly:Be,ariaRelevant:null,ariaRequired:Be,ariaRoleDescription:Ee,ariaRowCount:G,ariaRowIndex:G,ariaRowSpan:G,ariaSelected:Be,ariaSetSize:G,ariaSort:null,ariaValueMax:G,ariaValueMin:G,ariaValueNow:G,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function hT(e,t){return t in e?e[t]:t}function pT(e,t){return hT(e,t.toLowerCase())}const xq=Xi({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:ji,acceptCharset:Ee,accessKey:Ee,action:null,allow:null,allowFullScreen:he,allowPaymentRequest:he,allowUserMedia:he,alt:null,as:null,async:he,autoCapitalize:null,autoComplete:Ee,autoFocus:he,autoPlay:he,blocking:Ee,capture:null,charSet:null,checked:he,cite:null,className:Ee,cols:G,colSpan:null,content:null,contentEditable:Be,controls:he,controlsList:Ee,coords:G|ji,crossOrigin:null,data:null,dateTime:null,decoding:null,default:he,defer:he,dir:null,dirName:null,disabled:he,download:Tm,draggable:Be,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:he,formTarget:null,headers:Ee,height:G,hidden:Tm,high:G,href:null,hrefLang:null,htmlFor:Ee,httpEquiv:Ee,id:null,imageSizes:null,imageSrcSet:null,inert:he,inputMode:null,integrity:null,is:null,isMap:he,itemId:null,itemProp:Ee,itemRef:Ee,itemScope:he,itemType:Ee,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:he,low:G,manifest:null,max:null,maxLength:G,media:null,method:null,min:null,minLength:G,multiple:he,muted:he,name:null,nonce:null,noModule:he,noValidate:he,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:he,optimum:G,pattern:null,ping:Ee,placeholder:null,playsInline:he,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:he,referrerPolicy:null,rel:Ee,required:he,reversed:he,rows:G,rowSpan:G,sandbox:Ee,scope:null,scoped:he,seamless:he,selected:he,shadowRootClonable:he,shadowRootDelegatesFocus:he,shadowRootMode:null,shape:null,size:G,sizes:null,slot:null,span:G,spellCheck:Be,src:null,srcDoc:null,srcLang:null,srcSet:null,start:G,step:null,style:null,tabIndex:G,target:null,title:null,translate:null,type:null,typeMustMatch:he,useMap:null,value:Be,width:G,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Ee,axis:null,background:null,bgColor:null,border:G,borderColor:null,bottomMargin:G,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:he,declare:he,event:null,face:null,frame:null,frameBorder:null,hSpace:G,leftMargin:G,link:null,longDesc:null,lowSrc:null,marginHeight:G,marginWidth:G,noResize:he,noHref:he,noShade:he,noWrap:he,object:null,profile:null,prompt:null,rev:null,rightMargin:G,rules:null,scheme:null,scrolling:Be,standby:null,summary:null,text:null,topMargin:G,valueType:null,version:null,vAlign:null,vLink:null,vSpace:G,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:he,disableRemotePlayback:he,prefix:null,property:null,results:G,security:null,unselectable:null},space:"html",transform:pT}),wq=Xi({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Nt,accentHeight:G,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:G,amplitude:G,arabicForm:null,ascent:G,attributeName:null,attributeType:null,azimuth:G,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:G,by:null,calcMode:null,capHeight:G,className:Ee,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:G,diffuseConstant:G,direction:null,display:null,dur:null,divisor:G,dominantBaseline:null,download:he,dx:null,dy:null,edgeMode:null,editable:null,elevation:G,enableBackground:null,end:null,event:null,exponent:G,externalResourcesRequired:null,fill:null,fillOpacity:G,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:ji,g2:ji,glyphName:ji,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:G,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:G,horizOriginX:G,horizOriginY:G,id:null,ideographic:G,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:G,k:G,k1:G,k2:G,k3:G,k4:G,kernelMatrix:Nt,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:G,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:G,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:G,overlineThickness:G,paintOrder:null,panose1:null,path:null,pathLength:G,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Ee,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:G,pointsAtY:G,pointsAtZ:G,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Nt,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Nt,rev:Nt,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Nt,requiredFeatures:Nt,requiredFonts:Nt,requiredFormats:Nt,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:G,specularExponent:G,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:G,strikethroughThickness:G,string:null,stroke:null,strokeDashArray:Nt,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:G,strokeOpacity:G,strokeWidth:null,style:null,surfaceScale:G,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Nt,tabIndex:G,tableValues:null,target:null,targetX:G,targetY:G,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Nt,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:G,underlineThickness:G,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:G,values:null,vAlphabetic:G,vMathematical:G,vectorEffect:null,vHanging:G,vIdeographic:G,version:null,vertAdvY:G,vertOriginX:G,vertOriginY:G,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:G,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:hT}),gT=Xi({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),mT=Xi({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:pT}),yT=Xi({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),_q={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},bq=/[A-Z]/g,n1=/-[a-z]/g,Sq=/^data[-\w.:]+$/i;function Eq(e,t){const n=Nm(t);let r=t,i=kt;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&Sq.test(t)){if(t.charAt(4)==="-"){const o=t.slice(5).replace(n1,Cq);r="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=t.slice(4);if(!n1.test(o)){let a=o.replace(bq,kq);a.charAt(0)!=="-"&&(a="-"+a),t="data"+a}}i=Zy}return new i(r,t)}function kq(e){return"-"+e.toLowerCase()}function Cq(e){return e.charAt(1).toUpperCase()}const Nq=fT([dT,xq,gT,mT,yT],"html"),Jy=fT([dT,wq,gT,mT,yT],"svg");function Tq(e){return e.join(" ").trim()}var ev={},r1=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,Pq=/\n/g,jq=/^\s*/,Iq=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,Aq=/^:\s*/,Rq=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,Mq=/^[;\s]*/,Lq=/^\s+|\s+$/g,Oq=`
`,i1="/",o1="*",Ir="",Dq="comment",zq="declaration";function qq(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function i(p){var y=p.match(Pq);y&&(n+=y.length);var w=p.lastIndexOf(Oq);r=~w?p.length-w:r+p.length}function o(){var p={line:n,column:r};return function(y){return y.position=new a(p),u(),y}}function a(p){this.start=p,this.end={line:n,column:r},this.source=t.source}a.prototype.content=e;function s(p){var y=new Error(t.source+":"+n+":"+r+": "+p);if(y.reason=p,y.filename=t.source,y.line=n,y.column=r,y.source=e,!t.silent)throw y}function l(p){var y=p.exec(e);if(y){var w=y[0];return i(w),e=e.slice(w.length),y}}function u(){l(jq)}function c(p){var y;for(p=p||[];y=f();)y!==!1&&p.push(y);return p}function f(){var p=o();if(!(i1!=e.charAt(0)||o1!=e.charAt(1))){for(var y=2;Ir!=e.charAt(y)&&(o1!=e.charAt(y)||i1!=e.charAt(y+1));)++y;if(y+=2,Ir===e.charAt(y-1))return s("End of comment missing");var w=e.slice(2,y-2);return r+=2,i(w),e=e.slice(y),r+=2,p({type:Dq,comment:w})}}function d(){var p=o(),y=l(Iq);if(y){if(f(),!l(Aq))return s("property missing ':'");var w=l(Rq),g=p({type:zq,property:a1(y[0].replace(r1,Ir)),value:w?a1(w[0].replace(r1,Ir)):Ir});return l(Mq),g}}function h(){var p=[];c(p);for(var y;y=d();)y!==!1&&(p.push(y),c(p));return p}return u(),h()}function a1(e){return e?e.replace(Lq,Ir):Ir}var $q=qq,Fq=rr&&rr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ev,"__esModule",{value:!0});ev.default=Hq;const Bq=Fq($q);function Hq(e,t){let n=null;if(!e||typeof e!="string")return n;const r=(0,Bq.default)(e),i=typeof t=="function";return r.forEach(o=>{if(o.type!=="declaration")return;const{property:a,value:s}=o;i?t(a,s,o):s&&(n=n||{},n[a]=s)}),n}var ou={};Object.defineProperty(ou,"__esModule",{value:!0});ou.camelCase=void 0;var Vq=/^--[a-zA-Z0-9_-]+$/,Uq=/-([a-z])/g,Gq=/^[^-]+$/,Wq=/^-(webkit|moz|ms|o|khtml)-/,Yq=/^-(ms)-/,Kq=function(e){return!e||Gq.test(e)||Vq.test(e)},Xq=function(e,t){return t.toUpperCase()},s1=function(e,t){return"".concat(t,"-")},Qq=function(e,t){return t===void 0&&(t={}),Kq(e)?e:(e=e.toLowerCase(),t.reactCompat?e=e.replace(Yq,s1):e=e.replace(Wq,s1),e.replace(Uq,Xq))};ou.camelCase=Qq;var Zq=rr&&rr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},Jq=Zq(ev),e$=ou;function jm(e,t){var n={};return!e||typeof e!="string"||(0,Jq.default)(e,function(r,i){r&&i&&(n[(0,e$.camelCase)(r,t)]=i)}),n}jm.default=jm;var t$=jm;const n$=va(t$),vT=xT("end"),tv=xT("start");function xT(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function r$(e){const t=tv(e),n=vT(e);if(t&&n)return{start:t,end:n}}function $o(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?l1(e.position):"start"in e||"end"in e?l1(e):"line"in e||"column"in e?Im(e):""}function Im(e){return u1(e&&e.line)+":"+u1(e&&e.column)}function l1(e){return Im(e&&e.start)+"-"+Im(e&&e.end)}function u1(e){return e&&typeof e=="number"?e:1}class st extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",o={},a=!1;if(n&&("line"in n&&"column"in n?o={place:n}:"start"in n&&"end"in n?o={place:n}:"type"in n?o={ancestors:[n],place:n.position}:o={...n}),typeof t=="string"?i=t:!o.cause&&t&&(a=!0,i=t.message,o.cause=t),!o.ruleId&&!o.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?o.ruleId=r:(o.source=r.slice(0,l),o.ruleId=r.slice(l+1))}if(!o.place&&o.ancestors&&o.ancestors){const l=o.ancestors[o.ancestors.length-1];l&&(o.place=l.position)}const s=o.place&&"start"in o.place?o.place.start:o.place;this.ancestors=o.ancestors||void 0,this.cause=o.cause||void 0,this.column=s?s.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=s?s.line:void 0,this.name=$o(o.place)||"1:1",this.place=o.place||void 0,this.reason=this.message,this.ruleId=o.ruleId||void 0,this.source=o.source||void 0,this.stack=a&&o.cause&&typeof o.cause.stack=="string"?o.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}st.prototype.file="";st.prototype.name="";st.prototype.reason="";st.prototype.message="";st.prototype.stack="";st.prototype.column=void 0;st.prototype.line=void 0;st.prototype.ancestors=void 0;st.prototype.cause=void 0;st.prototype.fatal=void 0;st.prototype.place=void 0;st.prototype.ruleId=void 0;st.prototype.source=void 0;const nv={}.hasOwnProperty,i$=new Map,o$=/[A-Z]/g,a$=new Set(["table","tbody","thead","tfoot","tr"]),s$=new Set(["td","th"]),wT="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function l$(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=m$(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=g$(n,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?Jy:Nq,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},o=_T(i,e,void 0);return o&&typeof o!="string"?o:i.create(e,i.Fragment,{children:o||void 0},void 0)}function _T(e,t,n){if(t.type==="element")return u$(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return c$(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return d$(e,t,n);if(t.type==="mdxjsEsm")return f$(e,t);if(t.type==="root")return h$(e,t,n);if(t.type==="text")return p$(e,t)}function u$(e,t,n){const r=e.schema;let i=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=Jy,e.schema=i),e.ancestors.push(t);const o=ST(e,t.tagName,!1),a=y$(e,t);let s=iv(e,t);return a$.has(t.tagName)&&(s=s.filter(function(l){return typeof l=="string"?!yq(l):!0})),bT(e,a,o,t),rv(a,s),e.ancestors.pop(),e.schema=r,e.create(t,o,a,n)}function c$(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}ma(e,t.position)}function f$(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);ma(e,t.position)}function d$(e,t,n){const r=e.schema;let i=r;t.name==="svg"&&r.space==="html"&&(i=Jy,e.schema=i),e.ancestors.push(t);const o=t.name===null?e.Fragment:ST(e,t.name,!0),a=v$(e,t),s=iv(e,t);return bT(e,a,o,t),rv(a,s),e.ancestors.pop(),e.schema=r,e.create(t,o,a,n)}function h$(e,t,n){const r={};return rv(r,iv(e,t)),e.create(t,e.Fragment,r,n)}function p$(e,t){return t.value}function bT(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function rv(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function g$(e,t,n){return r;function r(i,o,a,s){const u=Array.isArray(a.children)?n:t;return s?u(o,a,s):u(o,a)}}function m$(e,t){return n;function n(r,i,o,a){const s=Array.isArray(o.children),l=tv(r);return t(i,o,a,s,{columnNumber:l?l.column-1:void 0,fileName:e,lineNumber:l?l.line:void 0},void 0)}}function y$(e,t){const n={};let r,i;for(i in t.properties)if(i!=="children"&&nv.call(t.properties,i)){const o=x$(e,i,t.properties[i]);if(o){const[a,s]=o;e.tableCellAlignToStyle&&a==="align"&&typeof s=="string"&&s$.has(t.tagName)?r=s:n[a]=s}}if(r){const o=n.style||(n.style={});o[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function v$(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const o=r.data.estree.body[0];o.type;const a=o.expression;a.type;const s=a.properties[0];s.type,Object.assign(n,e.evaluater.evaluateExpression(s.argument))}else ma(e,t.position);else{const i=r.name;let o;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const s=r.value.data.estree.body[0];s.type,o=e.evaluater.evaluateExpression(s.expression)}else ma(e,t.position);else o=r.value===null?!0:r.value;n[i]=o}return n}function iv(e,t){const n=[];let r=-1;const i=e.passKeys?new Map:i$;for(;++r<t.children.length;){const o=t.children[r];let a;if(e.passKeys){const l=o.type==="element"?o.tagName:o.type==="mdxJsxFlowElement"||o.type==="mdxJsxTextElement"?o.name:void 0;if(l){const u=i.get(l)||0;a=l+"-"+u,i.set(l,u+1)}}const s=_T(e,o,a);s!==void 0&&n.push(s)}return n}function x$(e,t,n){const r=Eq(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?dq(n):Tq(n)),r.property==="style"){let i=typeof n=="object"?n:w$(e,String(n));return e.stylePropertyNameCase==="css"&&(i=_$(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&r.space?_q[r.property]||r.property:r.attribute,n]}}function w$(e,t){try{return n$(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,i=new st("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=wT+"#cannot-parse-style-attribute",i}}function ST(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let o=-1,a;for(;++o<i.length;){const s=Jx(i[o])?{type:"Identifier",name:i[o]}:{type:"Literal",value:i[o]};a=a?{type:"MemberExpression",object:a,property:s,computed:!!(o&&s.type==="Literal"),optional:!1}:s}r=a}else r=Jx(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const i=r.value;return nv.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(r);ma(e)}function ma(e,t){const n=new st("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=wT+"#cannot-handle-mdx-estrees-without-createevaluater",n}function _$(e){const t={};let n;for(n in e)nv.call(e,n)&&(t[b$(n)]=e[n]);return t}function b$(e){let t=e.replace(o$,S$);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function S$(e){return"-"+e.toLowerCase()}const pc={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},E$={};function k$(e,t){const n=E$,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return ET(e,r,i)}function ET(e,t,n){if(C$(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return c1(e.children,t,n)}return Array.isArray(e)?c1(e,t,n):""}function c1(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=ET(e[i],t,n);return r.join("")}function C$(e){return!!(e&&typeof e=="object")}const f1=document.createElement("i");function ov(e){const t="&"+e+";";f1.innerHTML=t;const n=f1.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function Sn(e,t,n,r){const i=e.length;let o=0,a;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)a=Array.from(r),a.unshift(t,n),e.splice(...a);else for(n&&e.splice(t,n);o<r.length;)a=r.slice(o,o+1e4),a.unshift(t,0),e.splice(...a),o+=1e4,t+=1e4}function Ht(e,t){return e.length>0?(Sn(e,e.length,0,t),e):t}const d1={}.hasOwnProperty;function N$(e){const t={};let n=-1;for(;++n<e.length;)T$(t,e[n]);return t}function T$(e,t){let n;for(n in t){const i=(d1.call(e,n)?e[n]:void 0)||(e[n]={}),o=t[n];let a;if(o)for(a in o){d1.call(i,a)||(i[a]=[]);const s=o[a];P$(i[a],Array.isArray(s)?s:s?[s]:[])}}}function P$(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);Sn(e,0,0,r)}function kT(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function Ii(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const yn=Sr(/[A-Za-z]/),Rt=Sr(/[\dA-Za-z]/),j$=Sr(/[#-'*+\--9=?A-Z^-~]/);function Am(e){return e!==null&&(e<32||e===127)}const Rm=Sr(/\d/),I$=Sr(/[\dA-Fa-f]/),A$=Sr(/[!-/:-@[-`{-~]/);function ue(e){return e!==null&&e<-2}function St(e){return e!==null&&(e<0||e===32)}function we(e){return e===-2||e===-1||e===32}const R$=Sr(new RegExp("\\p{P}|\\p{S}","u")),M$=Sr(/\s/);function Sr(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function Qi(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const o=e.charCodeAt(n);let a="";if(o===37&&Rt(e.charCodeAt(n+1))&&Rt(e.charCodeAt(n+2)))i=2;else if(o<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(o))||(a=String.fromCharCode(o));else if(o>55295&&o<57344){const s=e.charCodeAt(n+1);o<56320&&s>56319&&s<57344?(a=String.fromCharCode(o,s),i=1):a=""}else a=String.fromCharCode(o);a&&(t.push(e.slice(r,n),encodeURIComponent(a)),r=n+i+1,a=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function Ce(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let o=0;return a;function a(l){return we(l)?(e.enter(n),s(l)):t(l)}function s(l){return we(l)&&o++<i?(e.consume(l),s):(e.exit(n),t(l))}}const L$={tokenize:O$};function O$(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),Ce(e,t,"linePrefix")}function i(s){return e.enter("paragraph"),o(s)}function o(s){const l=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,a(s)}function a(s){if(s===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(s);return}return ue(s)?(e.consume(s),e.exit("chunkText"),o):(e.consume(s),a)}}const D$={tokenize:z$},h1={tokenize:q$};function z$(e){const t=this,n=[];let r=0,i,o,a;return s;function s(m){if(r<n.length){const _=n[r];return t.containerState=_[1],e.attempt(_[0].continuation,l,u)(m)}return u(m)}function l(m){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&v();const _=t.events.length;let k=_,b;for(;k--;)if(t.events[k][0]==="exit"&&t.events[k][1].type==="chunkFlow"){b=t.events[k][1].end;break}g(r);let E=_;for(;E<t.events.length;)t.events[E][1].end={...b},E++;return Sn(t.events,k+1,0,t.events.slice(_)),t.events.length=E,u(m)}return s(m)}function u(m){if(r===n.length){if(!i)return d(m);if(i.currentConstruct&&i.currentConstruct.concrete)return p(m);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(h1,c,f)(m)}function c(m){return i&&v(),g(r),d(m)}function f(m){return t.parser.lazy[t.now().line]=r!==n.length,a=t.now().offset,p(m)}function d(m){return t.containerState={},e.attempt(h1,h,p)(m)}function h(m){return r++,n.push([t.currentConstruct,t.containerState]),d(m)}function p(m){if(m===null){i&&v(),g(0),e.consume(m);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:o}),y(m)}function y(m){if(m===null){w(e.exit("chunkFlow"),!0),g(0),e.consume(m);return}return ue(m)?(e.consume(m),w(e.exit("chunkFlow")),r=0,t.interrupt=void 0,s):(e.consume(m),y)}function w(m,_){const k=t.sliceStream(m);if(_&&k.push(null),m.previous=o,o&&(o.next=m),o=m,i.defineSkip(m.start),i.write(k),t.parser.lazy[m.start.line]){let b=i.events.length;for(;b--;)if(i.events[b][1].start.offset<a&&(!i.events[b][1].end||i.events[b][1].end.offset>a))return;const E=t.events.length;let T=E,M,D;for(;T--;)if(t.events[T][0]==="exit"&&t.events[T][1].type==="chunkFlow"){if(M){D=t.events[T][1].end;break}M=!0}for(g(r),b=E;b<t.events.length;)t.events[b][1].end={...D},b++;Sn(t.events,T+1,0,t.events.slice(E)),t.events.length=b}}function g(m){let _=n.length;for(;_-- >m;){const k=n[_];t.containerState=k[1],k[0].exit.call(t,e)}n.length=m}function v(){i.write([null]),o=void 0,i=void 0,t.containerState._closeFlow=void 0}}function q$(e,t,n){return Ce(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function p1(e){if(e===null||St(e)||M$(e))return 1;if(R$(e))return 2}function av(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const o=e[i].resolveAll;o&&!r.includes(o)&&(t=o(t,n),r.push(o))}return t}const Mm={name:"attention",resolveAll:$$,tokenize:F$};function $$(e,t){let n=-1,r,i,o,a,s,l,u,c;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;l=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const f={...e[r][1].end},d={...e[n][1].start};g1(f,-l),g1(d,l),a={type:l>1?"strongSequence":"emphasisSequence",start:f,end:{...e[r][1].end}},s={type:l>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:d},o={type:l>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},i={type:l>1?"strong":"emphasis",start:{...a.start},end:{...s.end}},e[r][1].end={...a.start},e[n][1].start={...s.end},u=[],e[r][1].end.offset-e[r][1].start.offset&&(u=Ht(u,[["enter",e[r][1],t],["exit",e[r][1],t]])),u=Ht(u,[["enter",i,t],["enter",a,t],["exit",a,t],["enter",o,t]]),u=Ht(u,av(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),u=Ht(u,[["exit",o,t],["enter",s,t],["exit",s,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(c=2,u=Ht(u,[["enter",e[n][1],t],["exit",e[n][1],t]])):c=0,Sn(e,r-1,n-r+3,u),n=r+u.length-c-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function F$(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=p1(r);let o;return a;function a(l){return o=l,e.enter("attentionSequence"),s(l)}function s(l){if(l===o)return e.consume(l),s;const u=e.exit("attentionSequence"),c=p1(l),f=!c||c===2&&i||n.includes(l),d=!i||i===2&&c||n.includes(r);return u._open=!!(o===42?f:f&&(i||!d)),u._close=!!(o===42?d:d&&(c||!f)),t(l)}}function g1(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const B$={name:"autolink",tokenize:H$};function H$(e,t,n){let r=0;return i;function i(h){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),o}function o(h){return yn(h)?(e.consume(h),a):h===64?n(h):u(h)}function a(h){return h===43||h===45||h===46||Rt(h)?(r=1,s(h)):u(h)}function s(h){return h===58?(e.consume(h),r=0,l):(h===43||h===45||h===46||Rt(h))&&r++<32?(e.consume(h),s):(r=0,u(h))}function l(h){return h===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.exit("autolink"),t):h===null||h===32||h===60||Am(h)?n(h):(e.consume(h),l)}function u(h){return h===64?(e.consume(h),c):j$(h)?(e.consume(h),u):n(h)}function c(h){return Rt(h)?f(h):n(h)}function f(h){return h===46?(e.consume(h),r=0,c):h===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.exit("autolink"),t):d(h)}function d(h){if((h===45||Rt(h))&&r++<63){const p=h===45?d:f;return e.consume(h),p}return n(h)}}const au={partial:!0,tokenize:V$};function V$(e,t,n){return r;function r(o){return we(o)?Ce(e,i,"linePrefix")(o):i(o)}function i(o){return o===null||ue(o)?t(o):n(o)}}const CT={continuation:{tokenize:G$},exit:W$,name:"blockQuote",tokenize:U$};function U$(e,t,n){const r=this;return i;function i(a){if(a===62){const s=r.containerState;return s.open||(e.enter("blockQuote",{_container:!0}),s.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(a),e.exit("blockQuoteMarker"),o}return n(a)}function o(a){return we(a)?(e.enter("blockQuotePrefixWhitespace"),e.consume(a),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(a))}}function G$(e,t,n){const r=this;return i;function i(a){return we(a)?Ce(e,o,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a):o(a)}function o(a){return e.attempt(CT,t,n)(a)}}function W$(e){e.exit("blockQuote")}const NT={name:"characterEscape",tokenize:Y$};function Y$(e,t,n){return r;function r(o){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(o),e.exit("escapeMarker"),i}function i(o){return A$(o)?(e.enter("characterEscapeValue"),e.consume(o),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(o)}}const TT={name:"characterReference",tokenize:K$};function K$(e,t,n){const r=this;let i=0,o,a;return s;function s(f){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),l}function l(f){return f===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(f),e.exit("characterReferenceMarkerNumeric"),u):(e.enter("characterReferenceValue"),o=31,a=Rt,c(f))}function u(f){return f===88||f===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(f),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),o=6,a=I$,c):(e.enter("characterReferenceValue"),o=7,a=Rm,c(f))}function c(f){if(f===59&&i){const d=e.exit("characterReferenceValue");return a===Rt&&!ov(r.sliceSerialize(d))?n(f):(e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return a(f)&&i++<o?(e.consume(f),c):n(f)}}const m1={partial:!0,tokenize:Q$},y1={concrete:!0,name:"codeFenced",tokenize:X$};function X$(e,t,n){const r=this,i={partial:!0,tokenize:k};let o=0,a=0,s;return l;function l(b){return u(b)}function u(b){const E=r.events[r.events.length-1];return o=E&&E[1].type==="linePrefix"?E[2].sliceSerialize(E[1],!0).length:0,s=b,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),c(b)}function c(b){return b===s?(a++,e.consume(b),c):a<3?n(b):(e.exit("codeFencedFenceSequence"),we(b)?Ce(e,f,"whitespace")(b):f(b))}function f(b){return b===null||ue(b)?(e.exit("codeFencedFence"),r.interrupt?t(b):e.check(m1,y,_)(b)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),d(b))}function d(b){return b===null||ue(b)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),f(b)):we(b)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Ce(e,h,"whitespace")(b)):b===96&&b===s?n(b):(e.consume(b),d)}function h(b){return b===null||ue(b)?f(b):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),p(b))}function p(b){return b===null||ue(b)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),f(b)):b===96&&b===s?n(b):(e.consume(b),p)}function y(b){return e.attempt(i,_,w)(b)}function w(b){return e.enter("lineEnding"),e.consume(b),e.exit("lineEnding"),g}function g(b){return o>0&&we(b)?Ce(e,v,"linePrefix",o+1)(b):v(b)}function v(b){return b===null||ue(b)?e.check(m1,y,_)(b):(e.enter("codeFlowValue"),m(b))}function m(b){return b===null||ue(b)?(e.exit("codeFlowValue"),v(b)):(e.consume(b),m)}function _(b){return e.exit("codeFenced"),t(b)}function k(b,E,T){let M=0;return D;function D(A){return b.enter("lineEnding"),b.consume(A),b.exit("lineEnding"),P}function P(A){return b.enter("codeFencedFence"),we(A)?Ce(b,O,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(A):O(A)}function O(A){return A===s?(b.enter("codeFencedFenceSequence"),q(A)):T(A)}function q(A){return A===s?(M++,b.consume(A),q):M>=a?(b.exit("codeFencedFenceSequence"),we(A)?Ce(b,j,"whitespace")(A):j(A)):T(A)}function j(A){return A===null||ue(A)?(b.exit("codeFencedFence"),E(A)):T(A)}}}function Q$(e,t,n){const r=this;return i;function i(a){return a===null?n(a):(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),o)}function o(a){return r.parser.lazy[r.now().line]?n(a):t(a)}}const gc={name:"codeIndented",tokenize:J$},Z$={partial:!0,tokenize:eF};function J$(e,t,n){const r=this;return i;function i(u){return e.enter("codeIndented"),Ce(e,o,"linePrefix",5)(u)}function o(u){const c=r.events[r.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?a(u):n(u)}function a(u){return u===null?l(u):ue(u)?e.attempt(Z$,a,l)(u):(e.enter("codeFlowValue"),s(u))}function s(u){return u===null||ue(u)?(e.exit("codeFlowValue"),a(u)):(e.consume(u),s)}function l(u){return e.exit("codeIndented"),t(u)}}function eF(e,t,n){const r=this;return i;function i(a){return r.parser.lazy[r.now().line]?n(a):ue(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),i):Ce(e,o,"linePrefix",5)(a)}function o(a){const s=r.events[r.events.length-1];return s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?t(a):ue(a)?i(a):n(a)}}const tF={name:"codeText",previous:rF,resolve:nF,tokenize:iF};function nF(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function rF(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function iF(e,t,n){let r=0,i,o;return a;function a(f){return e.enter("codeText"),e.enter("codeTextSequence"),s(f)}function s(f){return f===96?(e.consume(f),r++,s):(e.exit("codeTextSequence"),l(f))}function l(f){return f===null?n(f):f===32?(e.enter("space"),e.consume(f),e.exit("space"),l):f===96?(o=e.enter("codeTextSequence"),i=0,c(f)):ue(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),l):(e.enter("codeTextData"),u(f))}function u(f){return f===null||f===32||f===96||ue(f)?(e.exit("codeTextData"),l(f)):(e.consume(f),u)}function c(f){return f===96?(e.consume(f),i++,c):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(f)):(o.type="codeTextData",u(f))}}class oF{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const i=n||0;this.setCursor(Math.trunc(t));const o=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&po(this.left,r),o.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),po(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),po(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);po(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);po(this.left,n.reverse())}}}function po(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function PT(e){const t={};let n=-1,r,i,o,a,s,l,u;const c=new oF(e);for(;++n<c.length;){for(;n in t;)n=t[n];if(r=c.get(n),n&&r[1].type==="chunkFlow"&&c.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,o=0,o<l.length&&l[o][1].type==="lineEndingBlank"&&(o+=2),o<l.length&&l[o][1].type==="content"))for(;++o<l.length&&l[o][1].type!=="content";)l[o][1].type==="chunkText"&&(l[o][1]._isInFirstContentOfListItem=!0,o++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,aF(c,n)),n=t[n],u=!0);else if(r[1]._container){for(o=n,i=void 0;o--;)if(a=c.get(o),a[1].type==="lineEnding"||a[1].type==="lineEndingBlank")a[0]==="enter"&&(i&&(c.get(i)[1].type="lineEndingBlank"),a[1].type="lineEnding",i=o);else if(!(a[1].type==="linePrefix"||a[1].type==="listItemIndent"))break;i&&(r[1].end={...c.get(i)[1].start},s=c.slice(i,n),s.unshift(r),c.splice(i,n-i+1,s))}}return Sn(e,0,Number.POSITIVE_INFINITY,c.slice(0)),!u}function aF(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const o=[];let a=n._tokenizer;a||(a=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(a._contentTypeTextTrailing=!0));const s=a.events,l=[],u={};let c,f,d=-1,h=n,p=0,y=0;const w=[y];for(;h;){for(;e.get(++i)[1]!==h;);o.push(i),h._tokenizer||(c=r.sliceStream(h),h.next||c.push(null),f&&a.defineSkip(h.start),h._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=!0),a.write(c),h._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=void 0)),f=h,h=h.next}for(h=n;++d<s.length;)s[d][0]==="exit"&&s[d-1][0]==="enter"&&s[d][1].type===s[d-1][1].type&&s[d][1].start.line!==s[d][1].end.line&&(y=d+1,w.push(y),h._tokenizer=void 0,h.previous=void 0,h=h.next);for(a.events=[],h?(h._tokenizer=void 0,h.previous=void 0):w.pop(),d=w.length;d--;){const g=s.slice(w[d],w[d+1]),v=o.pop();l.push([v,v+g.length-1]),e.splice(v,2,g)}for(l.reverse(),d=-1;++d<l.length;)u[p+l[d][0]]=p+l[d][1],p+=l[d][1]-l[d][0]-1;return u}const sF={resolve:uF,tokenize:cF},lF={partial:!0,tokenize:fF};function uF(e){return PT(e),e}function cF(e,t){let n;return r;function r(s){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(s)}function i(s){return s===null?o(s):ue(s)?e.check(lF,a,o)(s):(e.consume(s),i)}function o(s){return e.exit("chunkContent"),e.exit("content"),t(s)}function a(s){return e.consume(s),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function fF(e,t,n){const r=this;return i;function i(a){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),Ce(e,o,"linePrefix")}function o(a){if(a===null||ue(a))return n(a);const s=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?t(a):e.interrupt(r.parser.constructs.flow,n,t)(a)}}function jT(e,t,n,r,i,o,a,s,l){const u=l||Number.POSITIVE_INFINITY;let c=0;return f;function f(g){return g===60?(e.enter(r),e.enter(i),e.enter(o),e.consume(g),e.exit(o),d):g===null||g===32||g===41||Am(g)?n(g):(e.enter(r),e.enter(a),e.enter(s),e.enter("chunkString",{contentType:"string"}),y(g))}function d(g){return g===62?(e.enter(o),e.consume(g),e.exit(o),e.exit(i),e.exit(r),t):(e.enter(s),e.enter("chunkString",{contentType:"string"}),h(g))}function h(g){return g===62?(e.exit("chunkString"),e.exit(s),d(g)):g===null||g===60||ue(g)?n(g):(e.consume(g),g===92?p:h)}function p(g){return g===60||g===62||g===92?(e.consume(g),h):h(g)}function y(g){return!c&&(g===null||g===41||St(g))?(e.exit("chunkString"),e.exit(s),e.exit(a),e.exit(r),t(g)):c<u&&g===40?(e.consume(g),c++,y):g===41?(e.consume(g),c--,y):g===null||g===32||g===40||Am(g)?n(g):(e.consume(g),g===92?w:y)}function w(g){return g===40||g===41||g===92?(e.consume(g),y):y(g)}}function IT(e,t,n,r,i,o){const a=this;let s=0,l;return u;function u(h){return e.enter(r),e.enter(i),e.consume(h),e.exit(i),e.enter(o),c}function c(h){return s>999||h===null||h===91||h===93&&!l||h===94&&!s&&"_hiddenFootnoteSupport"in a.parser.constructs?n(h):h===93?(e.exit(o),e.enter(i),e.consume(h),e.exit(i),e.exit(r),t):ue(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),c):(e.enter("chunkString",{contentType:"string"}),f(h))}function f(h){return h===null||h===91||h===93||ue(h)||s++>999?(e.exit("chunkString"),c(h)):(e.consume(h),l||(l=!we(h)),h===92?d:f)}function d(h){return h===91||h===92||h===93?(e.consume(h),s++,f):f(h)}}function AT(e,t,n,r,i,o){let a;return s;function s(d){return d===34||d===39||d===40?(e.enter(r),e.enter(i),e.consume(d),e.exit(i),a=d===40?41:d,l):n(d)}function l(d){return d===a?(e.enter(i),e.consume(d),e.exit(i),e.exit(r),t):(e.enter(o),u(d))}function u(d){return d===a?(e.exit(o),l(a)):d===null?n(d):ue(d)?(e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),Ce(e,u,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),c(d))}function c(d){return d===a||d===null||ue(d)?(e.exit("chunkString"),u(d)):(e.consume(d),d===92?f:c)}function f(d){return d===a||d===92?(e.consume(d),c):c(d)}}function Fo(e,t){let n;return r;function r(i){return ue(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):we(i)?Ce(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}const dF={name:"definition",tokenize:pF},hF={partial:!0,tokenize:gF};function pF(e,t,n){const r=this;let i;return o;function o(h){return e.enter("definition"),a(h)}function a(h){return IT.call(r,e,s,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(h)}function s(h){return i=Ii(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),h===58?(e.enter("definitionMarker"),e.consume(h),e.exit("definitionMarker"),l):n(h)}function l(h){return St(h)?Fo(e,u)(h):u(h)}function u(h){return jT(e,c,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(h)}function c(h){return e.attempt(hF,f,f)(h)}function f(h){return we(h)?Ce(e,d,"whitespace")(h):d(h)}function d(h){return h===null||ue(h)?(e.exit("definition"),r.parser.defined.push(i),t(h)):n(h)}}function gF(e,t,n){return r;function r(s){return St(s)?Fo(e,i)(s):n(s)}function i(s){return AT(e,o,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(s)}function o(s){return we(s)?Ce(e,a,"whitespace")(s):a(s)}function a(s){return s===null||ue(s)?t(s):n(s)}}const mF={name:"hardBreakEscape",tokenize:yF};function yF(e,t,n){return r;function r(o){return e.enter("hardBreakEscape"),e.consume(o),i}function i(o){return ue(o)?(e.exit("hardBreakEscape"),t(o)):n(o)}}const vF={name:"headingAtx",resolve:xF,tokenize:wF};function xF(e,t){let n=e.length-2,r=3,i,o;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},o={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},Sn(e,r,n-r+1,[["enter",i,t],["enter",o,t],["exit",o,t],["exit",i,t]])),e}function wF(e,t,n){let r=0;return i;function i(c){return e.enter("atxHeading"),o(c)}function o(c){return e.enter("atxHeadingSequence"),a(c)}function a(c){return c===35&&r++<6?(e.consume(c),a):c===null||St(c)?(e.exit("atxHeadingSequence"),s(c)):n(c)}function s(c){return c===35?(e.enter("atxHeadingSequence"),l(c)):c===null||ue(c)?(e.exit("atxHeading"),t(c)):we(c)?Ce(e,s,"whitespace")(c):(e.enter("atxHeadingText"),u(c))}function l(c){return c===35?(e.consume(c),l):(e.exit("atxHeadingSequence"),s(c))}function u(c){return c===null||c===35||St(c)?(e.exit("atxHeadingText"),s(c)):(e.consume(c),u)}}const _F=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],v1=["pre","script","style","textarea"],bF={concrete:!0,name:"htmlFlow",resolveTo:kF,tokenize:CF},SF={partial:!0,tokenize:TF},EF={partial:!0,tokenize:NF};function kF(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function CF(e,t,n){const r=this;let i,o,a,s,l;return u;function u(N){return c(N)}function c(N){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(N),f}function f(N){return N===33?(e.consume(N),d):N===47?(e.consume(N),o=!0,y):N===63?(e.consume(N),i=3,r.interrupt?t:S):yn(N)?(e.consume(N),a=String.fromCharCode(N),w):n(N)}function d(N){return N===45?(e.consume(N),i=2,h):N===91?(e.consume(N),i=5,s=0,p):yn(N)?(e.consume(N),i=4,r.interrupt?t:S):n(N)}function h(N){return N===45?(e.consume(N),r.interrupt?t:S):n(N)}function p(N){const H="CDATA[";return N===H.charCodeAt(s++)?(e.consume(N),s===H.length?r.interrupt?t:O:p):n(N)}function y(N){return yn(N)?(e.consume(N),a=String.fromCharCode(N),w):n(N)}function w(N){if(N===null||N===47||N===62||St(N)){const H=N===47,X=a.toLowerCase();return!H&&!o&&v1.includes(X)?(i=1,r.interrupt?t(N):O(N)):_F.includes(a.toLowerCase())?(i=6,H?(e.consume(N),g):r.interrupt?t(N):O(N)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(N):o?v(N):m(N))}return N===45||Rt(N)?(e.consume(N),a+=String.fromCharCode(N),w):n(N)}function g(N){return N===62?(e.consume(N),r.interrupt?t:O):n(N)}function v(N){return we(N)?(e.consume(N),v):D(N)}function m(N){return N===47?(e.consume(N),D):N===58||N===95||yn(N)?(e.consume(N),_):we(N)?(e.consume(N),m):D(N)}function _(N){return N===45||N===46||N===58||N===95||Rt(N)?(e.consume(N),_):k(N)}function k(N){return N===61?(e.consume(N),b):we(N)?(e.consume(N),k):m(N)}function b(N){return N===null||N===60||N===61||N===62||N===96?n(N):N===34||N===39?(e.consume(N),l=N,E):we(N)?(e.consume(N),b):T(N)}function E(N){return N===l?(e.consume(N),l=null,M):N===null||ue(N)?n(N):(e.consume(N),E)}function T(N){return N===null||N===34||N===39||N===47||N===60||N===61||N===62||N===96||St(N)?k(N):(e.consume(N),T)}function M(N){return N===47||N===62||we(N)?m(N):n(N)}function D(N){return N===62?(e.consume(N),P):n(N)}function P(N){return N===null||ue(N)?O(N):we(N)?(e.consume(N),P):n(N)}function O(N){return N===45&&i===2?(e.consume(N),z):N===60&&i===1?(e.consume(N),R):N===62&&i===4?(e.consume(N),$):N===63&&i===3?(e.consume(N),S):N===93&&i===5?(e.consume(N),I):ue(N)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(SF,F,q)(N)):N===null||ue(N)?(e.exit("htmlFlowData"),q(N)):(e.consume(N),O)}function q(N){return e.check(EF,j,F)(N)}function j(N){return e.enter("lineEnding"),e.consume(N),e.exit("lineEnding"),A}function A(N){return N===null||ue(N)?q(N):(e.enter("htmlFlowData"),O(N))}function z(N){return N===45?(e.consume(N),S):O(N)}function R(N){return N===47?(e.consume(N),a="",C):O(N)}function C(N){if(N===62){const H=a.toLowerCase();return v1.includes(H)?(e.consume(N),$):O(N)}return yn(N)&&a.length<8?(e.consume(N),a+=String.fromCharCode(N),C):O(N)}function I(N){return N===93?(e.consume(N),S):O(N)}function S(N){return N===62?(e.consume(N),$):N===45&&i===2?(e.consume(N),S):O(N)}function $(N){return N===null||ue(N)?(e.exit("htmlFlowData"),F(N)):(e.consume(N),$)}function F(N){return e.exit("htmlFlow"),t(N)}}function NF(e,t,n){const r=this;return i;function i(a){return ue(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),o):n(a)}function o(a){return r.parser.lazy[r.now().line]?n(a):t(a)}}function TF(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(au,t,n)}}const PF={name:"htmlText",tokenize:jF};function jF(e,t,n){const r=this;let i,o,a;return s;function s(S){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(S),l}function l(S){return S===33?(e.consume(S),u):S===47?(e.consume(S),k):S===63?(e.consume(S),m):yn(S)?(e.consume(S),T):n(S)}function u(S){return S===45?(e.consume(S),c):S===91?(e.consume(S),o=0,p):yn(S)?(e.consume(S),v):n(S)}function c(S){return S===45?(e.consume(S),h):n(S)}function f(S){return S===null?n(S):S===45?(e.consume(S),d):ue(S)?(a=f,R(S)):(e.consume(S),f)}function d(S){return S===45?(e.consume(S),h):f(S)}function h(S){return S===62?z(S):S===45?d(S):f(S)}function p(S){const $="CDATA[";return S===$.charCodeAt(o++)?(e.consume(S),o===$.length?y:p):n(S)}function y(S){return S===null?n(S):S===93?(e.consume(S),w):ue(S)?(a=y,R(S)):(e.consume(S),y)}function w(S){return S===93?(e.consume(S),g):y(S)}function g(S){return S===62?z(S):S===93?(e.consume(S),g):y(S)}function v(S){return S===null||S===62?z(S):ue(S)?(a=v,R(S)):(e.consume(S),v)}function m(S){return S===null?n(S):S===63?(e.consume(S),_):ue(S)?(a=m,R(S)):(e.consume(S),m)}function _(S){return S===62?z(S):m(S)}function k(S){return yn(S)?(e.consume(S),b):n(S)}function b(S){return S===45||Rt(S)?(e.consume(S),b):E(S)}function E(S){return ue(S)?(a=E,R(S)):we(S)?(e.consume(S),E):z(S)}function T(S){return S===45||Rt(S)?(e.consume(S),T):S===47||S===62||St(S)?M(S):n(S)}function M(S){return S===47?(e.consume(S),z):S===58||S===95||yn(S)?(e.consume(S),D):ue(S)?(a=M,R(S)):we(S)?(e.consume(S),M):z(S)}function D(S){return S===45||S===46||S===58||S===95||Rt(S)?(e.consume(S),D):P(S)}function P(S){return S===61?(e.consume(S),O):ue(S)?(a=P,R(S)):we(S)?(e.consume(S),P):M(S)}function O(S){return S===null||S===60||S===61||S===62||S===96?n(S):S===34||S===39?(e.consume(S),i=S,q):ue(S)?(a=O,R(S)):we(S)?(e.consume(S),O):(e.consume(S),j)}function q(S){return S===i?(e.consume(S),i=void 0,A):S===null?n(S):ue(S)?(a=q,R(S)):(e.consume(S),q)}function j(S){return S===null||S===34||S===39||S===60||S===61||S===96?n(S):S===47||S===62||St(S)?M(S):(e.consume(S),j)}function A(S){return S===47||S===62||St(S)?M(S):n(S)}function z(S){return S===62?(e.consume(S),e.exit("htmlTextData"),e.exit("htmlText"),t):n(S)}function R(S){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(S),e.exit("lineEnding"),C}function C(S){return we(S)?Ce(e,I,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(S):I(S)}function I(S){return e.enter("htmlTextData"),a(S)}}const sv={name:"labelEnd",resolveAll:MF,resolveTo:LF,tokenize:OF},IF={tokenize:DF},AF={tokenize:zF},RF={tokenize:qF};function MF(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",t+=i}}return e.length!==n.length&&Sn(e,0,e.length,n),e}function LF(e,t){let n=e.length,r=0,i,o,a,s;for(;n--;)if(i=e[n][1],o){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(a){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(o=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(a=n);const l={type:e[o][1].type==="labelLink"?"link":"image",start:{...e[o][1].start},end:{...e[e.length-1][1].end}},u={type:"label",start:{...e[o][1].start},end:{...e[a][1].end}},c={type:"labelText",start:{...e[o+r+2][1].end},end:{...e[a-2][1].start}};return s=[["enter",l,t],["enter",u,t]],s=Ht(s,e.slice(o+1,o+r+3)),s=Ht(s,[["enter",c,t]]),s=Ht(s,av(t.parser.constructs.insideSpan.null,e.slice(o+r+4,a-3),t)),s=Ht(s,[["exit",c,t],e[a-2],e[a-1],["exit",u,t]]),s=Ht(s,e.slice(a+1)),s=Ht(s,[["exit",l,t]]),Sn(e,o,e.length,s),e}function OF(e,t,n){const r=this;let i=r.events.length,o,a;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){o=r.events[i][1];break}return s;function s(d){return o?o._inactive?f(d):(a=r.parser.defined.includes(Ii(r.sliceSerialize({start:o.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(d),e.exit("labelMarker"),e.exit("labelEnd"),l):n(d)}function l(d){return d===40?e.attempt(IF,c,a?c:f)(d):d===91?e.attempt(AF,c,a?u:f)(d):a?c(d):f(d)}function u(d){return e.attempt(RF,c,f)(d)}function c(d){return t(d)}function f(d){return o._balanced=!0,n(d)}}function DF(e,t,n){return r;function r(f){return e.enter("resource"),e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),i}function i(f){return St(f)?Fo(e,o)(f):o(f)}function o(f){return f===41?c(f):jT(e,a,s,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(f)}function a(f){return St(f)?Fo(e,l)(f):c(f)}function s(f){return n(f)}function l(f){return f===34||f===39||f===40?AT(e,u,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(f):c(f)}function u(f){return St(f)?Fo(e,c)(f):c(f)}function c(f){return f===41?(e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),e.exit("resource"),t):n(f)}}function zF(e,t,n){const r=this;return i;function i(s){return IT.call(r,e,o,a,"reference","referenceMarker","referenceString")(s)}function o(s){return r.parser.defined.includes(Ii(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(s):n(s)}function a(s){return n(s)}}function qF(e,t,n){return r;function r(o){return e.enter("reference"),e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),i}function i(o){return o===93?(e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),e.exit("reference"),t):n(o)}}const $F={name:"labelStartImage",resolveAll:sv.resolveAll,tokenize:FF};function FF(e,t,n){const r=this;return i;function i(s){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(s),e.exit("labelImageMarker"),o}function o(s){return s===91?(e.enter("labelMarker"),e.consume(s),e.exit("labelMarker"),e.exit("labelImage"),a):n(s)}function a(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(s):t(s)}}const BF={name:"labelStartLink",resolveAll:sv.resolveAll,tokenize:HF};function HF(e,t,n){const r=this;return i;function i(a){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelLink"),o}function o(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):t(a)}}const mc={name:"lineEnding",tokenize:VF};function VF(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),Ce(e,t,"linePrefix")}}const Os={name:"thematicBreak",tokenize:UF};function UF(e,t,n){let r=0,i;return o;function o(u){return e.enter("thematicBreak"),a(u)}function a(u){return i=u,s(u)}function s(u){return u===i?(e.enter("thematicBreakSequence"),l(u)):r>=3&&(u===null||ue(u))?(e.exit("thematicBreak"),t(u)):n(u)}function l(u){return u===i?(e.consume(u),r++,l):(e.exit("thematicBreakSequence"),we(u)?Ce(e,s,"whitespace")(u):s(u))}}const mt={continuation:{tokenize:KF},exit:QF,name:"list",tokenize:YF},GF={partial:!0,tokenize:ZF},WF={partial:!0,tokenize:XF};function YF(e,t,n){const r=this,i=r.events[r.events.length-1];let o=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,a=0;return s;function s(h){const p=r.containerState.type||(h===42||h===43||h===45?"listUnordered":"listOrdered");if(p==="listUnordered"?!r.containerState.marker||h===r.containerState.marker:Rm(h)){if(r.containerState.type||(r.containerState.type=p,e.enter(p,{_container:!0})),p==="listUnordered")return e.enter("listItemPrefix"),h===42||h===45?e.check(Os,n,u)(h):u(h);if(!r.interrupt||h===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),l(h)}return n(h)}function l(h){return Rm(h)&&++a<10?(e.consume(h),l):(!r.interrupt||a<2)&&(r.containerState.marker?h===r.containerState.marker:h===41||h===46)?(e.exit("listItemValue"),u(h)):n(h)}function u(h){return e.enter("listItemMarker"),e.consume(h),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||h,e.check(au,r.interrupt?n:c,e.attempt(GF,d,f))}function c(h){return r.containerState.initialBlankLine=!0,o++,d(h)}function f(h){return we(h)?(e.enter("listItemPrefixWhitespace"),e.consume(h),e.exit("listItemPrefixWhitespace"),d):n(h)}function d(h){return r.containerState.size=o+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(h)}}function KF(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(au,i,o);function i(s){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Ce(e,t,"listItemIndent",r.containerState.size+1)(s)}function o(s){return r.containerState.furtherBlankLines||!we(s)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,a(s)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(WF,t,a)(s))}function a(s){return r.containerState._closeFlow=!0,r.interrupt=void 0,Ce(e,e.attempt(mt,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s)}}function XF(e,t,n){const r=this;return Ce(e,i,"listItemIndent",r.containerState.size+1);function i(o){const a=r.events[r.events.length-1];return a&&a[1].type==="listItemIndent"&&a[2].sliceSerialize(a[1],!0).length===r.containerState.size?t(o):n(o)}}function QF(e){e.exit(this.containerState.type)}function ZF(e,t,n){const r=this;return Ce(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(o){const a=r.events[r.events.length-1];return!we(o)&&a&&a[1].type==="listItemPrefixWhitespace"?t(o):n(o)}}const x1={name:"setextUnderline",resolveTo:JF,tokenize:e5};function JF(e,t){let n=e.length,r,i,o;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!o&&e[n][1].type==="definition"&&(o=n);const a={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",o?(e.splice(i,0,["enter",a,t]),e.splice(o+1,0,["exit",e[r][1],t]),e[r][1].end={...e[o][1].end}):e[r][1]=a,e.push(["exit",a,t]),e}function e5(e,t,n){const r=this;let i;return o;function o(u){let c=r.events.length,f;for(;c--;)if(r.events[c][1].type!=="lineEnding"&&r.events[c][1].type!=="linePrefix"&&r.events[c][1].type!=="content"){f=r.events[c][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||f)?(e.enter("setextHeadingLine"),i=u,a(u)):n(u)}function a(u){return e.enter("setextHeadingLineSequence"),s(u)}function s(u){return u===i?(e.consume(u),s):(e.exit("setextHeadingLineSequence"),we(u)?Ce(e,l,"lineSuffix")(u):l(u))}function l(u){return u===null||ue(u)?(e.exit("setextHeadingLine"),t(u)):n(u)}}const t5={tokenize:n5};function n5(e){const t=this,n=e.attempt(au,r,e.attempt(this.parser.constructs.flowInitial,i,Ce(e,e.attempt(this.parser.constructs.flow,i,e.attempt(sF,i)),"linePrefix")));return n;function r(o){if(o===null){e.consume(o);return}return e.enter("lineEndingBlank"),e.consume(o),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(o){if(o===null){e.consume(o);return}return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const r5={resolveAll:MT()},i5=RT("string"),o5=RT("text");function RT(e){return{resolveAll:MT(e==="text"?a5:void 0),tokenize:t};function t(n){const r=this,i=this.parser.constructs[e],o=n.attempt(i,a,s);return a;function a(c){return u(c)?o(c):s(c)}function s(c){if(c===null){n.consume(c);return}return n.enter("data"),n.consume(c),l}function l(c){return u(c)?(n.exit("data"),o(c)):(n.consume(c),l)}function u(c){if(c===null)return!0;const f=i[c];let d=-1;if(f)for(;++d<f.length;){const h=f[d];if(!h.previous||h.previous.call(r,r.previous))return!0}return!1}}}function MT(e){return t;function t(n,r){let i=-1,o;for(;++i<=n.length;)o===void 0?n[i]&&n[i][1].type==="data"&&(o=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==o+2&&(n[o][1].end=n[i-1][1].end,n.splice(o+2,i-o-2),i=o+2),o=void 0);return e?e(n,r):n}}function a5(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let o=i.length,a=-1,s=0,l;for(;o--;){const u=i[o];if(typeof u=="string"){for(a=u.length;u.charCodeAt(a-1)===32;)s++,a--;if(a)break;a=-1}else if(u===-2)l=!0,s++;else if(u!==-1){o++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(s=0),s){const u={type:n===e.length||l||s<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:o?a:r.start._bufferIndex+a,_index:r.start._index+o,line:r.end.line,column:r.end.column-s,offset:r.end.offset-s},end:{...r.end}};r.end={...u.start},r.start.offset===r.end.offset?Object.assign(r,u):(e.splice(n,0,["enter",u,t],["exit",u,t]),n+=2)}n++}return e}const s5={42:mt,43:mt,45:mt,48:mt,49:mt,50:mt,51:mt,52:mt,53:mt,54:mt,55:mt,56:mt,57:mt,62:CT},l5={91:dF},u5={[-2]:gc,[-1]:gc,32:gc},c5={35:vF,42:Os,45:[x1,Os],60:bF,61:x1,95:Os,96:y1,126:y1},f5={38:TT,92:NT},d5={[-5]:mc,[-4]:mc,[-3]:mc,33:$F,38:TT,42:Mm,60:[B$,PF],91:BF,92:[mF,NT],93:sv,95:Mm,96:tF},h5={null:[Mm,r5]},p5={null:[42,95]},g5={null:[]},m5=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:p5,contentInitial:l5,disable:g5,document:s5,flow:c5,flowInitial:u5,insideSpan:h5,string:f5,text:d5},Symbol.toStringTag,{value:"Module"}));function y5(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},o=[];let a=[],s=[];const l={attempt:E(k),check:E(b),consume:v,enter:m,exit:_,interrupt:E(b,{interrupt:!0})},u={code:null,containerState:{},defineSkip:y,events:[],now:p,parser:e,previous:null,sliceSerialize:d,sliceStream:h,write:f};let c=t.tokenize.call(u,l);return t.resolveAll&&o.push(t),u;function f(P){return a=Ht(a,P),w(),a[a.length-1]!==null?[]:(T(t,0),u.events=av(o,u.events,u),u.events)}function d(P,O){return x5(h(P),O)}function h(P){return v5(a,P)}function p(){const{_bufferIndex:P,_index:O,line:q,column:j,offset:A}=r;return{_bufferIndex:P,_index:O,line:q,column:j,offset:A}}function y(P){i[P.line]=P.column,D()}function w(){let P;for(;r._index<a.length;){const O=a[r._index];if(typeof O=="string")for(P=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===P&&r._bufferIndex<O.length;)g(O.charCodeAt(r._bufferIndex));else g(O)}}function g(P){c=c(P)}function v(P){ue(P)?(r.line++,r.column=1,r.offset+=P===-3?2:1,D()):P!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===a[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=P}function m(P,O){const q=O||{};return q.type=P,q.start=p(),u.events.push(["enter",q,u]),s.push(q),q}function _(P){const O=s.pop();return O.end=p(),u.events.push(["exit",O,u]),O}function k(P,O){T(P,O.from)}function b(P,O){O.restore()}function E(P,O){return q;function q(j,A,z){let R,C,I,S;return Array.isArray(j)?F(j):"tokenize"in j?F([j]):$(j);function $(Y){return Q;function Q(W){const ee=W!==null&&Y[W],le=W!==null&&Y.null,oe=[...Array.isArray(ee)?ee:ee?[ee]:[],...Array.isArray(le)?le:le?[le]:[]];return F(oe)(W)}}function F(Y){return R=Y,C=0,Y.length===0?z:N(Y[C])}function N(Y){return Q;function Q(W){return S=M(),I=Y,Y.partial||(u.currentConstruct=Y),Y.name&&u.parser.constructs.disable.null.includes(Y.name)?X():Y.tokenize.call(O?Object.assign(Object.create(u),O):u,l,H,X)(W)}}function H(Y){return P(I,S),A}function X(Y){return S.restore(),++C<R.length?N(R[C]):z}}}function T(P,O){P.resolveAll&&!o.includes(P)&&o.push(P),P.resolve&&Sn(u.events,O,u.events.length-O,P.resolve(u.events.slice(O),u)),P.resolveTo&&(u.events=P.resolveTo(u.events,u))}function M(){const P=p(),O=u.previous,q=u.currentConstruct,j=u.events.length,A=Array.from(s);return{from:j,restore:z};function z(){r=P,u.previous=O,u.currentConstruct=q,u.events.length=j,s=A,D()}}function D(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function v5(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,o=t.end._bufferIndex;let a;if(n===i)a=[e[n].slice(r,o)];else{if(a=e.slice(n,i),r>-1){const s=a[0];typeof s=="string"?a[0]=s.slice(r):a.shift()}o>0&&a.push(e[i].slice(0,o))}return a}function x5(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const o=e[n];let a;if(typeof o=="string")a=o;else switch(o){case-5:{a="\r";break}case-4:{a=`
`;break}case-3:{a=`\r
`;break}case-2:{a=t?" ":"	";break}case-1:{if(!t&&i)continue;a=" ";break}default:a=String.fromCharCode(o)}i=o===-2,r.push(a)}return r.join("")}function w5(e){const r={constructs:N$([m5,...(e||{}).extensions||[]]),content:i(L$),defined:[],document:i(D$),flow:i(t5),lazy:{},string:i(i5),text:i(o5)};return r;function i(o){return a;function a(s){return y5(r,o,s)}}}function _5(e){for(;!PT(e););return e}const w1=/[\0\t\n\r]/g;function b5(){let e=1,t="",n=!0,r;return i;function i(o,a,s){const l=[];let u,c,f,d,h;for(o=t+(typeof o=="string"?o.toString():new TextDecoder(a||void 0).decode(o)),f=0,t="",n&&(o.charCodeAt(0)===65279&&f++,n=void 0);f<o.length;){if(w1.lastIndex=f,u=w1.exec(o),d=u&&u.index!==void 0?u.index:o.length,h=o.charCodeAt(d),!u){t=o.slice(f);break}if(h===10&&f===d&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),f<d&&(l.push(o.slice(f,d)),e+=d-f),h){case 0:{l.push(65533),e++;break}case 9:{for(c=Math.ceil(e/4)*4,l.push(-2);e++<c;)l.push(-1);break}case 10:{l.push(-4),e=1;break}default:r=!0,e=1}f=d+1}return s&&(r&&l.push(-5),t&&l.push(t),l.push(null)),l}}const S5=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function E5(e){return e.replace(S5,k5)}function k5(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),o=i===120||i===88;return kT(n.slice(o?2:1),o?16:10)}return ov(n)||e}const LT={}.hasOwnProperty;function C5(e,t,n){return typeof t!="string"&&(n=t,t=void 0),N5(n)(_5(w5(n).document().write(b5()(e,t,!0))))}function N5(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o($e),autolinkProtocol:M,autolinkEmail:M,atxHeading:o(ne),blockQuote:o(le),characterEscape:M,characterReference:M,codeFenced:o(oe),codeFencedFenceInfo:a,codeFencedFenceMeta:a,codeIndented:o(oe,a),codeText:o(te,a),codeTextData:M,data:M,codeFlowValue:M,definition:o(ie),definitionDestinationString:a,definitionLabelString:a,definitionTitleString:a,emphasis:o(ge),hardBreakEscape:o(fe),hardBreakTrailing:o(fe),htmlFlow:o(se,a),htmlFlowData:M,htmlText:o(se,a),htmlTextData:M,image:o(Ge),label:a,link:o($e),listItem:o(gt),listItemValue:d,listOrdered:o(pt,f),listUnordered:o(pt),paragraph:o(Ke),reference:N,referenceString:a,resourceDestinationString:a,resourceTitleString:a,setextHeading:o(ne),strong:o(Pe),thematicBreak:o(Ct)},exit:{atxHeading:l(),atxHeadingSequence:k,autolink:l(),autolinkEmail:ee,autolinkProtocol:W,blockQuote:l(),characterEscapeValue:D,characterReferenceMarkerHexadecimal:X,characterReferenceMarkerNumeric:X,characterReferenceValue:Y,characterReference:Q,codeFenced:l(w),codeFencedFence:y,codeFencedFenceInfo:h,codeFencedFenceMeta:p,codeFlowValue:D,codeIndented:l(g),codeText:l(A),codeTextData:D,data:D,definition:l(),definitionDestinationString:_,definitionLabelString:v,definitionTitleString:m,emphasis:l(),hardBreakEscape:l(O),hardBreakTrailing:l(O),htmlFlow:l(q),htmlFlowData:D,htmlText:l(j),htmlTextData:D,image:l(R),label:I,labelText:C,lineEnding:P,link:l(z),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:H,resourceDestinationString:S,resourceTitleString:$,resource:F,setextHeading:l(T),setextHeadingLineSequence:E,setextHeadingText:b,strong:l(),thematicBreak:l()}};OT(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(B){let U={type:"root",children:[]};const re={stack:[U],tokenStack:[],config:t,enter:s,exit:u,buffer:a,resume:c,data:n},de=[];let me=-1;for(;++me<B.length;)if(B[me][1].type==="listOrdered"||B[me][1].type==="listUnordered")if(B[me][0]==="enter")de.push(me);else{const Xe=de.pop();me=i(B,Xe,me)}for(me=-1;++me<B.length;){const Xe=t[B[me][0]];LT.call(Xe,B[me][1].type)&&Xe[B[me][1].type].call(Object.assign({sliceSerialize:B[me][2].sliceSerialize},re),B[me][1])}if(re.tokenStack.length>0){const Xe=re.tokenStack[re.tokenStack.length-1];(Xe[1]||_1).call(re,void 0,Xe[0])}for(U.position={start:Kn(B.length>0?B[0][1].start:{line:1,column:1,offset:0}),end:Kn(B.length>0?B[B.length-2][1].end:{line:1,column:1,offset:0})},me=-1;++me<t.transforms.length;)U=t.transforms[me](U)||U;return U}function i(B,U,re){let de=U-1,me=-1,Xe=!1,lt,Le,Qe,Z;for(;++de<=re;){const ae=B[de];switch(ae[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{ae[0]==="enter"?me++:me--,Z=void 0;break}case"lineEndingBlank":{ae[0]==="enter"&&(lt&&!Z&&!me&&!Qe&&(Qe=de),Z=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Z=void 0}if(!me&&ae[0]==="enter"&&ae[1].type==="listItemPrefix"||me===-1&&ae[0]==="exit"&&(ae[1].type==="listUnordered"||ae[1].type==="listOrdered")){if(lt){let je=de;for(Le=void 0;je--;){const ut=B[je];if(ut[1].type==="lineEnding"||ut[1].type==="lineEndingBlank"){if(ut[0]==="exit")continue;Le&&(B[Le][1].type="lineEndingBlank",Xe=!0),ut[1].type="lineEnding",Le=je}else if(!(ut[1].type==="linePrefix"||ut[1].type==="blockQuotePrefix"||ut[1].type==="blockQuotePrefixWhitespace"||ut[1].type==="blockQuoteMarker"||ut[1].type==="listItemIndent"))break}Qe&&(!Le||Qe<Le)&&(lt._spread=!0),lt.end=Object.assign({},Le?B[Le][1].start:ae[1].end),B.splice(Le||de,0,["exit",lt,ae[2]]),de++,re++}if(ae[1].type==="listItemPrefix"){const je={type:"listItem",_spread:!1,start:Object.assign({},ae[1].start),end:void 0};lt=je,B.splice(de,0,["enter",je,ae[2]]),de++,re++,Qe=void 0,Z=!0}}}return B[U][1]._spread=Xe,re}function o(B,U){return re;function re(de){s.call(this,B(de),de),U&&U.call(this,de)}}function a(){this.stack.push({type:"fragment",children:[]})}function s(B,U,re){this.stack[this.stack.length-1].children.push(B),this.stack.push(B),this.tokenStack.push([U,re||void 0]),B.position={start:Kn(U.start),end:void 0}}function l(B){return U;function U(re){B&&B.call(this,re),u.call(this,re)}}function u(B,U){const re=this.stack.pop(),de=this.tokenStack.pop();if(de)de[0].type!==B.type&&(U?U.call(this,B,de[0]):(de[1]||_1).call(this,B,de[0]));else throw new Error("Cannot close `"+B.type+"` ("+$o({start:B.start,end:B.end})+"): its not open");re.position.end=Kn(B.end)}function c(){return k$(this.stack.pop())}function f(){this.data.expectingFirstListItemValue=!0}function d(B){if(this.data.expectingFirstListItemValue){const U=this.stack[this.stack.length-2];U.start=Number.parseInt(this.sliceSerialize(B),10),this.data.expectingFirstListItemValue=void 0}}function h(){const B=this.resume(),U=this.stack[this.stack.length-1];U.lang=B}function p(){const B=this.resume(),U=this.stack[this.stack.length-1];U.meta=B}function y(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function w(){const B=this.resume(),U=this.stack[this.stack.length-1];U.value=B.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function g(){const B=this.resume(),U=this.stack[this.stack.length-1];U.value=B.replace(/(\r?\n|\r)$/g,"")}function v(B){const U=this.resume(),re=this.stack[this.stack.length-1];re.label=U,re.identifier=Ii(this.sliceSerialize(B)).toLowerCase()}function m(){const B=this.resume(),U=this.stack[this.stack.length-1];U.title=B}function _(){const B=this.resume(),U=this.stack[this.stack.length-1];U.url=B}function k(B){const U=this.stack[this.stack.length-1];if(!U.depth){const re=this.sliceSerialize(B).length;U.depth=re}}function b(){this.data.setextHeadingSlurpLineEnding=!0}function E(B){const U=this.stack[this.stack.length-1];U.depth=this.sliceSerialize(B).codePointAt(0)===61?1:2}function T(){this.data.setextHeadingSlurpLineEnding=void 0}function M(B){const re=this.stack[this.stack.length-1].children;let de=re[re.length-1];(!de||de.type!=="text")&&(de=$t(),de.position={start:Kn(B.start),end:void 0},re.push(de)),this.stack.push(de)}function D(B){const U=this.stack.pop();U.value+=this.sliceSerialize(B),U.position.end=Kn(B.end)}function P(B){const U=this.stack[this.stack.length-1];if(this.data.atHardBreak){const re=U.children[U.children.length-1];re.position.end=Kn(B.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(U.type)&&(M.call(this,B),D.call(this,B))}function O(){this.data.atHardBreak=!0}function q(){const B=this.resume(),U=this.stack[this.stack.length-1];U.value=B}function j(){const B=this.resume(),U=this.stack[this.stack.length-1];U.value=B}function A(){const B=this.resume(),U=this.stack[this.stack.length-1];U.value=B}function z(){const B=this.stack[this.stack.length-1];if(this.data.inReference){const U=this.data.referenceType||"shortcut";B.type+="Reference",B.referenceType=U,delete B.url,delete B.title}else delete B.identifier,delete B.label;this.data.referenceType=void 0}function R(){const B=this.stack[this.stack.length-1];if(this.data.inReference){const U=this.data.referenceType||"shortcut";B.type+="Reference",B.referenceType=U,delete B.url,delete B.title}else delete B.identifier,delete B.label;this.data.referenceType=void 0}function C(B){const U=this.sliceSerialize(B),re=this.stack[this.stack.length-2];re.label=E5(U),re.identifier=Ii(U).toLowerCase()}function I(){const B=this.stack[this.stack.length-1],U=this.resume(),re=this.stack[this.stack.length-1];if(this.data.inReference=!0,re.type==="link"){const de=B.children;re.children=de}else re.alt=U}function S(){const B=this.resume(),U=this.stack[this.stack.length-1];U.url=B}function $(){const B=this.resume(),U=this.stack[this.stack.length-1];U.title=B}function F(){this.data.inReference=void 0}function N(){this.data.referenceType="collapsed"}function H(B){const U=this.resume(),re=this.stack[this.stack.length-1];re.label=U,re.identifier=Ii(this.sliceSerialize(B)).toLowerCase(),this.data.referenceType="full"}function X(B){this.data.characterReferenceType=B.type}function Y(B){const U=this.sliceSerialize(B),re=this.data.characterReferenceType;let de;re?(de=kT(U,re==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):de=ov(U);const me=this.stack[this.stack.length-1];me.value+=de}function Q(B){const U=this.stack.pop();U.position.end=Kn(B.end)}function W(B){D.call(this,B);const U=this.stack[this.stack.length-1];U.url=this.sliceSerialize(B)}function ee(B){D.call(this,B);const U=this.stack[this.stack.length-1];U.url="mailto:"+this.sliceSerialize(B)}function le(){return{type:"blockquote",children:[]}}function oe(){return{type:"code",lang:null,meta:null,value:""}}function te(){return{type:"inlineCode",value:""}}function ie(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function ge(){return{type:"emphasis",children:[]}}function ne(){return{type:"heading",depth:0,children:[]}}function fe(){return{type:"break"}}function se(){return{type:"html",value:""}}function Ge(){return{type:"image",title:null,url:"",alt:null}}function $e(){return{type:"link",title:null,url:"",children:[]}}function pt(B){return{type:"list",ordered:B.type==="listOrdered",start:null,spread:B._spread,children:[]}}function gt(B){return{type:"listItem",spread:B._spread,checked:null,children:[]}}function Ke(){return{type:"paragraph",children:[]}}function Pe(){return{type:"strong",children:[]}}function $t(){return{type:"text",value:""}}function Ct(){return{type:"thematicBreak"}}}function Kn(e){return{line:e.line,column:e.column,offset:e.offset}}function OT(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?OT(e,r):T5(e,r)}}function T5(e,t){let n;for(n in t)if(LT.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function _1(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+$o({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+$o({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+$o({start:t.start,end:t.end})+") is still open")}function P5(e){const t=this;t.parser=n;function n(r){return C5(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function j5(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function I5(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function A5(e,t){const n=t.value?t.value+`
`:"",r={},i=t.lang?t.lang.split(/\s+/):[];i.length>0&&(r.className=["language-"+i[0]]);let o={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(o.data={meta:t.meta}),e.patch(t,o),o=e.applyData(t,o),o={type:"element",tagName:"pre",properties:{},children:[o]},e.patch(t,o),o}function R5(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function M5(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function L5(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=Qi(r.toLowerCase()),o=e.footnoteOrder.indexOf(r);let a,s=e.footnoteCounts.get(r);s===void 0?(s=0,e.footnoteOrder.push(r),a=e.footnoteOrder.length):a=o+1,s+=1,e.footnoteCounts.set(r,s);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(s>1?"-"+s:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(a)}]};e.patch(t,l);const u={type:"element",tagName:"sup",properties:{},children:[l]};return e.patch(t,u),e.applyData(t,u)}function O5(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function D5(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function DT(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),o=i[0];o&&o.type==="text"?o.value="["+o.value:i.unshift({type:"text",value:"["});const a=i[i.length-1];return a&&a.type==="text"?a.value+=r:i.push({type:"text",value:r}),i}function z5(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return DT(e,t);const i={src:Qi(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const o={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,o),e.applyData(t,o)}function q5(e,t){const n={src:Qi(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function $5(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function F5(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return DT(e,t);const i={href:Qi(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const o={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,o),e.applyData(t,o)}function B5(e,t){const n={href:Qi(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function H5(e,t,n){const r=e.all(t),i=n?V5(n):zT(t),o={},a=[];if(typeof t.checked=="boolean"){const c=r[0];let f;c&&c.type==="element"&&c.tagName==="p"?f=c:(f={type:"element",tagName:"p",properties:{},children:[]},r.unshift(f)),f.children.length>0&&f.children.unshift({type:"text",value:" "}),f.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),o.className=["task-list-item"]}let s=-1;for(;++s<r.length;){const c=r[s];(i||s!==0||c.type!=="element"||c.tagName!=="p")&&a.push({type:"text",value:`
`}),c.type==="element"&&c.tagName==="p"&&!i?a.push(...c.children):a.push(c)}const l=r[r.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&a.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:o,children:a};return e.patch(t,u),e.applyData(t,u)}function V5(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=zT(n[r])}return t}function zT(e){const t=e.spread;return t??e.children.length>1}function U5(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const a=r[i];if(a.type==="element"&&a.tagName==="li"&&a.properties&&Array.isArray(a.properties.className)&&a.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const o={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,o),e.applyData(t,o)}function G5(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function W5(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function Y5(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function K5(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const a={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],a),i.push(a)}if(n.length>0){const a={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},s=tv(t.children[1]),l=vT(t.children[t.children.length-1]);s&&l&&(a.position={start:s,end:l}),i.push(a)}const o={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,o),e.applyData(t,o)}function X5(e,t,n){const r=n?n.children:void 0,o=(r?r.indexOf(t):1)===0?"th":"td",a=n&&n.type==="table"?n.align:void 0,s=a?a.length:t.children.length;let l=-1;const u=[];for(;++l<s;){const f=t.children[l],d={},h=a?a[l]:void 0;h&&(d.align=h);let p={type:"element",tagName:o,properties:d,children:[]};f&&(p.children=e.all(f),e.patch(f,p),p=e.applyData(f,p)),u.push(p)}const c={type:"element",tagName:"tr",properties:{},children:e.wrap(u,!0)};return e.patch(t,c),e.applyData(t,c)}function Q5(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const b1=9,S1=32;function Z5(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const o=[];for(;r;)o.push(E1(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return o.push(E1(t.slice(i),i>0,!1)),o.join("")}function E1(e,t,n){let r=0,i=e.length;if(t){let o=e.codePointAt(r);for(;o===b1||o===S1;)r++,o=e.codePointAt(r)}if(n){let o=e.codePointAt(i-1);for(;o===b1||o===S1;)i--,o=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function J5(e,t){const n={type:"text",value:Z5(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function e6(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const t6={blockquote:j5,break:I5,code:A5,delete:R5,emphasis:M5,footnoteReference:L5,heading:O5,html:D5,imageReference:z5,image:q5,inlineCode:$5,linkReference:F5,link:B5,listItem:H5,list:U5,paragraph:G5,root:W5,strong:Y5,table:K5,tableCell:Q5,tableRow:X5,text:J5,thematicBreak:e6,toml:ds,yaml:ds,definition:ds,footnoteDefinition:ds};function ds(){}const qT=-1,su=0,Bo=1,wl=2,lv=3,uv=4,cv=5,fv=6,$T=7,FT=8,k1=typeof self=="object"?self:globalThis,n6=(e,t)=>{const n=(i,o)=>(e.set(o,i),i),r=i=>{if(e.has(i))return e.get(i);const[o,a]=t[i];switch(o){case su:case qT:return n(a,i);case Bo:{const s=n([],i);for(const l of a)s.push(r(l));return s}case wl:{const s=n({},i);for(const[l,u]of a)s[r(l)]=r(u);return s}case lv:return n(new Date(a),i);case uv:{const{source:s,flags:l}=a;return n(new RegExp(s,l),i)}case cv:{const s=n(new Map,i);for(const[l,u]of a)s.set(r(l),r(u));return s}case fv:{const s=n(new Set,i);for(const l of a)s.add(r(l));return s}case $T:{const{name:s,message:l}=a;return n(new k1[s](l),i)}case FT:return n(BigInt(a),i);case"BigInt":return n(Object(BigInt(a)),i);case"ArrayBuffer":return n(new Uint8Array(a).buffer,a);case"DataView":{const{buffer:s}=new Uint8Array(a);return n(new DataView(s),a)}}return n(new k1[o](a),i)};return r},C1=e=>n6(new Map,e)(0),ai="",{toString:r6}={},{keys:i6}=Object,go=e=>{const t=typeof e;if(t!=="object"||!e)return[su,t];const n=r6.call(e).slice(8,-1);switch(n){case"Array":return[Bo,ai];case"Object":return[wl,ai];case"Date":return[lv,ai];case"RegExp":return[uv,ai];case"Map":return[cv,ai];case"Set":return[fv,ai];case"DataView":return[Bo,n]}return n.includes("Array")?[Bo,n]:n.includes("Error")?[$T,n]:[wl,n]},hs=([e,t])=>e===su&&(t==="function"||t==="symbol"),o6=(e,t,n,r)=>{const i=(a,s)=>{const l=r.push(a)-1;return n.set(s,l),l},o=a=>{if(n.has(a))return n.get(a);let[s,l]=go(a);switch(s){case su:{let c=a;switch(l){case"bigint":s=FT,c=a.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+l);c=null;break;case"undefined":return i([qT],a)}return i([s,c],a)}case Bo:{if(l){let d=a;return l==="DataView"?d=new Uint8Array(a.buffer):l==="ArrayBuffer"&&(d=new Uint8Array(a)),i([l,[...d]],a)}const c=[],f=i([s,c],a);for(const d of a)c.push(o(d));return f}case wl:{if(l)switch(l){case"BigInt":return i([l,a.toString()],a);case"Boolean":case"Number":case"String":return i([l,a.valueOf()],a)}if(t&&"toJSON"in a)return o(a.toJSON());const c=[],f=i([s,c],a);for(const d of i6(a))(e||!hs(go(a[d])))&&c.push([o(d),o(a[d])]);return f}case lv:return i([s,a.toISOString()],a);case uv:{const{source:c,flags:f}=a;return i([s,{source:c,flags:f}],a)}case cv:{const c=[],f=i([s,c],a);for(const[d,h]of a)(e||!(hs(go(d))||hs(go(h))))&&c.push([o(d),o(h)]);return f}case fv:{const c=[],f=i([s,c],a);for(const d of a)(e||!hs(go(d)))&&c.push(o(d));return f}}const{message:u}=a;return i([s,{name:l,message:u}],a)};return o},N1=(e,{json:t,lossy:n}={})=>{const r=[];return o6(!(t||n),!!t,new Map,r)(e),r},_l=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?C1(N1(e,t)):structuredClone(e):(e,t)=>C1(N1(e,t));function a6(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function s6(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function l6(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||a6,r=e.options.footnoteBackLabel||s6,i=e.options.footnoteLabel||"Footnotes",o=e.options.footnoteLabelTagName||"h2",a=e.options.footnoteLabelProperties||{className:["sr-only"]},s=[];let l=-1;for(;++l<e.footnoteOrder.length;){const u=e.footnoteById.get(e.footnoteOrder[l]);if(!u)continue;const c=e.all(u),f=String(u.identifier).toUpperCase(),d=Qi(f.toLowerCase());let h=0;const p=[],y=e.footnoteCounts.get(f);for(;y!==void 0&&++h<=y;){p.length>0&&p.push({type:"text",value:" "});let v=typeof n=="string"?n:n(l,h);typeof v=="string"&&(v={type:"text",value:v}),p.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+d+(h>1?"-"+h:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,h),className:["data-footnote-backref"]},children:Array.isArray(v)?v:[v]})}const w=c[c.length-1];if(w&&w.type==="element"&&w.tagName==="p"){const v=w.children[w.children.length-1];v&&v.type==="text"?v.value+=" ":w.children.push({type:"text",value:" "}),w.children.push(...p)}else c.push(...p);const g={type:"element",tagName:"li",properties:{id:t+"fn-"+d},children:e.wrap(c,!0)};e.patch(u,g),s.push(g)}if(s.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:o,properties:{..._l(a),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(s,!0)},{type:"text",value:`
`}]}}const BT=function(e){if(e==null)return d6;if(typeof e=="function")return lu(e);if(typeof e=="object")return Array.isArray(e)?u6(e):c6(e);if(typeof e=="string")return f6(e);throw new Error("Expected function, string, or object as test")};function u6(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=BT(e[n]);return lu(r);function r(...i){let o=-1;for(;++o<t.length;)if(t[o].apply(this,i))return!0;return!1}}function c6(e){const t=e;return lu(n);function n(r){const i=r;let o;for(o in e)if(i[o]!==t[o])return!1;return!0}}function f6(e){return lu(t);function t(n){return n&&n.type===e}}function lu(e){return t;function t(n,r,i){return!!(h6(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function d6(){return!0}function h6(e){return e!==null&&typeof e=="object"&&"type"in e}const HT=[],p6=!0,T1=!1,g6="skip";function m6(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const o=BT(i),a=r?-1:1;s(e,void 0,[])();function s(l,u,c){const f=l&&typeof l=="object"?l:{};if(typeof f.type=="string"){const h=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(d,"name",{value:"node ("+(l.type+(h?"<"+h+">":""))+")"})}return d;function d(){let h=HT,p,y,w;if((!t||o(l,u,c[c.length-1]||void 0))&&(h=y6(n(l,c)),h[0]===T1))return h;if("children"in l&&l.children){const g=l;if(g.children&&h[0]!==g6)for(y=(r?g.children.length:-1)+a,w=c.concat(g);y>-1&&y<g.children.length;){const v=g.children[y];if(p=s(v,y,w)(),p[0]===T1)return p;y=typeof p[1]=="number"?p[1]:y+a}}return h}}}function y6(e){return Array.isArray(e)?e:typeof e=="number"?[p6,e]:e==null?HT:[e]}function VT(e,t,n,r){let i,o,a;typeof t=="function"&&typeof n!="function"?(o=void 0,a=t,i=n):(o=t,a=n,i=r),m6(e,o,s,i);function s(l,u){const c=u[u.length-1],f=c?c.children.indexOf(l):void 0;return a(l,f,c)}}const Lm={}.hasOwnProperty,v6={};function x6(e,t){const n=t||v6,r=new Map,i=new Map,o=new Map,a={...t6,...n.handlers},s={all:u,applyData:_6,definitionById:r,footnoteById:i,footnoteCounts:o,footnoteOrder:[],handlers:a,one:l,options:n,patch:w6,wrap:S6};return VT(e,function(c){if(c.type==="definition"||c.type==="footnoteDefinition"){const f=c.type==="definition"?r:i,d=String(c.identifier).toUpperCase();f.has(d)||f.set(d,c)}}),s;function l(c,f){const d=c.type,h=s.handlers[d];if(Lm.call(s.handlers,d)&&h)return h(s,c,f);if(s.options.passThrough&&s.options.passThrough.includes(d)){if("children"in c){const{children:y,...w}=c,g=_l(w);return g.children=s.all(c),g}return _l(c)}return(s.options.unknownHandler||b6)(s,c,f)}function u(c){const f=[];if("children"in c){const d=c.children;let h=-1;for(;++h<d.length;){const p=s.one(d[h],c);if(p){if(h&&d[h-1].type==="break"&&(!Array.isArray(p)&&p.type==="text"&&(p.value=P1(p.value)),!Array.isArray(p)&&p.type==="element")){const y=p.children[0];y&&y.type==="text"&&(y.value=P1(y.value))}Array.isArray(p)?f.push(...p):f.push(p)}}}return f}}function w6(e,t){e.position&&(t.position=r$(e))}function _6(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,o=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const a="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:a}}n.type==="element"&&o&&Object.assign(n.properties,_l(o)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function b6(e,t){const n=t.data||{},r="value"in t&&!(Lm.call(n,"hProperties")||Lm.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function S6(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function P1(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function j1(e,t){const n=x6(e,t),r=n.one(e,void 0),i=l6(n),o=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&o.children.push({type:"text",value:`
`},i),o}function E6(e,t){return e&&"run"in e?async function(n,r){const i=j1(n,{file:r,...t});await e.run(i,r)}:function(n,r){return j1(n,{file:r,...e||t})}}function I1(e){if(e)throw e}var Ds=Object.prototype.hasOwnProperty,UT=Object.prototype.toString,A1=Object.defineProperty,R1=Object.getOwnPropertyDescriptor,M1=function(t){return typeof Array.isArray=="function"?Array.isArray(t):UT.call(t)==="[object Array]"},L1=function(t){if(!t||UT.call(t)!=="[object Object]")return!1;var n=Ds.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&Ds.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!r)return!1;var i;for(i in t);return typeof i>"u"||Ds.call(t,i)},O1=function(t,n){A1&&n.name==="__proto__"?A1(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},D1=function(t,n){if(n==="__proto__")if(Ds.call(t,n)){if(R1)return R1(t,n).value}else return;return t[n]},k6=function e(){var t,n,r,i,o,a,s=arguments[0],l=1,u=arguments.length,c=!1;for(typeof s=="boolean"&&(c=s,s=arguments[1]||{},l=2),(s==null||typeof s!="object"&&typeof s!="function")&&(s={});l<u;++l)if(t=arguments[l],t!=null)for(n in t)r=D1(s,n),i=D1(t,n),s!==i&&(c&&i&&(L1(i)||(o=M1(i)))?(o?(o=!1,a=r&&M1(r)?r:[]):a=r&&L1(r)?r:{},O1(s,{name:n,newValue:e(c,a,i)})):typeof i<"u"&&O1(s,{name:n,newValue:i}));return s};const yc=va(k6);function Om(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function C6(){const e=[],t={run:n,use:r};return t;function n(...i){let o=-1;const a=i.pop();if(typeof a!="function")throw new TypeError("Expected function as last argument, not "+a);s(null,...i);function s(l,...u){const c=e[++o];let f=-1;if(l){a(l);return}for(;++f<i.length;)(u[f]===null||u[f]===void 0)&&(u[f]=i[f]);i=u,c?N6(c,s)(...u):a(null,...u)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function N6(e,t){let n;return r;function r(...a){const s=e.length>a.length;let l;s&&a.push(i);try{l=e.apply(this,a)}catch(u){const c=u;if(s&&n)throw c;return i(c)}s||(l&&l.then&&typeof l.then=="function"?l.then(o,i):l instanceof Error?i(l):o(l))}function i(a,...s){n||(n=!0,t(a,...s))}function o(a){i(null,a)}}const pn={basename:T6,dirname:P6,extname:j6,join:I6,sep:"/"};function T6(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Ia(e);let n=0,r=-1,i=e.length,o;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(o){n=i+1;break}}else r<0&&(o=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let a=-1,s=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(o){n=i+1;break}}else a<0&&(o=!0,a=i+1),s>-1&&(e.codePointAt(i)===t.codePointAt(s--)?s<0&&(r=i):(s=-1,r=a));return n===r?r=a:r<0&&(r=e.length),e.slice(n,r)}function P6(e){if(Ia(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function j6(e){Ia(e);let t=e.length,n=-1,r=0,i=-1,o=0,a;for(;t--;){const s=e.codePointAt(t);if(s===47){if(a){r=t+1;break}continue}n<0&&(a=!0,n=t+1),s===46?i<0?i=t:o!==1&&(o=1):i>-1&&(o=-1)}return i<0||n<0||o===0||o===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function I6(...e){let t=-1,n;for(;++t<e.length;)Ia(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":A6(n)}function A6(e){Ia(e);const t=e.codePointAt(0)===47;let n=R6(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function R6(e,t){let n="",r=0,i=-1,o=0,a=-1,s,l;for(;++a<=e.length;){if(a<e.length)s=e.codePointAt(a);else{if(s===47)break;s=47}if(s===47){if(!(i===a-1||o===1))if(i!==a-1&&o===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=a,o=0;continue}}else if(n.length>0){n="",r=0,i=a,o=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,a):n=e.slice(i+1,a),r=a-i-1;i=a,o=0}else s===46&&o>-1?o++:o=-1}return n}function Ia(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const M6={cwd:L6};function L6(){return"/"}function Dm(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function O6(e){if(typeof e=="string")e=new URL(e);else if(!Dm(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return D6(e)}function D6(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const vc=["history","path","basename","stem","extname","dirname"];class GT{constructor(t){let n;t?Dm(t)?n={path:t}:typeof t=="string"||z6(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":M6.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<vc.length;){const o=vc[r];o in n&&n[o]!==void 0&&n[o]!==null&&(this[o]=o==="history"?[...n[o]]:n[o])}let i;for(i in n)vc.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?pn.basename(this.path):void 0}set basename(t){wc(t,"basename"),xc(t,"basename"),this.path=pn.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?pn.dirname(this.path):void 0}set dirname(t){z1(this.basename,"dirname"),this.path=pn.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?pn.extname(this.path):void 0}set extname(t){if(xc(t,"extname"),z1(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=pn.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){Dm(t)&&(t=O6(t)),wc(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?pn.basename(this.path,this.extname):void 0}set stem(t){wc(t,"stem"),xc(t,"stem"),this.path=pn.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=void 0,i}message(t,n,r){const i=new st(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function xc(e,t){if(e&&e.includes(pn.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+pn.sep+"`")}function wc(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function z1(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function z6(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const q6=function(e){const r=this.constructor.prototype,i=r[e],o=function(){return i.apply(o,arguments)};return Object.setPrototypeOf(o,r),o},$6={}.hasOwnProperty;class dv extends q6{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=C6()}copy(){const t=new dv;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(yc(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(Sc("data",this.frozen),this.namespace[t]=n,this):$6.call(this.namespace,t)&&this.namespace[t]||void 0:t?(Sc("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(t,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=ps(t),r=this.parser||this.Parser;return _c("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),_c("process",this.parser||this.Parser),bc("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(o,a){const s=ps(t),l=r.parse(s);r.run(l,s,function(c,f,d){if(c||!f||!d)return u(c);const h=f,p=r.stringify(h,d);H6(p)?d.value=p:d.result=p,u(c,d)});function u(c,f){c||!f?a(c):o?o(f):n(void 0,f)}}}processSync(t){let n=!1,r;return this.freeze(),_c("processSync",this.parser||this.Parser),bc("processSync",this.compiler||this.Compiler),this.process(t,i),$1("processSync","process",n),r;function i(o,a){n=!0,I1(o),r=a}}run(t,n,r){q1(t),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?o(void 0,r):new Promise(o);function o(a,s){const l=ps(n);i.run(t,l,u);function u(c,f,d){const h=f||t;c?s(c):a?a(h):r(void 0,h,d)}}}runSync(t,n){let r=!1,i;return this.run(t,n,o),$1("runSync","run",r),i;function o(a,s){I1(a),i=s,r=!0}}stringify(t,n){this.freeze();const r=ps(n),i=this.compiler||this.Compiler;return bc("stringify",i),q1(t),i(t,r)}use(t,...n){const r=this.attachers,i=this.namespace;if(Sc("use",this.frozen),t!=null)if(typeof t=="function")l(t,n);else if(typeof t=="object")Array.isArray(t)?s(t):a(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function o(u){if(typeof u=="function")l(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[c,...f]=u;l(c,f)}else a(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function a(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");s(u.plugins),u.settings&&(i.settings=yc(!0,i.settings,u.settings))}function s(u){let c=-1;if(u!=null)if(Array.isArray(u))for(;++c<u.length;){const f=u[c];o(f)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function l(u,c){let f=-1,d=-1;for(;++f<r.length;)if(r[f][0]===u){d=f;break}if(d===-1)r.push([u,...c]);else if(c.length>0){let[h,...p]=c;const y=r[d][1];Om(y)&&Om(h)&&(h=yc(!0,y,h)),r[d]=[u,h,...p]}}}}const F6=new dv().freeze();function _c(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function bc(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function Sc(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function q1(e){if(!Om(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function $1(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function ps(e){return B6(e)?e:new GT(e)}function B6(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function H6(e){return typeof e=="string"||V6(e)}function V6(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const U6="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",F1=[],B1={allowDangerousHtml:!0},G6=/^(https?|ircs?|mailto|xmpp)$/i,W6=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function H1(e){const t=Y6(e),n=K6(e);return X6(t.runSync(t.parse(n),n),e)}function Y6(e){const t=e.rehypePlugins||F1,n=e.remarkPlugins||F1,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...B1}:B1;return F6().use(P5).use(n).use(E6,r).use(t)}function K6(e){const t=e.children||"",n=new GT;return typeof t=="string"&&(n.value=t),n}function X6(e,t){const n=t.allowedElements,r=t.allowElement,i=t.components,o=t.disallowedElements,a=t.skipHtml,s=t.unwrapDisallowed,l=t.urlTransform||Q6;for(const c of W6)Object.hasOwn(t,c.from)&&(""+c.from+(c.to?"use `"+c.to+"` instead":"remove it")+U6+c.id,void 0);return VT(e,u),l$(e,{Fragment:x.Fragment,components:i,ignoreInvalidStyle:!0,jsx:x.jsx,jsxs:x.jsxs,passKeys:!0,passNode:!0});function u(c,f,d){if(c.type==="raw"&&d&&typeof f=="number")return a?d.children.splice(f,1):d.children[f]={type:"text",value:c.value},f;if(c.type==="element"){let h;for(h in pc)if(Object.hasOwn(pc,h)&&Object.hasOwn(c.properties,h)){const p=c.properties[h],y=pc[h];(y===null||y.includes(c.tagName))&&(c.properties[h]=l(String(p||""),h,c))}}if(c.type==="element"){let h=n?!n.includes(c.tagName):o?o.includes(c.tagName):!1;if(!h&&r&&typeof f=="number"&&(h=!r(c,f,d)),h&&d&&typeof f=="number")return s&&c.children?d.children.splice(f,1,...c.children):d.children.splice(f,1),f}}}function Q6(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),i=e.indexOf("/");return t===-1||i!==-1&&t>i||n!==-1&&t>n||r!==-1&&t>r||G6.test(e.slice(0,t))?e:""}function Z6(e,t){const[n,r]=L.useState(!1),[i,o]=L.useState(""),[a,s]=L.useState(""),[l,u]=L.useState([]),[c,f]=L.useState([]),[d,h]=L.useState(null),[p,y]=L.useState(0),w=L.useRef(null),g=L.useRef(""),v=L.useRef(""),m=L.useRef(null),_=L.useRef(0),k=L.useRef(new Set),b=(P,O,q,j)=>{f(A=>[...A,{type:P,timestamp:Date.now(),data:O,agent:q||v.current,screenshot:j}])},E=L.useCallback((P,O,q)=>{if(!e)return;g.current="",v.current="",_.current=0,k.current=new Set,o(""),s(""),u([]),y(0),f(R=>[...R,{type:"user",timestamp:Date.now(),data:P}]),r(!0);const j=new URLSearchParams({input:P});t&&j.set("binary_path",t),m.current&&j.set("session_id",m.current);const A=new EventSource(`/api/projects/${e}/stream?${j}`);w.current=A;let z=!1;A.addEventListener("session",R=>{m.current=R.data,h(R.data)}),A.addEventListener("agent",R=>{g.current&&(g.current+=`

`,o(g.current)),v.current=R.data,s(R.data),b("agent_start","runtime",R.data)}),A.addEventListener("chunk",R=>{g.current=R.data,o(g.current)}),A.addEventListener("trace",R=>{try{const C=JSON.parse(R.data);if(C.type==="node_start"){const I=C.node;k.current.has(I)&&(_.current++,y(_.current),k.current.clear()),k.current.add(I),v.current=I,s(I),b("agent_start",`Iter ${_.current+1}, Step ${C.step}`,I)}else if(C.type==="node_end")b("agent_end",`${C.duration_ms}ms`,C.node);else if(C.type==="state"){const I=C.state||{};I.response&&b("model",I.response.slice(0,100)+(I.response.length>100?"...":""),v.current)}else if(C.type==="done"){const I=C.state||{};I.response&&b("model",I.response.slice(0,150)+(I.response.length>150?"...":"")),b("done",`${C.total_steps} steps`)}}catch{}}),A.addEventListener("log",R=>{try{const C=JSON.parse(R.data);C.agent&&(v.current=C.agent,s(C.agent)),C.message&&b("model",C.message,C.agent)}catch{}}),A.addEventListener("tool_call",R=>{try{const C=JSON.parse(R.data);u(I=>[...I,{name:C.name,args:C.args}]),g.current+=`
 Calling ${C.name}...
`,o(g.current),b("tool_call",`${C.name}(${JSON.stringify(C.args)})`)}catch{}}),A.addEventListener("tool_result",R=>{try{const C=JSON.parse(R.data),I=typeof C.result=="string"?JSON.parse(C.result):C.result;let S;I!=null&&I.base64_image&&(S=I.base64_image);const $=S?" Screenshot captured":typeof C.result=="string"?C.result:JSON.stringify(C.result).slice(0,200);g.current+=` ${C.name}: ${$}
`,o(g.current),b("tool_result",`${C.name}  ${$}`,void 0,S)}catch{}}),A.addEventListener("end",()=>{z=!0;const R=g.current;o(""),s(""),r(!1),A.close(),O(R)}),A.addEventListener("error",R=>{if(!z){const C=R.data||"Connection error";o(""),s(""),r(!1),A.close(),b("error",C),q==null||q(C)}})},[e,t]),T=L.useCallback(()=>{var P;(P=w.current)==null||P.close(),o(""),s(""),r(!1)},[]),M=L.useCallback(()=>f([]),[]),D=L.useCallback(async()=>{m.current&&await fetch(`/api/sessions/${m.current}`,{method:"DELETE"}).catch(()=>{}),m.current=null,h(null),f([])},[]);return{send:E,cancel:T,isStreaming:n,streamingText:i,currentAgent:a,toolCalls:l,events:c,clearEvents:M,sessionId:d,newSession:D,iteration:p}}function J6({onFlowPhase:e,onActiveAgent:t,onIteration:n,onThought:r,binaryPath:i}){const{currentProject:o}=sn(),[a,s]=L.useState([]),[l,u]=L.useState(""),[c,f]=L.useState("chat"),{send:d,cancel:h,isStreaming:p,streamingText:y,currentAgent:w,toolCalls:g,events:v,sessionId:m,newSession:_,iteration:k}=Z6((o==null?void 0:o.id)??null,i),b=L.useRef(null),E=L.useRef(null),T=L.useRef(!1),M=L.useRef(null);L.useEffect(()=>{n==null||n(k)},[k,n]),L.useEffect(()=>{w&&(M.current=w,t==null||t(w))},[w,t]),L.useEffect(()=>{var R;(R=b.current)==null||R.scrollIntoView({behavior:"smooth"})},[a,y]),L.useEffect(()=>{var R;(R=E.current)==null||R.scrollIntoView({behavior:"smooth"})},[v]),L.useEffect(()=>{const R=w||M.current;y&&R?(console.log("[TestConsole] Emitting thought:",R,y.slice(-50)),r==null||r(R,y.slice(-150))):!p&&M.current&&(r==null||r(M.current,null))},[y,w,p,r]),L.useEffect(()=>{y?e==null||e("output"):p||(e==null||e("idle"),t==null||t(null))},[y,p,e,t]);const D=()=>{if(!l.trim()||!o||p||T.current)return;T.current=!0;const R=l.trim();u(""),s(C=>[...C,{role:"user",content:R}]),e==null||e("input"),M.current=null,d(R,C=>{C&&s(I=>[...I,{role:"assistant",content:C,agent:M.current||void 0}]),e==null||e("idle"),T.current=!1},C=>{s(I=>[...I,{role:"assistant",content:`Error: ${C}`}]),e==null||e("idle"),T.current=!1})},P=()=>{s([]),_()},O=()=>{h(),e==null||e("idle")},q=p&&!y,j=R=>{const C=new Date(R);return`${C.toLocaleTimeString("en-US",{hour12:!1})}:${String(C.getMilliseconds()).padStart(3,"0")}`},A=R=>{switch(R){case"user":return"";case"agent_start":return"";case"agent_end":return"";case"model":return"";case"tool_call":return"";case"tool_result":return"";case"done":return"";case"error":return"";default:return""}},z=R=>{switch(R){case"user":return"text-blue-400";case"agent_start":return"text-green-400";case"agent_end":return"text-green-300";case"model":return"text-gray-300";case"done":return"text-purple-400";case"error":return"text-red-400";default:return"text-gray-400"}};return x.jsxs("div",{className:"flex flex-col h-full bg-studio-panel border-t border-gray-700",children:[x.jsxs("div",{className:"p-2 border-b border-gray-700 text-sm flex justify-between items-center",children:[x.jsxs("div",{className:"flex gap-1 items-center",children:[x.jsx("button",{onClick:()=>f("chat"),className:`px-3 py-1 rounded text-xs ${c==="chat"?"bg-studio-highlight":"hover:bg-gray-700"}`,children:" Chat"}),x.jsxs("button",{onClick:()=>f("events"),className:`px-3 py-1 rounded text-xs ${c==="events"?"bg-studio-highlight":"hover:bg-gray-700"}`,children:[" Events ",v.length>0&&`(${v.length})`]}),m&&x.jsxs("span",{className:"ml-2 text-xs text-gray-500",title:m,children:["Session: ",m.slice(0,8),"..."]})]}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx("button",{onClick:P,className:"text-green-400 text-xs hover:text-green-300 flex items-center gap-1",title:"Start new conversation",children:" New"}),p&&x.jsx("button",{onClick:O,className:"text-red-400 text-xs",children:"Stop"})]})]}),c==="chat"&&x.jsxs("div",{className:"flex-1 overflow-y-auto p-3 space-y-3",children:[a.length===0&&!y&&!q&&x.jsx("div",{className:"text-gray-500 text-sm",children:"Send a message to test your agent..."}),a.map((R,C)=>x.jsxs("div",{className:`text-sm ${R.role==="user"?"text-blue-400":"text-gray-200"}`,children:[x.jsx("span",{className:"font-semibold",children:R.role==="user"?"You: ":`${R.agent||"Agent"}: `}),R.role==="user"?x.jsx("span",{children:R.content}):x.jsx("div",{className:"prose prose-invert prose-sm max-w-none inline",children:x.jsx(H1,{children:R.content})})]},C)),q&&x.jsxs("div",{className:"text-sm text-gray-400 flex items-center gap-2",children:[x.jsx("span",{className:"animate-spin",children:""}),x.jsx("span",{children:w?`${w} is thinking...`:"Thinking..."})]}),y&&x.jsxs("div",{className:"text-sm text-gray-200",children:[x.jsxs("span",{className:"font-semibold",children:[w||"Agent",": "]}),x.jsx("div",{className:"prose prose-invert prose-sm max-w-none inline",children:x.jsx(H1,{children:y})}),x.jsx("span",{className:"animate-pulse",children:""})]}),g.length>0&&p&&x.jsxs("div",{className:"text-xs text-yellow-400 mt-1",children:["Tools used: ",g.map(R=>R.name).join(", ")]}),x.jsx("div",{ref:b})]}),c==="events"&&x.jsxs("div",{className:"flex-1 overflow-y-auto p-2 font-mono text-xs",children:[v.length===0&&x.jsx("div",{className:"text-gray-500",children:"No events yet. Send a message to see the trace."}),v.map((R,C)=>x.jsxs("div",{className:"py-1 border-b border-gray-800",children:[x.jsxs("div",{className:"flex gap-2",children:[x.jsx("span",{className:"text-gray-500 w-24 flex-shrink-0",children:j(R.timestamp)}),x.jsx("span",{children:A(R.type)}),x.jsxs("span",{className:`${z(R.type)} flex-1`,children:[R.agent&&x.jsxs("span",{className:"text-yellow-400 mr-2",children:["[",R.agent,"]"]}),R.type==="user"?`Input: ${R.data}`:R.type==="agent_start"?`Started ${R.data}`:R.type==="agent_end"?`Completed in ${R.data}`:R.type==="model"?`Response: ${R.data}`:R.type==="done"?`Done (${R.data})`:R.data]})]}),R.screenshot&&x.jsx("div",{className:"ml-28 mt-2 mb-2",children:x.jsx("img",{src:`data:image/png;base64,${R.screenshot}`,alt:"Browser screenshot",className:"max-w-full max-h-64 rounded border border-gray-600"})})]},C)),x.jsx("div",{ref:E})]}),x.jsxs("div",{className:"p-2 border-t border-gray-700 flex gap-2",children:[x.jsx("input",{type:"text",value:l,onChange:R=>u(R.target.value),onKeyDown:R=>{R.key==="Enter"&&!R.repeat&&(R.preventDefault(),D())},placeholder:"Type a message...",className:"flex-1 px-3 py-2 bg-studio-bg border border-gray-600 rounded text-sm",disabled:p}),x.jsx("button",{onClick:D,disabled:p||!l.trim(),className:"px-4 py-2 bg-studio-highlight rounded text-sm disabled:opacity-50",children:"Send"})]})]})}const eB=[{id:"simple_chat",name:"Simple Chat Agent",icon:"",description:"A basic conversational agent",agents:{chat_agent:{type:"llm",model:"gemini-2.0-flash",instruction:"You are a helpful, friendly assistant. Answer questions clearly and concisely. Be conversational but informative.",tools:[],sub_agents:[],position:{x:50,y:150}}},edges:[{from:"START",to:"chat_agent"},{from:"chat_agent",to:"END"}]},{id:"research_pipeline",name:"Research Pipeline",icon:"",description:"Sequential: Researcher  Summarizer",agents:{researcher:{type:"llm",model:"gemini-2.0-flash",instruction:"You are a research specialist. Given a topic, search for comprehensive information using Google Search. Gather key facts, statistics, recent developments, and expert opinions. Present your findings in a structured format.",tools:["google_search"],sub_agents:[],position:{x:0,y:0}},summarizer:{type:"llm",model:"gemini-2.0-flash",instruction:"You are an expert summarizer. Take the research findings and create a clear, concise summary with: 1) Key takeaways (3-5 bullet points), 2) Main findings, 3) Conclusions. Make it easy to understand for a general audience.",tools:[],sub_agents:[],position:{x:0,y:0}},research_pipeline:{type:"sequential",instruction:"",tools:[],sub_agents:["researcher","summarizer"],position:{x:50,y:150}}},edges:[{from:"START",to:"research_pipeline"},{from:"research_pipeline",to:"END"}]},{id:"content_refiner",name:"Content Refiner",icon:"",description:"Loop agent that iteratively improves content",agents:{improver:{type:"llm",model:"gemini-2.0-flash",instruction:"You are a content editor. Review the text and improve it by: fixing grammar and spelling errors, enhancing clarity and flow, improving word choice, and strengthening the overall structure. Output the improved version.",tools:[],sub_agents:[],position:{x:0,y:0}},reviewer:{type:"llm",model:"gemini-2.0-flash",instruction:"You are a quality reviewer. Evaluate the content for: clarity, grammar, flow, and completeness. If the content is polished and ready (score 8/10 or higher), call exit_loop. Otherwise, briefly note what still needs improvement and let the improver continue.",tools:["exit_loop"],sub_agents:[],position:{x:0,y:0}},content_refiner:{type:"loop",instruction:"",tools:[],sub_agents:["improver","reviewer"],position:{x:50,y:150},max_iterations:3}},edges:[{from:"START",to:"content_refiner"},{from:"content_refiner",to:"END"}]},{id:"parallel_analyzer",name:"Parallel Analyzer",icon:"",description:"Run multiple analyses concurrently",agents:{sentiment_analyzer:{type:"llm",model:"gemini-2.0-flash",instruction:"Analyze the sentiment of the provided text. Identify: 1) Overall sentiment (positive/negative/neutral with confidence %), 2) Emotional tones present (joy, anger, sadness, etc.), 3) Key phrases that indicate sentiment. Format as a brief report.",tools:[],sub_agents:[],position:{x:0,y:0}},entity_extractor:{type:"llm",model:"gemini-2.0-flash",instruction:"Extract key entities from the text. Identify and categorize: 1) People (names, roles), 2) Organizations (companies, institutions), 3) Locations (cities, countries), 4) Dates and times, 5) Key topics/concepts. Format as a structured list.",tools:[],sub_agents:[],position:{x:0,y:0}},parallel_analyzer:{type:"parallel",instruction:"",tools:[],sub_agents:["sentiment_analyzer","entity_extractor"],position:{x:50,y:150}}},edges:[{from:"START",to:"parallel_analyzer"},{from:"parallel_analyzer",to:"END"}]},{id:"support_router",name:"Support Router",icon:"",description:"Route requests to specialized agents",agents:{router:{type:"router",model:"gemini-2.0-flash",instruction:'Classify the user request into one category: "technical" for coding, bugs, API issues, or technical problems; "billing" for payments, subscriptions, refunds, or account charges; "general" for all other questions. Respond with just the category word.',tools:[],sub_agents:[],position:{x:200,y:100},routes:[{condition:"technical",target:"tech_support"},{condition:"billing",target:"billing_support"},{condition:"general",target:"general_support"}]},tech_support:{type:"llm",model:"gemini-2.0-flash",instruction:"You are a senior technical support engineer. Help users with coding issues, bugs, API problems, and technical troubleshooting. Ask clarifying questions if needed. Provide code examples when helpful. Be patient and thorough.",tools:[],sub_agents:[],position:{x:50,y:350}},billing_support:{type:"llm",model:"gemini-2.0-flash",instruction:"You are a billing specialist. Help users with payment issues, subscription questions, refund requests, and account billing inquiries. Be empathetic and solution-oriented. Explain charges clearly.",tools:[],sub_agents:[],position:{x:200,y:350}},general_support:{type:"llm",model:"gemini-2.0-flash",instruction:"You are a friendly general support agent. Help users with general questions, product information, feature requests, and any inquiries that don't fit technical or billing categories. Be helpful and personable.",tools:[],sub_agents:[],position:{x:350,y:350}}},edges:[{from:"START",to:"router"},{from:"router",to:"tech_support"},{from:"router",to:"billing_support"},{from:"router",to:"general_support"},{from:"tech_support",to:"END"},{from:"billing_support",to:"END"},{from:"general_support",to:"END"}]},{id:"web_researcher",name:"Web Researcher",icon:"",description:"Agent that browses the web for information",agents:{web_agent:{type:"llm",model:"gemini-2.0-flash",instruction:"You are a web research assistant with browser capabilities. When asked a question: 1) Navigate to relevant websites to find accurate, up-to-date information, 2) Read and extract key content from pages, 3) Synthesize findings into a clear answer with sources. Always cite your sources.",tools:["browser"],sub_agents:[],position:{x:50,y:150}}},edges:[{from:"START",to:"web_agent"},{from:"web_agent",to:"END"}]}];function tB({onExportCode:e,onNewProject:t}){const[n,r]=L.useState(null),i=L.useRef(null),{currentProject:o,addAgent:a,removeAgent:s,addEdge:l,removeEdge:u}=sn();L.useEffect(()=>{const p=y=>{i.current&&!i.current.contains(y.target)&&r(null)};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[]);const c=p=>{var y;o&&((((y=o.workflow)==null?void 0:y.edges)||[]).forEach(w=>u(w.from,w.to)),Object.keys(o.agents).forEach(w=>s(w)),Object.entries(p.agents).forEach(([w,g])=>{a(w,g)}),p.edges.forEach(w=>l(w.from,w.to)),r(null))},f=({name:p,children:y})=>x.jsxs("div",{className:"relative",children:[x.jsx("button",{className:`px-3 py-1 text-sm hover:bg-gray-700 rounded ${n===p?"bg-gray-700":""}`,onClick:()=>r(n===p?null:p),children:p}),n===p&&x.jsx("div",{className:"absolute top-full left-0 mt-1 bg-gray-800 border border-gray-600 rounded shadow-lg min-w-[200px] z-50",children:y})]}),d=({onClick:p,children:y,disabled:w})=>x.jsx("button",{className:`w-full text-left px-3 py-2 text-sm hover:bg-gray-700 ${w?"opacity-50 cursor-not-allowed":""}`,onClick:()=>{w||(p(),r(null))},disabled:w,children:y}),h=()=>x.jsx("div",{className:"border-t border-gray-600 my-1"});return x.jsxs("div",{ref:i,className:"flex items-center gap-1 px-2 py-1 bg-gray-900 border-b border-gray-700",children:[x.jsx("span",{className:"text-sm font-semibold text-blue-400 mr-4",children:" ADK Studio"}),x.jsxs(f,{name:"File",children:[x.jsx(d,{onClick:t,children:" New Project"}),x.jsx(h,{}),x.jsx(d,{onClick:e,disabled:!o,children:" Export Code"})]}),x.jsxs(f,{name:"Templates",children:[x.jsx("div",{className:"px-3 py-1 text-xs text-gray-400 border-b border-gray-600",children:"Add to current project"}),eB.map(p=>x.jsxs(d,{onClick:()=>c(p),disabled:!o,children:[p.icon," ",p.name]},p.id))]}),x.jsxs(f,{name:"Help",children:[x.jsx(d,{onClick:()=>window.open("https://github.com/amazon/adk-rust","_blank"),children:" Documentation"}),x.jsx(h,{}),x.jsxs("div",{className:"px-3 py-2 text-xs text-gray-400",children:[x.jsx("div",{className:"font-semibold mb-1",children:"Keyboard Shortcuts"}),x.jsx("div",{children:"Drag agents from left panel"}),x.jsx("div",{children:"Click agent to edit properties"}),x.jsx("div",{children:"Drag tools onto agents"})]}),x.jsx(h,{}),x.jsx("div",{className:"px-3 py-2 text-xs text-gray-500",children:"ADK Studio v0.1.0"})]}),x.jsx("div",{className:"flex-1"}),o&&x.jsxs("span",{className:"text-sm text-gray-400",children:["Project: ",x.jsx("span",{className:"text-white",children:o.name})]})]})}const V1={google_search:"",browser:"",mcp:"",function:"",file:"",code:"",default:""},nB=e=>V1[Object.keys(V1).find(t=>e.toLowerCase().includes(t))||"default"],WT=L.memo(({data:e,selected:t})=>{const n=e.isActive||!1,r=!!e.thought;return x.jsxs("div",{className:"rounded-lg min-w-[180px] transition-all duration-200",style:{background:"#1e3a5f",border:`2px solid ${n?"#4ade80":"#60a5fa"}`,boxShadow:n?"0 0 20px rgba(74, 222, 128, 0.5)":t?"0 0 0 2px #3b82f6":"none"},children:[x.jsx(Se,{type:"target",position:K.Top,id:"top",className:"!bg-gray-400"}),x.jsx(Se,{type:"target",position:K.Left,id:"left",className:"!bg-gray-400"}),x.jsxs("div",{className:"px-3 py-2",children:[x.jsxs("div",{className:"flex items-center gap-2 font-medium text-white text-sm",children:[x.jsx("span",{children:""}),x.jsx("span",{children:e.label}),x.jsxs("span",{className:"ml-auto flex items-center gap-1",children:[r&&x.jsx("span",{className:"text-blue-400 animate-pulse",title:"Thinking...",children:""}),n&&x.jsx("span",{className:"text-green-400 animate-pulse",children:""})]})]}),x.jsx("div",{className:"mt-2 pt-2 border-t border-white/20",children:x.jsxs("div",{className:"text-xs text-blue-300 flex items-center gap-1.5",children:[x.jsx("span",{children:""}),x.jsx("span",{children:e.model||"gemini-2.0-flash"})]})}),e.tools&&e.tools.length>0&&x.jsx("div",{className:"mt-2 pt-2 border-t border-white/10 space-y-1",children:e.tools.map(i=>x.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-gray-300",children:[x.jsx("span",{children:nB(i)}),x.jsx("span",{children:i})]},i))})]}),x.jsx(Se,{type:"source",position:K.Bottom,id:"bottom",className:"!bg-gray-400"}),x.jsx(Se,{type:"source",position:K.Right,id:"right",className:"!bg-gray-400"})]})});WT.displayName="LlmAgentNode";const U1={google_search:"",browser:"",mcp:"",function:"",file:"",code:""},rB=e=>U1[Object.keys(U1).find(t=>e.includes(t))||""]||"",YT=L.memo(({data:e,selected:t})=>{const n=e.isActive||!1;return x.jsxs("div",{className:"rounded-lg min-w-[160px] transition-all duration-200",style:{background:"#1e3a5f",border:`2px solid ${n?"#4ade80":"#60a5fa"}`,boxShadow:n?"0 0 20px rgba(74, 222, 128, 0.5)":t?"0 0 0 2px #3b82f6":"none"},children:[x.jsx(Se,{type:"target",position:K.Top,id:"top",className:"!bg-gray-400"}),x.jsx(Se,{type:"target",position:K.Left,id:"left",className:"!bg-gray-400"}),x.jsxs("div",{className:"px-3 py-2",children:[x.jsxs("div",{className:"flex items-center gap-2 font-medium text-white text-sm",children:[x.jsx("span",{children:""}),x.jsx("span",{children:e.label}),n&&x.jsx("span",{className:"ml-auto text-green-400 animate-pulse",children:""})]}),x.jsx("div",{className:"mt-2 border-t border-white/20 pt-2 space-y-1",children:(e.subAgents||[]).map((r,i)=>{var a;const o=((a=e.subAgentTools)==null?void 0:a[r])||[];return x.jsxs("div",{className:`px-2 py-1 rounded text-xs transition-all ${e.activeSubAgent===r?"bg-green-900 ring-1 ring-green-400 text-green-200":"bg-gray-800 text-gray-300"}`,children:[x.jsxs("div",{children:[e.activeSubAgent===r?"":`${i+1}.`," ",r]}),o.length>0&&x.jsx("div",{className:"mt-0.5 text-gray-400",children:o.map(s=>rB(s)).join(" ")})]},r)})})]}),x.jsx(Se,{type:"source",position:K.Bottom,id:"bottom",className:"!bg-gray-400"}),x.jsx(Se,{type:"source",position:K.Right,id:"right",className:"!bg-gray-400"})]})});YT.displayName="SequentialNode";const G1={google_search:"",browser:"",mcp:"",function:"",file:"",code:""},iB=e=>G1[Object.keys(G1).find(t=>e.includes(t))||""]||"",KT=L.memo(({data:e,selected:t})=>{const n=e.isActive||!1,r=e.maxIterations||3,i=e.currentIteration||0,o=n?`Iteration ${i+1}/${r}`:`Max ${r}x`;return x.jsxs("div",{className:"rounded-lg min-w-[160px] transition-all duration-200",style:{background:"#3d1e5f",border:`2px solid ${n?"#4ade80":"#a855f7"}`,boxShadow:n?"0 0 20px rgba(74, 222, 128, 0.5)":t?"0 0 0 2px #3b82f6":"none"},children:[x.jsx(Se,{type:"target",position:K.Top,id:"top",className:"!bg-gray-400"}),x.jsx(Se,{type:"target",position:K.Left,id:"left",className:"!bg-gray-400"}),x.jsxs("div",{className:"px-3 py-2",children:[x.jsxs("div",{className:"flex items-center gap-2 font-medium text-white text-sm",children:[x.jsx("span",{children:""}),x.jsx("span",{children:e.label}),n&&x.jsx("span",{className:"ml-auto text-green-400 animate-pulse",children:""})]}),x.jsxs("div",{className:"mt-2 border-t border-white/20 pt-2",children:[x.jsx("div",{className:"text-xs text-purple-300 mb-1",children:o}),x.jsx("div",{className:"space-y-1",children:(e.subAgents||[]).map((a,s)=>{var u;const l=((u=e.subAgentTools)==null?void 0:u[a])||[];return x.jsxs("div",{className:`px-2 py-1 rounded text-xs transition-all ${e.activeSubAgent===a?"bg-green-900 ring-1 ring-green-400 text-green-200":"bg-gray-800 text-gray-300"}`,children:[x.jsxs("div",{children:[e.activeSubAgent===a?"":`${s+1}.`," ",a]}),l.length>0&&x.jsx("div",{className:"mt-0.5 text-gray-400",children:l.map(c=>iB(c)).join(" ")})]},a)})})]})]}),x.jsx(Se,{type:"source",position:K.Bottom,id:"bottom",className:"!bg-gray-400"}),x.jsx(Se,{type:"source",position:K.Right,id:"right",className:"!bg-gray-400"})]})});KT.displayName="LoopNode";const W1={google_search:"",browser:"",mcp:"",function:"",file:"",code:""},oB=e=>W1[Object.keys(W1).find(t=>e.includes(t))||""]||"",XT=L.memo(({data:e,selected:t})=>{const n=e.isActive||!1;return x.jsxs("div",{className:"rounded-lg min-w-[160px] transition-all duration-200",style:{background:"#1e5f3d",border:`2px solid ${n?"#4ade80":"#34d399"}`,boxShadow:n?"0 0 20px rgba(74, 222, 128, 0.5)":t?"0 0 0 2px #3b82f6":"none"},children:[x.jsx(Se,{type:"target",position:K.Top,id:"top",className:"!bg-gray-400"}),x.jsx(Se,{type:"target",position:K.Left,id:"left",className:"!bg-gray-400"}),x.jsxs("div",{className:"px-3 py-2",children:[x.jsxs("div",{className:"flex items-center gap-2 font-medium text-white text-sm",children:[x.jsx("span",{children:""}),x.jsx("span",{children:e.label}),n&&x.jsx("span",{className:"ml-auto text-green-400 animate-pulse",children:""})]}),x.jsx("div",{className:"mt-2 border-t border-white/20 pt-2 space-y-1",children:(e.subAgents||[]).map(r=>{var o;const i=((o=e.subAgentTools)==null?void 0:o[r])||[];return x.jsxs("div",{className:`px-2 py-1 rounded text-xs transition-all ${e.activeSubAgent===r?"bg-green-900 ring-1 ring-green-400 text-green-200":"bg-gray-800 text-gray-300"}`,children:[x.jsxs("div",{children:[" ",r]}),i.length>0&&x.jsx("div",{className:"mt-0.5 text-gray-400",children:i.map(a=>oB(a)).join(" ")})]},r)})})]}),x.jsx(Se,{type:"source",position:K.Bottom,id:"bottom",className:"!bg-gray-400"}),x.jsx(Se,{type:"source",position:K.Right,id:"right",className:"!bg-gray-400"})]})});XT.displayName="ParallelNode";const QT=L.memo(({data:e,selected:t})=>{const n=e.isActive||!1;return x.jsxs("div",{className:"rounded-lg min-w-[160px] transition-all duration-200",style:{background:"#5f3d1e",border:`2px solid ${n?"#4ade80":"#f59e0b"}`,boxShadow:n?"0 0 20px rgba(74, 222, 128, 0.5)":t?"0 0 0 2px #3b82f6":"none"},children:[x.jsx(Se,{type:"target",position:K.Top,id:"top",className:"!bg-gray-400"}),x.jsx(Se,{type:"target",position:K.Left,id:"left",className:"!bg-gray-400"}),x.jsxs("div",{className:"px-3 py-2",children:[x.jsxs("div",{className:"flex items-center gap-2 font-medium text-white text-sm",children:[x.jsx("span",{children:""}),x.jsx("span",{children:e.label}),n&&x.jsx("span",{className:"ml-auto text-green-400 animate-pulse",children:""})]}),x.jsx("div",{className:"mt-2 border-t border-white/20 pt-2 space-y-1",children:(e.routes||[]).map(r=>x.jsxs("div",{className:`px-2 py-1 rounded text-xs flex items-center gap-1 ${e.activeRoute===r.condition?"bg-green-900 ring-1 ring-green-400 text-green-200":"bg-gray-800 text-gray-300"}`,children:[x.jsx("span",{className:"text-yellow-400",children:r.condition}),x.jsx("span",{className:"text-gray-500",children:""}),x.jsx("span",{children:r.target})]},r.condition))})]}),x.jsx(Se,{type:"source",position:K.Bottom,id:"bottom",className:"!bg-gray-400"}),x.jsx(Se,{type:"source",position:K.Right,id:"right",className:"!bg-gray-400"})]})});QT.displayName="RouterNode";const bl="!w-2 !h-2 !bg-gray-400";function aB(){return x.jsxs("div",{className:"rounded-lg px-4 py-2",style:{background:"#1a472a",border:"2px solid #4ade80",color:"#fff"},children:[x.jsx("span",{children:" START"}),x.jsx(Se,{type:"source",position:K.Bottom,id:"bottom",className:bl}),x.jsx(Se,{type:"source",position:K.Right,id:"right",className:bl})]})}function sB(){return x.jsxs("div",{className:"rounded-lg px-4 py-2",style:{background:"#4a1a1a",border:"2px solid #f87171",color:"#fff"},children:[x.jsx("span",{children:" END"}),x.jsx(Se,{type:"target",position:K.Top,id:"top",className:bl}),x.jsx(Se,{type:"target",position:K.Left,id:"left",className:bl})]})}const lB={llm:WT,sequential:YT,loop:KT,parallel:XT,router:QT,start:aB,end:sB};function uB({id:e,sourceX:t,sourceY:n,targetX:r,targetY:i,sourcePosition:o,targetPosition:a,data:s}){const[l]=vl({sourceX:t,sourceY:n,sourcePosition:o,targetX:r,targetY:i,targetPosition:a}),u=(s==null?void 0:s.animated)||!1;return x.jsxs(x.Fragment,{children:[x.jsx("path",{id:e,d:l,fill:"none",stroke:u?"#ef4444":"#6b7280",strokeWidth:u?3:2,strokeDasharray:u?"8 4":"none",style:{animation:u?"dashFlow 0.5s linear infinite":"none"}}),x.jsx("style",{children:"@keyframes dashFlow { to { stroke-dashoffset: -12; } }"})]})}const cB={animated:uB},fB=[{type:"llm",label:"LLM Agent"},{type:"sequential",label:"Sequential Agent"},{type:"loop",label:"Loop Agent"},{type:"parallel",label:"Parallel Agent"},{type:"router",label:"Router Agent"}];function dB({onDragStart:e,onCreate:t}){return x.jsxs("div",{children:[x.jsx("h3",{className:"font-semibold mb-2",children:"Agents"}),x.jsx("div",{className:"space-y-1",children:fB.map(({type:n,label:r})=>x.jsxs("div",{draggable:!0,onDragStart:i=>e(i,n),onClick:()=>t(n),className:"p-2 bg-studio-accent rounded text-sm cursor-grab hover:bg-studio-highlight",children:[" ",r]},n))})]})}const Sl=[{type:"function",label:"Function Tool",icon:"",configurable:!0},{type:"mcp",label:"MCP Tool",icon:"",configurable:!0},{type:"browser",label:"Browser Tool",icon:"",configurable:!0},{type:"exit_loop",label:"Exit Loop",icon:"",configurable:!0},{type:"google_search",label:"Google Search",icon:"",configurable:!0},{type:"load_artifact",label:"Load Artifact",icon:"",configurable:!0}];function hB({selectedNodeId:e,agentTools:t,onAdd:n,onRemove:r}){const i=(o,a)=>{o.dataTransfer.setData("text/plain",`tool:${a}`),o.dataTransfer.effectAllowed="copy"};return x.jsxs("div",{children:[x.jsx("h3",{className:"font-semibold mb-2",children:"Tools"}),x.jsx("div",{className:"space-y-1",children:Sl.map(({type:o,label:a,icon:s})=>{const l=o==="function"||o==="mcp",u=l?t.some(f=>f.startsWith(o)):t.includes(o),c=l?t.filter(f=>f.startsWith(o)).length:0;return x.jsxs("div",{draggable:!0,onDragStart:f=>i(f,o),className:`p-2 rounded text-sm cursor-grab flex items-center gap-2 ${u?"bg-green-800 hover:bg-green-700":"bg-gray-700 hover:bg-gray-600"} ${e?"":"opacity-50"}`,onClick:()=>{e&&(l||!u?n(o):r(o))},children:[x.jsx("span",{children:s}),x.jsx("span",{className:"text-xs",children:a}),l&&c>0&&x.jsx("span",{className:"ml-auto text-xs bg-blue-600 px-1 rounded",children:c}),!l&&u&&x.jsx("span",{className:"ml-auto text-xs",children:""})]},o)})})]})}function pB({nodeId:e,agent:t,agents:n,toolConfigs:r,onUpdate:i,onRename:o,onAddSubAgent:a,onClose:s,onSelectTool:l,onRemoveTool:u}){const c=t.type==="sequential"||t.type==="loop"||t.type==="parallel",[f,d]=Mt.useState(!1),[h,p]=Mt.useState(e),y=()=>{const v=h.trim().replace(/\s+/g,"_");v&&v!==e&&!n[v]?o(e,v):p(e),d(!1)},w=(v,m)=>{const _=n[v];_&&i(v,{tools:_.tools.filter(k=>k!==m)})},g=(v,m)=>{const _=n[v];if(_){let k=m;if(m==="function"||m==="mcp"){const b=_.tools.filter(E=>E.startsWith(m));k=`${m}_${b.length+1}`}else if(_.tools.includes(m))return;i(v,{tools:[..._.tools,k]})}};return x.jsxs("div",{className:"w-72 bg-studio-panel border-l border-gray-700 p-4 overflow-y-auto",children:[x.jsxs("div",{className:"flex justify-between items-center mb-4",children:[f?x.jsx("input",{autoFocus:!0,className:"flex-1 px-2 py-1 bg-studio-bg border border-blue-500 rounded text-sm font-semibold",value:h,onChange:v=>p(v.target.value),onBlur:y,onKeyDown:v=>v.key==="Enter"&&y()}):x.jsxs("h3",{className:"font-semibold cursor-pointer hover:text-blue-400",onClick:()=>d(!0),title:"Click to rename",children:[e," ",x.jsx("span",{className:"text-xs text-gray-500",children:""})]}),x.jsx("button",{onClick:s,className:"px-2 py-1 bg-gray-600 rounded text-xs ml-2",children:"Close"})]}),c?x.jsx(gB,{nodeId:e,agent:t,agents:n,onUpdate:i,onAddSubAgent:a,onSelectTool:l,onRemoveTool:w,onAddTool:g}):t.type==="router"?x.jsx(mB,{nodeId:e,agent:t,onUpdate:i}):x.jsx(yB,{nodeId:e,agent:t,toolConfigs:r,onUpdate:i,onSelectTool:l,onRemoveTool:u})]})}function gB({nodeId:e,agent:t,agents:n,onUpdate:r,onAddSubAgent:i,onSelectTool:o,onRemoveTool:a,onAddTool:s}){const[l,u]=Mt.useState(null);return x.jsxs("div",{children:[t.type==="loop"&&x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:"mb-4 p-2 bg-purple-900/50 border border-purple-600 rounded text-xs",children:[x.jsx("div",{className:"font-semibold text-purple-400 mb-1",children:" Loop Agent Tips"}),x.jsx("p",{className:"text-purple-200",children:"Sub-agents run repeatedly until max iterations or exit_loop tool is called."})]}),x.jsxs("div",{className:"mb-4",children:[x.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Max Iterations"}),x.jsx("input",{type:"number",min:"1",className:"w-full px-2 py-1 bg-studio-bg border border-gray-600 rounded text-sm",value:t.max_iterations||3,onChange:c=>r(e,{max_iterations:parseInt(c.target.value)||3})})]})]}),x.jsxs("label",{className:"block text-sm text-gray-400 mb-2",children:["Sub-Agents ",t.type==="parallel"?"(run concurrently)":"(in order)"]}),(t.sub_agents||[]).map((c,f)=>{const d=n[c];if(!d)return null;const h=l===c;return x.jsxs("div",{className:"mb-2 bg-gray-800 rounded overflow-hidden",children:[x.jsxs("div",{className:"p-2 cursor-pointer hover:bg-gray-700 flex items-center justify-between",onClick:()=>u(h?null:c),children:[x.jsxs("span",{className:"text-sm font-medium",children:[t.type==="parallel"?"":`${f+1}.`," ",c]}),x.jsx("span",{className:"text-gray-500 text-xs",children:h?"":""})]}),h&&x.jsxs("div",{className:"p-2 pt-0 border-t border-gray-700",children:[x.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Model"}),x.jsx("input",{className:"w-full px-2 py-1 bg-studio-bg border border-gray-600 rounded text-xs mb-2",value:d.model||"",onChange:p=>r(c,{model:p.target.value})}),x.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Instruction"}),x.jsx("textarea",{className:"w-full px-2 py-1 bg-studio-bg border border-gray-600 rounded text-xs h-16 mb-2",value:d.instruction,onChange:p=>r(c,{instruction:p.target.value})}),x.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Tools"}),x.jsx("div",{className:"flex flex-wrap gap-1 mb-2",children:(d.tools||[]).map(p=>{const y=p.startsWith("function")?"function":p.startsWith("mcp")?"mcp":p,w=Sl.find(v=>v.type===y),g=`${c}_${p}`;return x.jsxs("span",{className:"text-xs px-2 py-0.5 bg-gray-700 rounded flex items-center gap-1 cursor-pointer hover:bg-gray-600",onClick:()=>o(g),children:[w==null?void 0:w.icon," ",p," ",x.jsx("button",{onClick:v=>{v.stopPropagation(),a(c,p)},className:"text-red-400 hover:text-red-300",children:""})]},p)})}),x.jsx("div",{className:"flex flex-wrap gap-1",children:Sl.filter(p=>{var y;return!((y=d.tools)!=null&&y.includes(p.type))||p.type==="function"||p.type==="mcp"}).map(p=>x.jsxs("button",{onClick:()=>s(c,p.type),className:"text-xs px-2 py-0.5 bg-blue-800 hover:bg-blue-700 rounded",children:["+ ",p.icon]},p.type))})]})]},c)}),x.jsx("button",{onClick:i,className:"w-full py-2 bg-gray-700 hover:bg-gray-600 rounded text-sm",children:"+ Add Sub-Agent"})]})}function mB({nodeId:e,agent:t,onUpdate:n}){return x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Model"}),x.jsx("input",{className:"w-full px-2 py-1 bg-studio-bg border border-gray-600 rounded text-sm mb-3",value:t.model||"",onChange:r=>n(e,{model:r.target.value})}),x.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Routing Instruction"}),x.jsx("textarea",{className:"w-full px-2 py-1 bg-studio-bg border border-gray-600 rounded text-sm h-20 mb-3",value:t.instruction,onChange:r=>n(e,{instruction:r.target.value})}),x.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Routes"}),(t.routes||[]).map((r,i)=>x.jsxs("div",{className:"flex gap-1 mb-2 items-center",children:[x.jsx("input",{className:"flex-1 px-2 py-1 bg-studio-bg border border-gray-600 rounded text-xs",placeholder:"condition",value:r.condition,onChange:o=>{const a=[...t.routes||[]];a[i]={...r,condition:o.target.value},n(e,{routes:a})}}),x.jsx("span",{className:"text-gray-500",children:""}),x.jsx("input",{className:"flex-1 px-2 py-1 bg-studio-bg border border-gray-600 rounded text-xs",placeholder:"target",value:r.target,onChange:o=>{const a=[...t.routes||[]];a[i]={...r,target:o.target.value},n(e,{routes:a})}}),x.jsx("button",{className:"text-red-400 hover:text-red-300 text-sm",onClick:()=>n(e,{routes:(t.routes||[]).filter((o,a)=>a!==i)}),children:""})]},i)),x.jsx("button",{className:"w-full py-1 bg-gray-700 hover:bg-gray-600 rounded text-xs",onClick:()=>n(e,{routes:[...t.routes||[],{condition:"",target:""}]}),children:"+ Add Route"})]})}function yB({nodeId:e,agent:t,toolConfigs:n,onUpdate:r,onSelectTool:i,onRemoveTool:o}){const[a,s]=Mt.useState(!1);return x.jsxs("div",{className:"space-y-4",children:[x.jsxs(Y1,{title:"Basic",children:[x.jsx(Cr,{label:"Model",children:x.jsx("input",{className:"w-full px-2 py-1 bg-studio-bg border border-gray-600 rounded text-sm",value:t.model||"",onChange:l=>r(e,{model:l.target.value}),placeholder:"gemini-2.0-flash"})}),x.jsx(Cr,{label:"Instruction",children:x.jsx("textarea",{className:"w-full px-2 py-1 bg-studio-bg border border-gray-600 rounded text-sm h-24",value:t.instruction,onChange:l=>r(e,{instruction:l.target.value}),placeholder:"You are a helpful assistant..."})}),x.jsx(Cr,{label:"Description",hint:"Optional agent description",children:x.jsx("input",{className:"w-full px-2 py-1 bg-studio-bg border border-gray-600 rounded text-sm",value:t.description||"",onChange:l=>r(e,{description:l.target.value}),placeholder:"What this agent does"})})]}),t.tools.length>0&&x.jsx(Y1,{title:"Tools",children:x.jsx("div",{className:"flex flex-wrap gap-1",children:t.tools.map(l=>{const u=l.startsWith("function")?"function":l.startsWith("mcp")?"mcp":l,c=Sl.find(p=>p.type===u),f=`${e}_${l}`,d=n[f],h=d&&"name"in d&&d.name?d.name:(c==null?void 0:c.label)||l;return x.jsxs("span",{className:`text-xs px-2 py-1 rounded flex items-center gap-1 cursor-pointer ${d?"bg-green-800":"bg-gray-700"} hover:bg-gray-600`,onClick:()=>i(f),children:[c==null?void 0:c.icon," ",h," ",x.jsx("span",{className:"text-blue-400",children:""}),x.jsx("button",{onClick:p=>{p.stopPropagation(),o(l)},className:"ml-1 text-red-400 hover:text-red-300",children:""})]},l)})})}),x.jsxs("div",{children:[x.jsxs("button",{onClick:()=>s(!a),className:"w-full text-left text-xs text-gray-400 hover:text-gray-300 flex items-center gap-1",children:[x.jsx("span",{children:a?"":""})," Advanced Settings"]}),a&&x.jsxs("div",{className:"mt-2 space-y-3 pl-2 border-l border-gray-700",children:[x.jsx(Cr,{label:"Global Instruction",hint:"System-level instruction prepended to all prompts",children:x.jsx("textarea",{className:"w-full px-2 py-1 bg-studio-bg border border-gray-600 rounded text-xs h-16",value:t.global_instruction||"",onChange:l=>r(e,{global_instruction:l.target.value}),placeholder:"Always respond in JSON format..."})}),x.jsx(Cr,{label:"Output Key",hint:"Custom state key for agent output",children:x.jsx("input",{className:"w-full px-2 py-1 bg-studio-bg border border-gray-600 rounded text-xs",value:t.output_key||"",onChange:l=>r(e,{output_key:l.target.value}),placeholder:"response (default)"})}),x.jsx(Cr,{label:"Output Schema",hint:"JSON Schema for structured output",children:x.jsx("textarea",{className:"w-full px-2 py-1 bg-studio-bg border border-gray-600 rounded text-xs h-20 font-mono",value:t.output_schema||"",onChange:l=>r(e,{output_schema:l.target.value}),placeholder:'{"type": "object", "properties": {...}}'})}),x.jsx(Cr,{label:"Include Contents",children:x.jsxs("select",{className:"w-full px-2 py-1 bg-studio-bg border border-gray-600 rounded text-xs",value:t.include_contents||"all",onChange:l=>r(e,{include_contents:l.target.value}),children:[x.jsx("option",{value:"all",children:"All history"}),x.jsx("option",{value:"last",children:"Last message only"}),x.jsx("option",{value:"none",children:"None"})]})})]})]})]})}function Y1({title:e,children:t}){return x.jsxs("div",{children:[x.jsx("div",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wide mb-2",children:e}),x.jsx("div",{className:"space-y-2",children:t})]})}function Cr({label:e,hint:t,children:n}){return x.jsxs("div",{children:[x.jsxs("label",{className:"block text-sm text-gray-400 mb-1",children:[e,t&&x.jsxs("span",{className:"text-xs text-gray-500 ml-1",children:["(",t,")"]})]}),n]})}const vB=[{name:"Calculator",icon:"",template:{name:"calculator",description:"Evaluate mathematical expressions with support for +, -, *, /, ^, %, sqrt, sin, cos, tan, log, abs, round, floor, ceil",parameters:[{name:"expression",param_type:"string",description:'Math expression to evaluate (e.g., "2 + 3 * 4", "sqrt(16)", "sin(3.14159/2)")',required:!0}],code:`fn eval_expr(expr: &str) -> Result<f64, String> {
    let expr = expr.trim().to_lowercase();
    
    // Handle functions first
    for func in ["sqrt", "sin", "cos", "tan", "log", "abs", "round", "floor", "ceil"] {
        if expr.starts_with(func) && expr.contains('(') {
            let start = expr.find('(').unwrap();
            let end = expr.rfind(')').ok_or("Missing closing parenthesis")?;
            let inner = eval_expr(&expr[start+1..end])?;
            let result = match func {
                "sqrt" => inner.sqrt(),
                "sin" => inner.sin(),
                "cos" => inner.cos(),
                "tan" => inner.tan(),
                "log" => inner.ln(),
                "abs" => inner.abs(),
                "round" => inner.round(),
                "floor" => inner.floor(),
                "ceil" => inner.ceil(),
                _ => return Err(format!("Unknown function: {}", func)),
            };
            return Ok(result);
        }
    }
    
    // Handle parentheses
    if let (Some(start), Some(end)) = (expr.find('('), expr.rfind(')')) {
        let before = &expr[..start];
        let inner = eval_expr(&expr[start+1..end])?;
        let after = &expr[end+1..];
        return eval_expr(&format!("{}{}{}", before, inner, after));
    }
    
    // Handle operators by precedence (low to high)
    for op in ['+', '-'] {
        if let Some(pos) = expr.rfind(|c| c == op && !expr[..expr.find(c).unwrap_or(0)].ends_with('e')) {
            if pos > 0 {
                let left = eval_expr(&expr[..pos])?;
                let right = eval_expr(&expr[pos+1..])?;
                return Ok(if op == '+' { left + right } else { left - right });
            }
        }
    }
    for op in ['*', '/', '%'] {
        if let Some(pos) = expr.rfind(op) {
            let left = eval_expr(&expr[..pos])?;
            let right = eval_expr(&expr[pos+1..])?;
            return Ok(match op {
                '*' => left * right,
                '/' => if right != 0.0 { left / right } else { return Err("Division by zero".into()) },
                '%' => left % right,
                _ => unreachable!(),
            });
        }
    }
    if let Some(pos) = expr.rfind('^') {
        let left = eval_expr(&expr[..pos])?;
        let right = eval_expr(&expr[pos+1..])?;
        return Ok(left.powf(right));
    }
    
    // Parse number or constant
    match expr.trim() {
        "pi" => Ok(std::f64::consts::PI),
        "e" => Ok(std::f64::consts::E),
        s => s.parse::<f64>().map_err(|_| format!("Invalid number: {}", s)),
    }
}

match eval_expr(expression) {
    Ok(result) => Ok(json!({ "result": result, "expression": expression })),
    Err(e) => Err(AdkError::Tool(e))
}`}},{name:"HTTP Request",icon:"",template:{name:"http_request",description:"Make HTTP GET/POST requests to URLs",parameters:[{name:"url",param_type:"string",description:"URL to request",required:!0},{name:"method",param_type:"string",description:"HTTP method (GET or POST)",required:!1},{name:"body",param_type:"string",description:"Request body for POST",required:!1}],code:`let client = reqwest::Client::new();
let method = if method.is_empty() { "GET" } else { method };
let response = match method.to_uppercase().as_str() {
    "GET" => client.get(url).send().await,
    "POST" => client.post(url).body(body.to_string()).send().await,
    _ => return Err(AdkError::Tool(format!("Unsupported method: {}", method))),
};
match response {
    Ok(resp) => {
        let status = resp.status().as_u16();
        let text = resp.text().await.unwrap_or_default();
        Ok(json!({ "status": status, "body": text }))
    }
    Err(e) => Err(AdkError::Tool(format!("Request failed: {}", e)))
}`}},{name:"Read File",icon:"",template:{name:"read_file",description:"Read contents of a file",parameters:[{name:"path",param_type:"string",description:"File path to read",required:!0}],code:`match std::fs::read_to_string(path) {
    Ok(content) => Ok(json!({ "content": content })),
    Err(e) => Err(AdkError::Tool(format!("Failed to read file: {}", e)))
}`}},{name:"Write File",icon:"",template:{name:"write_file",description:"Write content to a file",parameters:[{name:"path",param_type:"string",description:"File path to write",required:!0},{name:"content",param_type:"string",description:"Content to write",required:!0}],code:`match std::fs::write(path, content) {
    Ok(_) => Ok(json!({ "status": "success", "path": path })),
    Err(e) => Err(AdkError::Tool(format!("Failed to write file: {}", e)))
}`}},{name:"JSON Parser",icon:"",template:{name:"parse_json",description:"Parse JSON string and extract a field",parameters:[{name:"json_str",param_type:"string",description:"JSON string to parse",required:!0},{name:"field",param_type:"string",description:"Field to extract (dot notation)",required:!1}],code:`let parsed: Value = serde_json::from_str(json_str)
    .map_err(|e| AdkError::Tool(format!("Invalid JSON: {}", e)))?;
if field.is_empty() {
    Ok(parsed)
} else {
    let value = field.split('.').fold(Some(&parsed), |acc, key| {
        acc.and_then(|v| v.get(key))
    });
    Ok(value.cloned().unwrap_or(Value::Null))
}`}},{name:"Shell Command",icon:"",template:{name:"run_command",description:"Execute a shell command",parameters:[{name:"command",param_type:"string",description:"Command to execute",required:!0},{name:"args",param_type:"string",description:"Space-separated arguments",required:!1}],code:`use std::process::Command;
let args_vec: Vec<&str> = if args.is_empty() { vec![] } else { args.split_whitespace().collect() };
match Command::new(command).args(&args_vec).output() {
    Ok(output) => Ok(json!({
        "stdout": String::from_utf8_lossy(&output.stdout),
        "stderr": String::from_utf8_lossy(&output.stderr),
        "exit_code": output.status.code()
    })),
    Err(e) => Err(AdkError::Tool(format!("Command failed: {}", e)))
}`}}],xB=[{name:"Time",icon:"",command:"uvx",args:["mcp-server-time"],desc:"Get current time and timezone info"},{name:"Fetch",icon:"",command:"uvx",args:["mcp-server-fetch"],desc:"Fetch and parse web pages"},{name:"Filesystem",icon:"",command:"npx",args:["-y","@modelcontextprotocol/server-filesystem","/tmp"],desc:"Read, write, and manage files"},{name:"GitHub",icon:"",command:"npx",args:["-y","@modelcontextprotocol/server-github"],desc:"GitHub repos, issues, PRs"},{name:"SQLite",icon:"",command:"uvx",args:["mcp-server-sqlite","--db-path","/tmp/data.db"],desc:"Query SQLite databases"},{name:"Memory",icon:"",command:"npx",args:["-y","@modelcontextprotocol/server-memory"],desc:"Persistent key-value store"},{name:"Brave Search",icon:"",command:"npx",args:["-y","@anthropic/mcp-server-brave-search"],desc:"Web search via Brave"},{name:"Puppeteer",icon:"",command:"npx",args:["-y","@anthropic/mcp-server-puppeteer"],desc:"Browser automation"},{name:"Slack",icon:"",command:"npx",args:["-y","@anthropic/mcp-server-slack"],desc:"Slack messaging"},{name:"Google Drive",icon:"",command:"npx",args:["-y","@anthropic/mcp-server-gdrive"],desc:"Google Drive files"},{name:"PostgreSQL",icon:"",command:"npx",args:["-y","@anthropic/mcp-server-postgres"],desc:"PostgreSQL queries"},{name:"Everything",icon:"",command:"npx",args:["-y","@modelcontextprotocol/server-everything"],desc:"Demo server with all features"}];function ZT(e){const t=e.name||"my_function",n=e.parameters.map(i=>{const o=i.param_type==="number"?"as_f64().unwrap_or(0.0)":i.param_type==="boolean"?"as_bool().unwrap_or(false)":'as_str().unwrap_or("")';return`    let ${i.name} = args["${i.name}"].${o};`}).join(`
`),r=e.code||'Ok(json!({"status": "ok"}))';return`async fn ${t}_fn(_ctx: Arc<dyn ToolContext>, args: Value) -> Result<Value, AdkError> {
${n}
    ${r}
}`}function wB(e,t){const n=e.split(`
`),r=t.parameters.length+1,i=n.length-1;return r>=i?t.code||"":n.slice(r,i).map(o=>o.replace(/^    /,"")).join(`
`)}function _B({toolId:e,config:t,onUpdate:n,onClose:r,onOpenCodeEditor:i}){const o=e.includes("_mcp")?"mcp":e.includes("_function")?"function":e.includes("_browser")?"browser":e.includes("_exit_loop")?"exit_loop":e.includes("_google_search")?"google_search":"",s=t||(o==="mcp"?{type:"mcp",server_command:"",server_args:[],tool_filter:[]}:o==="function"?{type:"function",name:"",description:"",parameters:[]}:o==="browser"?{type:"browser",headless:!0,timeout_ms:3e4}:null),l=["exit_loop","google_search","load_artifact"].includes(o);return!s&&!l?null:x.jsxs("div",{className:"w-80 bg-studio-panel border-l border-gray-700 p-4 overflow-y-auto",children:[x.jsxs("div",{className:"flex justify-between items-center mb-4",children:[x.jsx("h3",{className:"font-semibold",children:"Configure Tool"}),x.jsx("button",{onClick:r,className:"px-2 py-1 bg-gray-600 rounded text-xs",children:"Close"})]}),o==="mcp"&&x.jsx(bB,{config:s,onUpdate:n}),o==="function"&&x.jsx(SB,{config:s,onUpdate:n,onOpenCodeEditor:i}),o==="browser"&&x.jsx(EB,{config:s,onUpdate:n}),l&&x.jsx(kB,{type:o})]})}function bB({config:e,onUpdate:t}){return x.jsxs("div",{className:"space-y-3",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Quick Templates"}),x.jsx("div",{className:"grid grid-cols-2 gap-1 mb-3",children:xB.map(n=>x.jsxs("button",{className:"flex items-center gap-1 px-2 py-1 bg-gray-700 hover:bg-gray-600 rounded text-xs",title:n.desc,onClick:()=>t({...e,name:n.name,server_command:n.command,server_args:n.args}),children:[x.jsx("span",{children:n.icon}),x.jsx("span",{className:"truncate",children:n.name})]},n.name))})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Server Command"}),x.jsx("input",{className:"w-full px-2 py-1 bg-studio-bg border border-gray-600 rounded text-sm",placeholder:"npx, uvx...",value:e.server_command,onChange:n=>t({...e,server_command:n.target.value})})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Server Args (one per line)"}),x.jsx("textarea",{className:"w-full px-2 py-1 bg-studio-bg border border-gray-600 rounded text-sm h-20",value:e.server_args.join(`
`),onChange:n=>t({...e,server_args:n.target.value.split(`
`).filter(Boolean)})})]})]})}function SB({config:e,onUpdate:t,onOpenCodeEditor:n}){const r=()=>t({...e,parameters:[...e.parameters,{name:"",param_type:"string",description:"",required:!1}]}),i=(a,s)=>{const l=[...e.parameters];l[a]={...l[a],...s},t({...e,parameters:l})},o=a=>t({...e,parameters:e.parameters.filter((s,l)=>l!==a)});return x.jsxs("div",{className:"space-y-3",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Function Name"}),x.jsx("input",{className:"w-full px-2 py-1 bg-studio-bg border border-gray-600 rounded text-sm",placeholder:"get_weather",value:e.name,onChange:a=>t({...e,name:a.target.value})})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Description"}),x.jsx("textarea",{className:"w-full px-2 py-1 bg-studio-bg border border-gray-600 rounded text-sm h-16",value:e.description,onChange:a=>t({...e,description:a.target.value})})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Parameters"}),e.parameters.map((a,s)=>x.jsxs("div",{className:"flex gap-1 mb-1 items-center",children:[x.jsx("input",{className:"flex-1 px-1 py-0.5 bg-studio-bg border border-gray-600 rounded text-xs",placeholder:"name",value:a.name,onChange:l=>i(s,{name:l.target.value})}),x.jsxs("select",{className:"px-1 py-0.5 bg-studio-bg border border-gray-600 rounded text-xs",value:a.param_type,onChange:l=>i(s,{param_type:l.target.value}),children:[x.jsx("option",{value:"string",children:"string"}),x.jsx("option",{value:"number",children:"number"}),x.jsx("option",{value:"boolean",children:"boolean"})]}),x.jsxs("label",{className:"text-xs flex items-center gap-1",children:[x.jsx("input",{type:"checkbox",checked:a.required,onChange:l=>i(s,{required:l.target.checked})}),"req"]}),x.jsx("button",{className:"text-red-400 text-xs",onClick:()=>o(s),children:""})]},s)),x.jsx("button",{className:"w-full py-1 bg-gray-700 hover:bg-gray-600 rounded text-xs mt-1",onClick:r,children:"+ Add Parameter"})]}),x.jsxs("div",{children:[x.jsxs("div",{className:"flex justify-between items-center mb-1",children:[x.jsx("label",{className:"text-sm text-gray-400",children:"Code (Rust)"}),x.jsx("button",{className:"text-xs text-blue-400 hover:text-blue-300",onClick:n,children:" Edit"})]}),x.jsx("textarea",{className:"w-full px-2 py-2 bg-gray-900 border border-gray-600 rounded text-xs font-mono h-32 text-gray-400 cursor-pointer",value:ZT(e),readOnly:!0,onClick:n})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Templates"}),x.jsx("div",{className:"grid grid-cols-2 gap-1",children:vB.map(a=>x.jsxs("button",{className:"px-2 py-1 bg-gray-700 hover:bg-gray-600 rounded text-xs flex items-center gap-1",onClick:()=>t({...e,...a.template}),children:[x.jsx("span",{children:a.icon}),x.jsx("span",{className:"truncate",children:a.name})]},a.name))})]})]})}function EB({config:e,onUpdate:t}){return x.jsxs("div",{className:"space-y-3",children:[x.jsxs("div",{className:"p-2 bg-yellow-900/50 border border-yellow-600 rounded text-xs",children:[x.jsx("div",{className:"font-semibold text-yellow-400 mb-1",children:" Requirements"}),x.jsx("p",{className:"text-yellow-200",children:"Chrome + ChromeDriver required"})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("input",{type:"checkbox",id:"headless",checked:e.headless,onChange:n=>t({...e,headless:n.target.checked})}),x.jsx("label",{htmlFor:"headless",className:"text-sm",children:"Headless Mode"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Timeout (ms)"}),x.jsx("input",{type:"number",className:"w-full px-2 py-1 bg-studio-bg border border-gray-600 rounded text-sm",value:e.timeout_ms,onChange:n=>t({...e,timeout_ms:parseInt(n.target.value)||3e4})})]})]})}function kB({type:e}){const t={exit_loop:{title:"Exit Loop Tool",desc:"Allows agent to exit a loop when task is complete."},google_search:{title:"Google Search Tool",desc:"Web search via Google Grounding API."},load_artifact:{title:"Load Artifact Tool",desc:"Load artifacts from session store."}},{title:n,desc:r}=t[e]||{title:"Tool",desc:"No configuration needed."};return x.jsxs("div",{className:"p-2 bg-blue-900/50 border border-blue-600 rounded text-xs",children:[x.jsxs("div",{className:"font-semibold text-blue-400 mb-1",children:[" ",n]}),x.jsx("p",{className:"text-blue-200",children:r})]})}function K1(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function CB(e){if(Array.isArray(e))return e}function NB(e,t,n){return(t=MB(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function TB(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,t!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function PB(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function X1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Q1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?X1(Object(n),!0).forEach(function(r){NB(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jB(e,t){if(e==null)return{};var n,r,i=IB(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function IB(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function AB(e,t){return CB(e)||TB(e,t)||LB(e,t)||PB()}function RB(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function MB(e){var t=RB(e,"string");return typeof t=="symbol"?t:t+""}function LB(e,t){if(e){if(typeof e=="string")return K1(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?K1(e,t):void 0}}function OB(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Z1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function J1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Z1(Object(n),!0).forEach(function(r){OB(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function DB(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){return t.reduceRight(function(i,o){return o(i)},r)}}function bo(e){return function t(){for(var n=this,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return i.length>=e.length?e.apply(this,i):function(){for(var a=arguments.length,s=new Array(a),l=0;l<a;l++)s[l]=arguments[l];return t.apply(n,[].concat(i,s))}}}function El(e){return{}.toString.call(e).includes("Object")}function zB(e){return!Object.keys(e).length}function ya(e){return typeof e=="function"}function qB(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function $B(e,t){return El(t)||gr("changeType"),Object.keys(t).some(function(n){return!qB(e,n)})&&gr("changeField"),t}function FB(e){ya(e)||gr("selectorType")}function BB(e){ya(e)||El(e)||gr("handlerType"),El(e)&&Object.values(e).some(function(t){return!ya(t)})&&gr("handlersType")}function HB(e){e||gr("initialIsRequired"),El(e)||gr("initialType"),zB(e)&&gr("initialContent")}function VB(e,t){throw new Error(e[t]||e.default)}var UB={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},gr=bo(VB)(UB),gs={changes:$B,selector:FB,handler:BB,initial:HB};function GB(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};gs.initial(e),gs.handler(t);var n={current:e},r=bo(KB)(n,t),i=bo(YB)(n),o=bo(gs.changes)(e),a=bo(WB)(n);function s(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(c){return c};return gs.selector(u),u(n.current)}function l(u){DB(r,i,o,a)(u)}return[s,l]}function WB(e,t){return ya(t)?t(e.current):t}function YB(e,t){return e.current=J1(J1({},e.current),t),t}function KB(e,t,n){return ya(t)?t(e.current):Object.keys(n).forEach(function(r){var i;return(i=t[r])===null||i===void 0?void 0:i.call(t,e.current[r])}),n}var XB={create:GB},QB={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.55.1/min/vs"}};function ZB(e){return function t(){for(var n=this,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return i.length>=e.length?e.apply(this,i):function(){for(var a=arguments.length,s=new Array(a),l=0;l<a;l++)s[l]=arguments[l];return t.apply(n,[].concat(i,s))}}}function JB(e){return{}.toString.call(e).includes("Object")}function e8(e){return e||ew("configIsRequired"),JB(e)||ew("configType"),e.urls?(t8(),{paths:{vs:e.urls.monacoBase}}):e}function t8(){console.warn(JT.deprecation)}function n8(e,t){throw new Error(e[t]||e.default)}var JT={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},ew=ZB(n8)(JT),r8={config:e8},i8=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return function(i){return n.reduceRight(function(o,a){return a(o)},i)}};function eP(e,t){return Object.keys(t).forEach(function(n){t[n]instanceof Object&&e[n]&&Object.assign(t[n],eP(e[n],t[n]))}),Q1(Q1({},e),t)}var o8={type:"cancelation",msg:"operation is manually canceled"};function Ec(e){var t=!1,n=new Promise(function(r,i){e.then(function(o){return t?i(o8):r(o)}),e.catch(i)});return n.cancel=function(){return t=!0},n}var a8=["monaco"],s8=XB.create({config:QB,isInitialized:!1,resolve:null,reject:null,monaco:null}),tP=AB(s8,2),Aa=tP[0],uu=tP[1];function l8(e){var t=r8.config(e),n=t.monaco,r=jB(t,a8);uu(function(i){return{config:eP(i.config,r),monaco:n}})}function u8(){var e=Aa(function(t){var n=t.monaco,r=t.isInitialized,i=t.resolve;return{monaco:n,isInitialized:r,resolve:i}});if(!e.isInitialized){if(uu({isInitialized:!0}),e.monaco)return e.resolve(e.monaco),Ec(kc);if(window.monaco&&window.monaco.editor)return nP(window.monaco),e.resolve(window.monaco),Ec(kc);i8(c8,d8)(h8)}return Ec(kc)}function c8(e){return document.body.appendChild(e)}function f8(e){var t=document.createElement("script");return e&&(t.src=e),t}function d8(e){var t=Aa(function(r){var i=r.config,o=r.reject;return{config:i,reject:o}}),n=f8("".concat(t.config.paths.vs,"/loader.js"));return n.onload=function(){return e()},n.onerror=t.reject,n}function h8(){var e=Aa(function(n){var r=n.config,i=n.resolve,o=n.reject;return{config:r,resolve:i,reject:o}}),t=window.require;t.config(e.config),t(["vs/editor/editor.main"],function(n){var r=n.m||n;nP(r),e.resolve(r)},function(n){e.reject(n)})}function nP(e){Aa().monaco||uu({monaco:e})}function p8(){return Aa(function(e){var t=e.monaco;return t})}var kc=new Promise(function(e,t){return uu({resolve:e,reject:t})}),rP={config:l8,init:u8,__getMonacoInstance:p8},g8={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},Cc=g8,m8={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}},y8=m8;function v8({children:e}){return Mt.createElement("div",{style:y8.container},e)}var x8=v8,w8=x8;function _8({width:e,height:t,isEditorReady:n,loading:r,_ref:i,className:o,wrapperProps:a}){return Mt.createElement("section",{style:{...Cc.wrapper,width:e,height:t},...a},!n&&Mt.createElement(w8,null,r),Mt.createElement("div",{ref:i,style:{...Cc.fullWidth,...!n&&Cc.hide},className:o}))}var b8=_8,iP=L.memo(b8);function S8(e){L.useEffect(e,[])}var oP=S8;function E8(e,t,n=!0){let r=L.useRef(!0);L.useEffect(r.current||!n?()=>{r.current=!1}:e,t)}var Pt=E8;function Ho(){}function _i(e,t,n,r){return k8(e,r)||C8(e,t,n,r)}function k8(e,t){return e.editor.getModel(aP(e,t))}function C8(e,t,n,r){return e.editor.createModel(t,n,r?aP(e,r):void 0)}function aP(e,t){return e.Uri.parse(t)}function N8({original:e,modified:t,language:n,originalLanguage:r,modifiedLanguage:i,originalModelPath:o,modifiedModelPath:a,keepCurrentOriginalModel:s=!1,keepCurrentModifiedModel:l=!1,theme:u="light",loading:c="Loading...",options:f={},height:d="100%",width:h="100%",className:p,wrapperProps:y={},beforeMount:w=Ho,onMount:g=Ho}){let[v,m]=L.useState(!1),[_,k]=L.useState(!0),b=L.useRef(null),E=L.useRef(null),T=L.useRef(null),M=L.useRef(g),D=L.useRef(w),P=L.useRef(!1);oP(()=>{let A=rP.init();return A.then(z=>(E.current=z)&&k(!1)).catch(z=>(z==null?void 0:z.type)!=="cancelation"&&console.error("Monaco initialization: error:",z)),()=>b.current?j():A.cancel()}),Pt(()=>{if(b.current&&E.current){let A=b.current.getOriginalEditor(),z=_i(E.current,e||"",r||n||"text",o||"");z!==A.getModel()&&A.setModel(z)}},[o],v),Pt(()=>{if(b.current&&E.current){let A=b.current.getModifiedEditor(),z=_i(E.current,t||"",i||n||"text",a||"");z!==A.getModel()&&A.setModel(z)}},[a],v),Pt(()=>{let A=b.current.getModifiedEditor();A.getOption(E.current.editor.EditorOption.readOnly)?A.setValue(t||""):t!==A.getValue()&&(A.executeEdits("",[{range:A.getModel().getFullModelRange(),text:t||"",forceMoveMarkers:!0}]),A.pushUndoStop())},[t],v),Pt(()=>{var A,z;(z=(A=b.current)==null?void 0:A.getModel())==null||z.original.setValue(e||"")},[e],v),Pt(()=>{let{original:A,modified:z}=b.current.getModel();E.current.editor.setModelLanguage(A,r||n||"text"),E.current.editor.setModelLanguage(z,i||n||"text")},[n,r,i],v),Pt(()=>{var A;(A=E.current)==null||A.editor.setTheme(u)},[u],v),Pt(()=>{var A;(A=b.current)==null||A.updateOptions(f)},[f],v);let O=L.useCallback(()=>{var R;if(!E.current)return;D.current(E.current);let A=_i(E.current,e||"",r||n||"text",o||""),z=_i(E.current,t||"",i||n||"text",a||"");(R=b.current)==null||R.setModel({original:A,modified:z})},[n,t,i,e,r,o,a]),q=L.useCallback(()=>{var A;!P.current&&T.current&&(b.current=E.current.editor.createDiffEditor(T.current,{automaticLayout:!0,...f}),O(),(A=E.current)==null||A.editor.setTheme(u),m(!0),P.current=!0)},[f,u,O]);L.useEffect(()=>{v&&M.current(b.current,E.current)},[v]),L.useEffect(()=>{!_&&!v&&q()},[_,v,q]);function j(){var z,R,C,I;let A=(z=b.current)==null?void 0:z.getModel();s||((R=A==null?void 0:A.original)==null||R.dispose()),l||((C=A==null?void 0:A.modified)==null||C.dispose()),(I=b.current)==null||I.dispose()}return Mt.createElement(iP,{width:h,height:d,isEditorReady:v,loading:c,_ref:T,className:p,wrapperProps:y})}var T8=N8;L.memo(T8);function P8(e){let t=L.useRef();return L.useEffect(()=>{t.current=e},[e]),t.current}var j8=P8,ms=new Map;function I8({defaultValue:e,defaultLanguage:t,defaultPath:n,value:r,language:i,path:o,theme:a="light",line:s,loading:l="Loading...",options:u={},overrideServices:c={},saveViewState:f=!0,keepCurrentModel:d=!1,width:h="100%",height:p="100%",className:y,wrapperProps:w={},beforeMount:g=Ho,onMount:v=Ho,onChange:m,onValidate:_=Ho}){let[k,b]=L.useState(!1),[E,T]=L.useState(!0),M=L.useRef(null),D=L.useRef(null),P=L.useRef(null),O=L.useRef(v),q=L.useRef(g),j=L.useRef(),A=L.useRef(r),z=j8(o),R=L.useRef(!1),C=L.useRef(!1);oP(()=>{let $=rP.init();return $.then(F=>(M.current=F)&&T(!1)).catch(F=>(F==null?void 0:F.type)!=="cancelation"&&console.error("Monaco initialization: error:",F)),()=>D.current?S():$.cancel()}),Pt(()=>{var F,N,H,X;let $=_i(M.current,e||r||"",t||i||"",o||n||"");$!==((F=D.current)==null?void 0:F.getModel())&&(f&&ms.set(z,(N=D.current)==null?void 0:N.saveViewState()),(H=D.current)==null||H.setModel($),f&&((X=D.current)==null||X.restoreViewState(ms.get(o))))},[o],k),Pt(()=>{var $;($=D.current)==null||$.updateOptions(u)},[u],k),Pt(()=>{!D.current||r===void 0||(D.current.getOption(M.current.editor.EditorOption.readOnly)?D.current.setValue(r):r!==D.current.getValue()&&(C.current=!0,D.current.executeEdits("",[{range:D.current.getModel().getFullModelRange(),text:r,forceMoveMarkers:!0}]),D.current.pushUndoStop(),C.current=!1))},[r],k),Pt(()=>{var F,N;let $=(F=D.current)==null?void 0:F.getModel();$&&i&&((N=M.current)==null||N.editor.setModelLanguage($,i))},[i],k),Pt(()=>{var $;s!==void 0&&(($=D.current)==null||$.revealLine(s))},[s],k),Pt(()=>{var $;($=M.current)==null||$.editor.setTheme(a)},[a],k);let I=L.useCallback(()=>{var $;if(!(!P.current||!M.current)&&!R.current){q.current(M.current);let F=o||n,N=_i(M.current,r||e||"",t||i||"",F||"");D.current=($=M.current)==null?void 0:$.editor.create(P.current,{model:N,automaticLayout:!0,...u},c),f&&D.current.restoreViewState(ms.get(F)),M.current.editor.setTheme(a),s!==void 0&&D.current.revealLine(s),b(!0),R.current=!0}},[e,t,n,r,i,o,u,c,f,a,s]);L.useEffect(()=>{k&&O.current(D.current,M.current)},[k]),L.useEffect(()=>{!E&&!k&&I()},[E,k,I]),A.current=r,L.useEffect(()=>{var $,F;k&&m&&(($=j.current)==null||$.dispose(),j.current=(F=D.current)==null?void 0:F.onDidChangeModelContent(N=>{C.current||m(D.current.getValue(),N)}))},[k,m]),L.useEffect(()=>{if(k){let $=M.current.editor.onDidChangeMarkers(F=>{var H;let N=(H=D.current.getModel())==null?void 0:H.uri;if(N&&F.find(X=>X.path===N.path)){let X=M.current.editor.getModelMarkers({resource:N});_==null||_(X)}});return()=>{$==null||$.dispose()}}return()=>{}},[k,_]);function S(){var $,F;($=j.current)==null||$.dispose(),d?f&&ms.set(o,D.current.saveViewState()):(F=D.current.getModel())==null||F.dispose(),D.current.dispose()}return Mt.createElement(iP,{width:h,height:p,isEditorReady:k,loading:l,_ref:P,className:y,wrapperProps:w})}var A8=I8,R8=L.memo(A8),sP=R8;function M8({code:e,onClose:t}){return x.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50",onClick:t,children:x.jsxs("div",{className:"bg-studio-panel rounded-lg w-4/5 h-4/5 flex flex-col",onClick:n=>n.stopPropagation(),children:[x.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-gray-700",children:[x.jsx("h2",{className:"text-lg font-semibold",children:"Generated Rust Code"}),x.jsx("button",{onClick:t,className:"text-gray-400 hover:text-white text-xl",children:""})]}),x.jsx("div",{className:"flex-1 overflow-auto p-4",children:e.files.map(n=>x.jsxs("div",{className:"mb-6",children:[x.jsxs("div",{className:"flex justify-between items-center mb-2",children:[x.jsx("h3",{className:"text-sm font-mono text-blue-400",children:n.path}),x.jsx("button",{onClick:()=>navigator.clipboard.writeText(n.content),className:"text-xs bg-gray-700 px-2 py-1 rounded hover:bg-gray-600",children:"Copy"})]}),x.jsx("div",{className:"border border-gray-700 rounded overflow-hidden",children:x.jsx(sP,{height:Math.min(600,n.content.split(`
`).length*19+20),language:n.path.endsWith(".toml")?"toml":"rust",value:n.content,theme:"vs-dark",options:{readOnly:!0,minimap:{enabled:!1},scrollBeyondLastLine:!1,fontSize:12}})})]},n.path))})]})})}function L8({building:e,success:t,output:n,path:r,onClose:i}){const o=L.useRef(null);return L.useEffect(()=>{o.current&&e&&(o.current.scrollTop=o.current.scrollHeight)},[n,e]),x.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50",onClick:i,children:x.jsxs("div",{className:"bg-studio-panel rounded-lg w-3/5 max-h-4/5 flex flex-col",onClick:a=>a.stopPropagation(),children:[x.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-gray-700",children:[x.jsx("h2",{className:`text-lg font-semibold ${e?"text-blue-400":t?"text-green-400":"text-red-400"}`,children:e?" Building...":t?" Build Successful":" Build Failed"}),x.jsx("button",{onClick:i,className:"text-gray-400 hover:text-white text-xl",children:""})]}),x.jsxs("div",{className:"flex-1 overflow-auto p-4",children:[r&&x.jsxs("div",{className:"mb-4 p-3 bg-green-900/30 rounded",children:[x.jsx("div",{className:"text-sm text-gray-400",children:"Binary path:"}),x.jsx("code",{className:"text-green-400 text-sm",children:r})]}),x.jsx("pre",{ref:o,className:"bg-gray-900 p-4 rounded text-xs overflow-auto whitespace-pre max-h-96",children:n})]})]})})}function O8({config:e,onUpdate:t,onClose:n}){return x.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50",onClick:n,children:x.jsxs("div",{className:"bg-studio-panel rounded-lg w-11/12 h-5/6 flex flex-col",onClick:r=>r.stopPropagation(),children:[x.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-gray-700",children:[x.jsxs("h2",{className:"text-lg font-semibold text-blue-400",children:[e.name||"function","_fn"]}),x.jsx("button",{onClick:n,className:"text-gray-400 hover:text-white text-xl",children:""})]}),x.jsx("div",{className:"flex-1 overflow-hidden",children:x.jsx(sP,{height:"100%",defaultLanguage:"rust",theme:"vs-dark",value:ZT(e),onChange:r=>r&&t({...e,code:wB(r,e)}),options:{minimap:{enabled:!1},fontSize:14,scrollBeyondLastLine:!1,automaticLayout:!0,tabSize:4}})}),x.jsx("div",{className:"p-4 border-t border-gray-700 flex justify-end",children:x.jsx("button",{onClick:n,className:"px-4 py-2 bg-blue-600 hover:bg-blue-500 rounded text-sm",children:"Done"})})]})})}function D8({onAutoLayout:e,onFitView:t}){const r=sn(i=>i.layoutDirection)==="LR";return x.jsxs("div",{className:"absolute top-2 left-2 z-10 flex gap-2",children:[x.jsxs("button",{onClick:e,className:"px-3 py-1.5 bg-gray-800 hover:bg-gray-700 border border-gray-600 rounded text-sm flex items-center gap-2 text-gray-200",title:`Click to switch to ${r?"Vertical":"Horizontal"} layout`,children:[x.jsx("span",{children:r?"":""})," Layout"]}),x.jsxs("button",{onClick:t,className:"px-3 py-1.5 bg-gray-800 hover:bg-gray-700 border border-gray-600 rounded text-sm flex items-center gap-2 text-gray-200",title:"Fit to View",children:[x.jsx("span",{children:""})," Fit"]})]})}function z8({selectedNodeId:e,selectedToolId:t,onDeleteNode:n,onDeleteTool:r,onDuplicateNode:i,onSelectNode:o,onSelectTool:a,onAutoLayout:s,onFitView:l}){L.useEffect(()=>{const u=c=>{const f=document.activeElement;if((f==null?void 0:f.tagName)==="INPUT"||(f==null?void 0:f.tagName)==="TEXTAREA")return;const d=c.metaKey||c.ctrlKey;if(c.key==="Delete"||c.key==="Backspace"){if(t&&e){const h=t.split("_");r(e,h.slice(-2).join("_")),a(null)}else e&&e!=="START"&&e!=="END"&&(n(e),o(null));c.preventDefault();return}if(d&&c.key==="d"&&e&&i){c.preventDefault();const h=i(e);h&&o(h);return}if(d&&c.key==="l"&&s){c.preventDefault(),s();return}if(d&&c.key==="0"&&l){c.preventDefault(),l();return}c.key==="Escape"&&(o(null),a(null))};return window.addEventListener("keydown",u),()=>window.removeEventListener("keydown",u)},[e,t,n,r,i,o,a,s,l])}function hv(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Nc,tw;function q8(){if(tw)return Nc;tw=1;function e(){this.__data__=[],this.size=0}return Nc=e,Nc}var Tc,nw;function Zi(){if(nw)return Tc;nw=1;function e(t,n){return t===n||t!==t&&n!==n}return Tc=e,Tc}var Pc,rw;function cu(){if(rw)return Pc;rw=1;var e=Zi();function t(n,r){for(var i=n.length;i--;)if(e(n[i][0],r))return i;return-1}return Pc=t,Pc}var jc,iw;function $8(){if(iw)return jc;iw=1;var e=cu(),t=Array.prototype,n=t.splice;function r(i){var o=this.__data__,a=e(o,i);if(a<0)return!1;var s=o.length-1;return a==s?o.pop():n.call(o,a,1),--this.size,!0}return jc=r,jc}var Ic,ow;function F8(){if(ow)return Ic;ow=1;var e=cu();function t(n){var r=this.__data__,i=e(r,n);return i<0?void 0:r[i][1]}return Ic=t,Ic}var Ac,aw;function B8(){if(aw)return Ac;aw=1;var e=cu();function t(n){return e(this.__data__,n)>-1}return Ac=t,Ac}var Rc,sw;function H8(){if(sw)return Rc;sw=1;var e=cu();function t(n,r){var i=this.__data__,o=e(i,n);return o<0?(++this.size,i.push([n,r])):i[o][1]=r,this}return Rc=t,Rc}var Mc,lw;function fu(){if(lw)return Mc;lw=1;var e=q8(),t=$8(),n=F8(),r=B8(),i=H8();function o(a){var s=-1,l=a==null?0:a.length;for(this.clear();++s<l;){var u=a[s];this.set(u[0],u[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,Mc=o,Mc}var Lc,uw;function V8(){if(uw)return Lc;uw=1;var e=fu();function t(){this.__data__=new e,this.size=0}return Lc=t,Lc}var Oc,cw;function U8(){if(cw)return Oc;cw=1;function e(t){var n=this.__data__,r=n.delete(t);return this.size=n.size,r}return Oc=e,Oc}var Dc,fw;function G8(){if(fw)return Dc;fw=1;function e(t){return this.__data__.get(t)}return Dc=e,Dc}var zc,dw;function W8(){if(dw)return zc;dw=1;function e(t){return this.__data__.has(t)}return zc=e,zc}var qc,hw;function lP(){if(hw)return qc;hw=1;var e=typeof rr=="object"&&rr&&rr.Object===Object&&rr;return qc=e,qc}var $c,pw;function cn(){if(pw)return $c;pw=1;var e=lP(),t=typeof self=="object"&&self&&self.Object===Object&&self,n=e||t||Function("return this")();return $c=n,$c}var Fc,gw;function Ji(){if(gw)return Fc;gw=1;var e=cn(),t=e.Symbol;return Fc=t,Fc}var Bc,mw;function Y8(){if(mw)return Bc;mw=1;var e=Ji(),t=Object.prototype,n=t.hasOwnProperty,r=t.toString,i=e?e.toStringTag:void 0;function o(a){var s=n.call(a,i),l=a[i];try{a[i]=void 0;var u=!0}catch{}var c=r.call(a);return u&&(s?a[i]=l:delete a[i]),c}return Bc=o,Bc}var Hc,yw;function K8(){if(yw)return Hc;yw=1;var e=Object.prototype,t=e.toString;function n(r){return t.call(r)}return Hc=n,Hc}var Vc,vw;function Jr(){if(vw)return Vc;vw=1;var e=Ji(),t=Y8(),n=K8(),r="[object Null]",i="[object Undefined]",o=e?e.toStringTag:void 0;function a(s){return s==null?s===void 0?i:r:o&&o in Object(s)?t(s):n(s)}return Vc=a,Vc}var Uc,xw;function Yt(){if(xw)return Uc;xw=1;function e(t){var n=typeof t;return t!=null&&(n=="object"||n=="function")}return Uc=e,Uc}var Gc,ww;function Ra(){if(ww)return Gc;ww=1;var e=Jr(),t=Yt(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",o="[object Proxy]";function a(s){if(!t(s))return!1;var l=e(s);return l==r||l==i||l==n||l==o}return Gc=a,Gc}var Wc,_w;function X8(){if(_w)return Wc;_w=1;var e=cn(),t=e["__core-js_shared__"];return Wc=t,Wc}var Yc,bw;function Q8(){if(bw)return Yc;bw=1;var e=X8(),t=function(){var r=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function n(r){return!!t&&t in r}return Yc=n,Yc}var Kc,Sw;function uP(){if(Sw)return Kc;Sw=1;var e=Function.prototype,t=e.toString;function n(r){if(r!=null){try{return t.call(r)}catch{}try{return r+""}catch{}}return""}return Kc=n,Kc}var Xc,Ew;function Z8(){if(Ew)return Xc;Ew=1;var e=Ra(),t=Q8(),n=Yt(),r=uP(),i=/[\\^$.*+?()[\]{}|]/g,o=/^\[object .+?Constructor\]$/,a=Function.prototype,s=Object.prototype,l=a.toString,u=s.hasOwnProperty,c=RegExp("^"+l.call(u).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function f(d){if(!n(d)||t(d))return!1;var h=e(d)?c:o;return h.test(r(d))}return Xc=f,Xc}var Qc,kw;function J8(){if(kw)return Qc;kw=1;function e(t,n){return t==null?void 0:t[n]}return Qc=e,Qc}var Zc,Cw;function ei(){if(Cw)return Zc;Cw=1;var e=Z8(),t=J8();function n(r,i){var o=t(r,i);return e(o)?o:void 0}return Zc=n,Zc}var Jc,Nw;function pv(){if(Nw)return Jc;Nw=1;var e=ei(),t=cn(),n=e(t,"Map");return Jc=n,Jc}var ef,Tw;function du(){if(Tw)return ef;Tw=1;var e=ei(),t=e(Object,"create");return ef=t,ef}var tf,Pw;function eH(){if(Pw)return tf;Pw=1;var e=du();function t(){this.__data__=e?e(null):{},this.size=0}return tf=t,tf}var nf,jw;function tH(){if(jw)return nf;jw=1;function e(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n}return nf=e,nf}var rf,Iw;function nH(){if(Iw)return rf;Iw=1;var e=du(),t="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(o){var a=this.__data__;if(e){var s=a[o];return s===t?void 0:s}return r.call(a,o)?a[o]:void 0}return rf=i,rf}var of,Aw;function rH(){if(Aw)return of;Aw=1;var e=du(),t=Object.prototype,n=t.hasOwnProperty;function r(i){var o=this.__data__;return e?o[i]!==void 0:n.call(o,i)}return of=r,of}var af,Rw;function iH(){if(Rw)return af;Rw=1;var e=du(),t="__lodash_hash_undefined__";function n(r,i){var o=this.__data__;return this.size+=this.has(r)?0:1,o[r]=e&&i===void 0?t:i,this}return af=n,af}var sf,Mw;function oH(){if(Mw)return sf;Mw=1;var e=eH(),t=tH(),n=nH(),r=rH(),i=iH();function o(a){var s=-1,l=a==null?0:a.length;for(this.clear();++s<l;){var u=a[s];this.set(u[0],u[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,sf=o,sf}var lf,Lw;function aH(){if(Lw)return lf;Lw=1;var e=oH(),t=fu(),n=pv();function r(){this.size=0,this.__data__={hash:new e,map:new(n||t),string:new e}}return lf=r,lf}var uf,Ow;function sH(){if(Ow)return uf;Ow=1;function e(t){var n=typeof t;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?t!=="__proto__":t===null}return uf=e,uf}var cf,Dw;function hu(){if(Dw)return cf;Dw=1;var e=sH();function t(n,r){var i=n.__data__;return e(r)?i[typeof r=="string"?"string":"hash"]:i.map}return cf=t,cf}var ff,zw;function lH(){if(zw)return ff;zw=1;var e=hu();function t(n){var r=e(this,n).delete(n);return this.size-=r?1:0,r}return ff=t,ff}var df,qw;function uH(){if(qw)return df;qw=1;var e=hu();function t(n){return e(this,n).get(n)}return df=t,df}var hf,$w;function cH(){if($w)return hf;$w=1;var e=hu();function t(n){return e(this,n).has(n)}return hf=t,hf}var pf,Fw;function fH(){if(Fw)return pf;Fw=1;var e=hu();function t(n,r){var i=e(this,n),o=i.size;return i.set(n,r),this.size+=i.size==o?0:1,this}return pf=t,pf}var gf,Bw;function gv(){if(Bw)return gf;Bw=1;var e=aH(),t=lH(),n=uH(),r=cH(),i=fH();function o(a){var s=-1,l=a==null?0:a.length;for(this.clear();++s<l;){var u=a[s];this.set(u[0],u[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,gf=o,gf}var mf,Hw;function dH(){if(Hw)return mf;Hw=1;var e=fu(),t=pv(),n=gv(),r=200;function i(o,a){var s=this.__data__;if(s instanceof e){var l=s.__data__;if(!t||l.length<r-1)return l.push([o,a]),this.size=++s.size,this;s=this.__data__=new n(l)}return s.set(o,a),this.size=s.size,this}return mf=i,mf}var yf,Vw;function pu(){if(Vw)return yf;Vw=1;var e=fu(),t=V8(),n=U8(),r=G8(),i=W8(),o=dH();function a(s){var l=this.__data__=new e(s);this.size=l.size}return a.prototype.clear=t,a.prototype.delete=n,a.prototype.get=r,a.prototype.has=i,a.prototype.set=o,yf=a,yf}var vf,Uw;function mv(){if(Uw)return vf;Uw=1;function e(t,n){for(var r=-1,i=t==null?0:t.length;++r<i&&n(t[r],r,t)!==!1;);return t}return vf=e,vf}var xf,Gw;function cP(){if(Gw)return xf;Gw=1;var e=ei(),t=function(){try{var n=e(Object,"defineProperty");return n({},"",{}),n}catch{}}();return xf=t,xf}var wf,Ww;function gu(){if(Ww)return wf;Ww=1;var e=cP();function t(n,r,i){r=="__proto__"&&e?e(n,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[r]=i}return wf=t,wf}var _f,Yw;function mu(){if(Yw)return _f;Yw=1;var e=gu(),t=Zi(),n=Object.prototype,r=n.hasOwnProperty;function i(o,a,s){var l=o[a];(!(r.call(o,a)&&t(l,s))||s===void 0&&!(a in o))&&e(o,a,s)}return _f=i,_f}var bf,Kw;function Ma(){if(Kw)return bf;Kw=1;var e=mu(),t=gu();function n(r,i,o,a){var s=!o;o||(o={});for(var l=-1,u=i.length;++l<u;){var c=i[l],f=a?a(o[c],r[c],c,o,r):void 0;f===void 0&&(f=r[c]),s?t(o,c,f):e(o,c,f)}return o}return bf=n,bf}var Sf,Xw;function hH(){if(Xw)return Sf;Xw=1;function e(t,n){for(var r=-1,i=Array(t);++r<t;)i[r]=n(r);return i}return Sf=e,Sf}var Ef,Qw;function kn(){if(Qw)return Ef;Qw=1;function e(t){return t!=null&&typeof t=="object"}return Ef=e,Ef}var kf,Zw;function pH(){if(Zw)return kf;Zw=1;var e=Jr(),t=kn(),n="[object Arguments]";function r(i){return t(i)&&e(i)==n}return kf=r,kf}var Cf,Jw;function La(){if(Jw)return Cf;Jw=1;var e=pH(),t=kn(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,o=e(function(){return arguments}())?e:function(a){return t(a)&&r.call(a,"callee")&&!i.call(a,"callee")};return Cf=o,Cf}var Nf,e_;function Ue(){if(e_)return Nf;e_=1;var e=Array.isArray;return Nf=e,Nf}var So={exports:{}},Tf,t_;function gH(){if(t_)return Tf;t_=1;function e(){return!1}return Tf=e,Tf}So.exports;var n_;function eo(){return n_||(n_=1,function(e,t){var n=cn(),r=gH(),i=t&&!t.nodeType&&t,o=i&&!0&&e&&!e.nodeType&&e,a=o&&o.exports===i,s=a?n.Buffer:void 0,l=s?s.isBuffer:void 0,u=l||r;e.exports=u}(So,So.exports)),So.exports}var Pf,r_;function yu(){if(r_)return Pf;r_=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function n(r,i){var o=typeof r;return i=i??e,!!i&&(o=="number"||o!="symbol"&&t.test(r))&&r>-1&&r%1==0&&r<i}return Pf=n,Pf}var jf,i_;function yv(){if(i_)return jf;i_=1;var e=9007199254740991;function t(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=e}return jf=t,jf}var If,o_;function mH(){if(o_)return If;o_=1;var e=Jr(),t=yv(),n=kn(),r="[object Arguments]",i="[object Array]",o="[object Boolean]",a="[object Date]",s="[object Error]",l="[object Function]",u="[object Map]",c="[object Number]",f="[object Object]",d="[object RegExp]",h="[object Set]",p="[object String]",y="[object WeakMap]",w="[object ArrayBuffer]",g="[object DataView]",v="[object Float32Array]",m="[object Float64Array]",_="[object Int8Array]",k="[object Int16Array]",b="[object Int32Array]",E="[object Uint8Array]",T="[object Uint8ClampedArray]",M="[object Uint16Array]",D="[object Uint32Array]",P={};P[v]=P[m]=P[_]=P[k]=P[b]=P[E]=P[T]=P[M]=P[D]=!0,P[r]=P[i]=P[w]=P[o]=P[g]=P[a]=P[s]=P[l]=P[u]=P[c]=P[f]=P[d]=P[h]=P[p]=P[y]=!1;function O(q){return n(q)&&t(q.length)&&!!P[e(q)]}return If=O,If}var Af,a_;function vu(){if(a_)return Af;a_=1;function e(t){return function(n){return t(n)}}return Af=e,Af}var Eo={exports:{}};Eo.exports;var s_;function vv(){return s_||(s_=1,function(e,t){var n=lP(),r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===r,a=o&&n.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||a&&a.binding&&a.binding("util")}catch{}}();e.exports=s}(Eo,Eo.exports)),Eo.exports}var Rf,l_;function Oa(){if(l_)return Rf;l_=1;var e=mH(),t=vu(),n=vv(),r=n&&n.isTypedArray,i=r?t(r):e;return Rf=i,Rf}var Mf,u_;function fP(){if(u_)return Mf;u_=1;var e=hH(),t=La(),n=Ue(),r=eo(),i=yu(),o=Oa(),a=Object.prototype,s=a.hasOwnProperty;function l(u,c){var f=n(u),d=!f&&t(u),h=!f&&!d&&r(u),p=!f&&!d&&!h&&o(u),y=f||d||h||p,w=y?e(u.length,String):[],g=w.length;for(var v in u)(c||s.call(u,v))&&!(y&&(v=="length"||h&&(v=="offset"||v=="parent")||p&&(v=="buffer"||v=="byteLength"||v=="byteOffset")||i(v,g)))&&w.push(v);return w}return Mf=l,Mf}var Lf,c_;function xu(){if(c_)return Lf;c_=1;var e=Object.prototype;function t(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||e;return n===i}return Lf=t,Lf}var Of,f_;function dP(){if(f_)return Of;f_=1;function e(t,n){return function(r){return t(n(r))}}return Of=e,Of}var Df,d_;function yH(){if(d_)return Df;d_=1;var e=dP(),t=e(Object.keys,Object);return Df=t,Df}var zf,h_;function xv(){if(h_)return zf;h_=1;var e=xu(),t=yH(),n=Object.prototype,r=n.hasOwnProperty;function i(o){if(!e(o))return t(o);var a=[];for(var s in Object(o))r.call(o,s)&&s!="constructor"&&a.push(s);return a}return zf=i,zf}var qf,p_;function Vn(){if(p_)return qf;p_=1;var e=Ra(),t=yv();function n(r){return r!=null&&t(r.length)&&!e(r)}return qf=n,qf}var $f,g_;function Er(){if(g_)return $f;g_=1;var e=fP(),t=xv(),n=Vn();function r(i){return n(i)?e(i):t(i)}return $f=r,$f}var Ff,m_;function vH(){if(m_)return Ff;m_=1;var e=Ma(),t=Er();function n(r,i){return r&&e(i,t(i),r)}return Ff=n,Ff}var Bf,y_;function xH(){if(y_)return Bf;y_=1;function e(t){var n=[];if(t!=null)for(var r in Object(t))n.push(r);return n}return Bf=e,Bf}var Hf,v_;function wH(){if(v_)return Hf;v_=1;var e=Yt(),t=xu(),n=xH(),r=Object.prototype,i=r.hasOwnProperty;function o(a){if(!e(a))return n(a);var s=t(a),l=[];for(var u in a)u=="constructor"&&(s||!i.call(a,u))||l.push(u);return l}return Hf=o,Hf}var Vf,x_;function ti(){if(x_)return Vf;x_=1;var e=fP(),t=wH(),n=Vn();function r(i){return n(i)?e(i,!0):t(i)}return Vf=r,Vf}var Uf,w_;function _H(){if(w_)return Uf;w_=1;var e=Ma(),t=ti();function n(r,i){return r&&e(i,t(i),r)}return Uf=n,Uf}var ko={exports:{}};ko.exports;var __;function hP(){return __||(__=1,function(e,t){var n=cn(),r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===r,a=o?n.Buffer:void 0,s=a?a.allocUnsafe:void 0;function l(u,c){if(c)return u.slice();var f=u.length,d=s?s(f):new u.constructor(f);return u.copy(d),d}e.exports=l}(ko,ko.exports)),ko.exports}var Gf,b_;function pP(){if(b_)return Gf;b_=1;function e(t,n){var r=-1,i=t.length;for(n||(n=Array(i));++r<i;)n[r]=t[r];return n}return Gf=e,Gf}var Wf,S_;function gP(){if(S_)return Wf;S_=1;function e(t,n){for(var r=-1,i=t==null?0:t.length,o=0,a=[];++r<i;){var s=t[r];n(s,r,t)&&(a[o++]=s)}return a}return Wf=e,Wf}var Yf,E_;function mP(){if(E_)return Yf;E_=1;function e(){return[]}return Yf=e,Yf}var Kf,k_;function wv(){if(k_)return Kf;k_=1;var e=gP(),t=mP(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,o=i?function(a){return a==null?[]:(a=Object(a),e(i(a),function(s){return r.call(a,s)}))}:t;return Kf=o,Kf}var Xf,C_;function bH(){if(C_)return Xf;C_=1;var e=Ma(),t=wv();function n(r,i){return e(r,t(r),i)}return Xf=n,Xf}var Qf,N_;function _v(){if(N_)return Qf;N_=1;function e(t,n){for(var r=-1,i=n.length,o=t.length;++r<i;)t[o+r]=n[r];return t}return Qf=e,Qf}var Zf,T_;function wu(){if(T_)return Zf;T_=1;var e=dP(),t=e(Object.getPrototypeOf,Object);return Zf=t,Zf}var Jf,P_;function yP(){if(P_)return Jf;P_=1;var e=_v(),t=wu(),n=wv(),r=mP(),i=Object.getOwnPropertySymbols,o=i?function(a){for(var s=[];a;)e(s,n(a)),a=t(a);return s}:r;return Jf=o,Jf}var ed,j_;function SH(){if(j_)return ed;j_=1;var e=Ma(),t=yP();function n(r,i){return e(r,t(r),i)}return ed=n,ed}var td,I_;function vP(){if(I_)return td;I_=1;var e=_v(),t=Ue();function n(r,i,o){var a=i(r);return t(r)?a:e(a,o(r))}return td=n,td}var nd,A_;function xP(){if(A_)return nd;A_=1;var e=vP(),t=wv(),n=Er();function r(i){return e(i,n,t)}return nd=r,nd}var rd,R_;function EH(){if(R_)return rd;R_=1;var e=vP(),t=yP(),n=ti();function r(i){return e(i,n,t)}return rd=r,rd}var id,M_;function kH(){if(M_)return id;M_=1;var e=ei(),t=cn(),n=e(t,"DataView");return id=n,id}var od,L_;function CH(){if(L_)return od;L_=1;var e=ei(),t=cn(),n=e(t,"Promise");return od=n,od}var ad,O_;function wP(){if(O_)return ad;O_=1;var e=ei(),t=cn(),n=e(t,"Set");return ad=n,ad}var sd,D_;function NH(){if(D_)return sd;D_=1;var e=ei(),t=cn(),n=e(t,"WeakMap");return sd=n,sd}var ld,z_;function to(){if(z_)return ld;z_=1;var e=kH(),t=pv(),n=CH(),r=wP(),i=NH(),o=Jr(),a=uP(),s="[object Map]",l="[object Object]",u="[object Promise]",c="[object Set]",f="[object WeakMap]",d="[object DataView]",h=a(e),p=a(t),y=a(n),w=a(r),g=a(i),v=o;return(e&&v(new e(new ArrayBuffer(1)))!=d||t&&v(new t)!=s||n&&v(n.resolve())!=u||r&&v(new r)!=c||i&&v(new i)!=f)&&(v=function(m){var _=o(m),k=_==l?m.constructor:void 0,b=k?a(k):"";if(b)switch(b){case h:return d;case p:return s;case y:return u;case w:return c;case g:return f}return _}),ld=v,ld}var ud,q_;function TH(){if(q_)return ud;q_=1;var e=Object.prototype,t=e.hasOwnProperty;function n(r){var i=r.length,o=new r.constructor(i);return i&&typeof r[0]=="string"&&t.call(r,"index")&&(o.index=r.index,o.input=r.input),o}return ud=n,ud}var cd,$_;function _P(){if($_)return cd;$_=1;var e=cn(),t=e.Uint8Array;return cd=t,cd}var fd,F_;function bv(){if(F_)return fd;F_=1;var e=_P();function t(n){var r=new n.constructor(n.byteLength);return new e(r).set(new e(n)),r}return fd=t,fd}var dd,B_;function PH(){if(B_)return dd;B_=1;var e=bv();function t(n,r){var i=r?e(n.buffer):n.buffer;return new n.constructor(i,n.byteOffset,n.byteLength)}return dd=t,dd}var hd,H_;function jH(){if(H_)return hd;H_=1;var e=/\w*$/;function t(n){var r=new n.constructor(n.source,e.exec(n));return r.lastIndex=n.lastIndex,r}return hd=t,hd}var pd,V_;function IH(){if(V_)return pd;V_=1;var e=Ji(),t=e?e.prototype:void 0,n=t?t.valueOf:void 0;function r(i){return n?Object(n.call(i)):{}}return pd=r,pd}var gd,U_;function bP(){if(U_)return gd;U_=1;var e=bv();function t(n,r){var i=r?e(n.buffer):n.buffer;return new n.constructor(i,n.byteOffset,n.length)}return gd=t,gd}var md,G_;function AH(){if(G_)return md;G_=1;var e=bv(),t=PH(),n=jH(),r=IH(),i=bP(),o="[object Boolean]",a="[object Date]",s="[object Map]",l="[object Number]",u="[object RegExp]",c="[object Set]",f="[object String]",d="[object Symbol]",h="[object ArrayBuffer]",p="[object DataView]",y="[object Float32Array]",w="[object Float64Array]",g="[object Int8Array]",v="[object Int16Array]",m="[object Int32Array]",_="[object Uint8Array]",k="[object Uint8ClampedArray]",b="[object Uint16Array]",E="[object Uint32Array]";function T(M,D,P){var O=M.constructor;switch(D){case h:return e(M);case o:case a:return new O(+M);case p:return t(M,P);case y:case w:case g:case v:case m:case _:case k:case b:case E:return i(M,P);case s:return new O;case l:case f:return new O(M);case u:return n(M);case c:return new O;case d:return r(M)}}return md=T,md}var yd,W_;function SP(){if(W_)return yd;W_=1;var e=Yt(),t=Object.create,n=function(){function r(){}return function(i){if(!e(i))return{};if(t)return t(i);r.prototype=i;var o=new r;return r.prototype=void 0,o}}();return yd=n,yd}var vd,Y_;function EP(){if(Y_)return vd;Y_=1;var e=SP(),t=wu(),n=xu();function r(i){return typeof i.constructor=="function"&&!n(i)?e(t(i)):{}}return vd=r,vd}var xd,K_;function RH(){if(K_)return xd;K_=1;var e=to(),t=kn(),n="[object Map]";function r(i){return t(i)&&e(i)==n}return xd=r,xd}var wd,X_;function MH(){if(X_)return wd;X_=1;var e=RH(),t=vu(),n=vv(),r=n&&n.isMap,i=r?t(r):e;return wd=i,wd}var _d,Q_;function LH(){if(Q_)return _d;Q_=1;var e=to(),t=kn(),n="[object Set]";function r(i){return t(i)&&e(i)==n}return _d=r,_d}var bd,Z_;function OH(){if(Z_)return bd;Z_=1;var e=LH(),t=vu(),n=vv(),r=n&&n.isSet,i=r?t(r):e;return bd=i,bd}var Sd,J_;function kP(){if(J_)return Sd;J_=1;var e=pu(),t=mv(),n=mu(),r=vH(),i=_H(),o=hP(),a=pP(),s=bH(),l=SH(),u=xP(),c=EH(),f=to(),d=TH(),h=AH(),p=EP(),y=Ue(),w=eo(),g=MH(),v=Yt(),m=OH(),_=Er(),k=ti(),b=1,E=2,T=4,M="[object Arguments]",D="[object Array]",P="[object Boolean]",O="[object Date]",q="[object Error]",j="[object Function]",A="[object GeneratorFunction]",z="[object Map]",R="[object Number]",C="[object Object]",I="[object RegExp]",S="[object Set]",$="[object String]",F="[object Symbol]",N="[object WeakMap]",H="[object ArrayBuffer]",X="[object DataView]",Y="[object Float32Array]",Q="[object Float64Array]",W="[object Int8Array]",ee="[object Int16Array]",le="[object Int32Array]",oe="[object Uint8Array]",te="[object Uint8ClampedArray]",ie="[object Uint16Array]",ge="[object Uint32Array]",ne={};ne[M]=ne[D]=ne[H]=ne[X]=ne[P]=ne[O]=ne[Y]=ne[Q]=ne[W]=ne[ee]=ne[le]=ne[z]=ne[R]=ne[C]=ne[I]=ne[S]=ne[$]=ne[F]=ne[oe]=ne[te]=ne[ie]=ne[ge]=!0,ne[q]=ne[j]=ne[N]=!1;function fe(se,Ge,$e,pt,gt,Ke){var Pe,$t=Ge&b,Ct=Ge&E,B=Ge&T;if($e&&(Pe=gt?$e(se,pt,gt,Ke):$e(se)),Pe!==void 0)return Pe;if(!v(se))return se;var U=y(se);if(U){if(Pe=d(se),!$t)return a(se,Pe)}else{var re=f(se),de=re==j||re==A;if(w(se))return o(se,$t);if(re==C||re==M||de&&!gt){if(Pe=Ct||de?{}:p(se),!$t)return Ct?l(se,i(Pe,se)):s(se,r(Pe,se))}else{if(!ne[re])return gt?se:{};Pe=h(se,re,$t)}}Ke||(Ke=new e);var me=Ke.get(se);if(me)return me;Ke.set(se,Pe),m(se)?se.forEach(function(Le){Pe.add(fe(Le,Ge,$e,Le,se,Ke))}):g(se)&&se.forEach(function(Le,Qe){Pe.set(Qe,fe(Le,Ge,$e,Qe,se,Ke))});var Xe=B?Ct?c:u:Ct?k:_,lt=U?void 0:Xe(se);return t(lt||se,function(Le,Qe){lt&&(Qe=Le,Le=se[Qe]),n(Pe,Qe,fe(Le,Ge,$e,Qe,se,Ke))}),Pe}return Sd=fe,Sd}var Ed,eb;function DH(){if(eb)return Ed;eb=1;var e=kP(),t=4;function n(r){return e(r,t)}return Ed=n,Ed}var kd,tb;function Sv(){if(tb)return kd;tb=1;function e(t){return function(){return t}}return kd=e,kd}var Cd,nb;function zH(){if(nb)return Cd;nb=1;function e(t){return function(n,r,i){for(var o=-1,a=Object(n),s=i(n),l=s.length;l--;){var u=s[t?l:++o];if(r(a[u],u,a)===!1)break}return n}}return Cd=e,Cd}var Nd,rb;function Ev(){if(rb)return Nd;rb=1;var e=zH(),t=e();return Nd=t,Nd}var Td,ib;function kv(){if(ib)return Td;ib=1;var e=Ev(),t=Er();function n(r,i){return r&&e(r,i,t)}return Td=n,Td}var Pd,ob;function qH(){if(ob)return Pd;ob=1;var e=Vn();function t(n,r){return function(i,o){if(i==null)return i;if(!e(i))return n(i,o);for(var a=i.length,s=r?a:-1,l=Object(i);(r?s--:++s<a)&&o(l[s],s,l)!==!1;);return i}}return Pd=t,Pd}var jd,ab;function _u(){if(ab)return jd;ab=1;var e=kv(),t=qH(),n=t(e);return jd=n,jd}var Id,sb;function ni(){if(sb)return Id;sb=1;function e(t){return t}return Id=e,Id}var Ad,lb;function CP(){if(lb)return Ad;lb=1;var e=ni();function t(n){return typeof n=="function"?n:e}return Ad=t,Ad}var Rd,ub;function NP(){if(ub)return Rd;ub=1;var e=mv(),t=_u(),n=CP(),r=Ue();function i(o,a){var s=r(o)?e:t;return s(o,n(a))}return Rd=i,Rd}var Md,cb;function TP(){return cb||(cb=1,Md=NP()),Md}var Ld,fb;function $H(){if(fb)return Ld;fb=1;var e=_u();function t(n,r){var i=[];return e(n,function(o,a,s){r(o,a,s)&&i.push(o)}),i}return Ld=t,Ld}var Od,db;function FH(){if(db)return Od;db=1;var e="__lodash_hash_undefined__";function t(n){return this.__data__.set(n,e),this}return Od=t,Od}var Dd,hb;function BH(){if(hb)return Dd;hb=1;function e(t){return this.__data__.has(t)}return Dd=e,Dd}var zd,pb;function PP(){if(pb)return zd;pb=1;var e=gv(),t=FH(),n=BH();function r(i){var o=-1,a=i==null?0:i.length;for(this.__data__=new e;++o<a;)this.add(i[o])}return r.prototype.add=r.prototype.push=t,r.prototype.has=n,zd=r,zd}var qd,gb;function HH(){if(gb)return qd;gb=1;function e(t,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(t[r],r,t))return!0;return!1}return qd=e,qd}var $d,mb;function jP(){if(mb)return $d;mb=1;function e(t,n){return t.has(n)}return $d=e,$d}var Fd,yb;function IP(){if(yb)return Fd;yb=1;var e=PP(),t=HH(),n=jP(),r=1,i=2;function o(a,s,l,u,c,f){var d=l&r,h=a.length,p=s.length;if(h!=p&&!(d&&p>h))return!1;var y=f.get(a),w=f.get(s);if(y&&w)return y==s&&w==a;var g=-1,v=!0,m=l&i?new e:void 0;for(f.set(a,s),f.set(s,a);++g<h;){var _=a[g],k=s[g];if(u)var b=d?u(k,_,g,s,a,f):u(_,k,g,a,s,f);if(b!==void 0){if(b)continue;v=!1;break}if(m){if(!t(s,function(E,T){if(!n(m,T)&&(_===E||c(_,E,l,u,f)))return m.push(T)})){v=!1;break}}else if(!(_===k||c(_,k,l,u,f))){v=!1;break}}return f.delete(a),f.delete(s),v}return Fd=o,Fd}var Bd,vb;function VH(){if(vb)return Bd;vb=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(i,o){r[++n]=[o,i]}),r}return Bd=e,Bd}var Hd,xb;function Cv(){if(xb)return Hd;xb=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(i){r[++n]=i}),r}return Hd=e,Hd}var Vd,wb;function UH(){if(wb)return Vd;wb=1;var e=Ji(),t=_P(),n=Zi(),r=IP(),i=VH(),o=Cv(),a=1,s=2,l="[object Boolean]",u="[object Date]",c="[object Error]",f="[object Map]",d="[object Number]",h="[object RegExp]",p="[object Set]",y="[object String]",w="[object Symbol]",g="[object ArrayBuffer]",v="[object DataView]",m=e?e.prototype:void 0,_=m?m.valueOf:void 0;function k(b,E,T,M,D,P,O){switch(T){case v:if(b.byteLength!=E.byteLength||b.byteOffset!=E.byteOffset)return!1;b=b.buffer,E=E.buffer;case g:return!(b.byteLength!=E.byteLength||!P(new t(b),new t(E)));case l:case u:case d:return n(+b,+E);case c:return b.name==E.name&&b.message==E.message;case h:case y:return b==E+"";case f:var q=i;case p:var j=M&a;if(q||(q=o),b.size!=E.size&&!j)return!1;var A=O.get(b);if(A)return A==E;M|=s,O.set(b,E);var z=r(q(b),q(E),M,D,P,O);return O.delete(b),z;case w:if(_)return _.call(b)==_.call(E)}return!1}return Vd=k,Vd}var Ud,_b;function GH(){if(_b)return Ud;_b=1;var e=xP(),t=1,n=Object.prototype,r=n.hasOwnProperty;function i(o,a,s,l,u,c){var f=s&t,d=e(o),h=d.length,p=e(a),y=p.length;if(h!=y&&!f)return!1;for(var w=h;w--;){var g=d[w];if(!(f?g in a:r.call(a,g)))return!1}var v=c.get(o),m=c.get(a);if(v&&m)return v==a&&m==o;var _=!0;c.set(o,a),c.set(a,o);for(var k=f;++w<h;){g=d[w];var b=o[g],E=a[g];if(l)var T=f?l(E,b,g,a,o,c):l(b,E,g,o,a,c);if(!(T===void 0?b===E||u(b,E,s,l,c):T)){_=!1;break}k||(k=g=="constructor")}if(_&&!k){var M=o.constructor,D=a.constructor;M!=D&&"constructor"in o&&"constructor"in a&&!(typeof M=="function"&&M instanceof M&&typeof D=="function"&&D instanceof D)&&(_=!1)}return c.delete(o),c.delete(a),_}return Ud=i,Ud}var Gd,bb;function WH(){if(bb)return Gd;bb=1;var e=pu(),t=IP(),n=UH(),r=GH(),i=to(),o=Ue(),a=eo(),s=Oa(),l=1,u="[object Arguments]",c="[object Array]",f="[object Object]",d=Object.prototype,h=d.hasOwnProperty;function p(y,w,g,v,m,_){var k=o(y),b=o(w),E=k?c:i(y),T=b?c:i(w);E=E==u?f:E,T=T==u?f:T;var M=E==f,D=T==f,P=E==T;if(P&&a(y)){if(!a(w))return!1;k=!0,M=!1}if(P&&!M)return _||(_=new e),k||s(y)?t(y,w,g,v,m,_):n(y,w,E,g,v,m,_);if(!(g&l)){var O=M&&h.call(y,"__wrapped__"),q=D&&h.call(w,"__wrapped__");if(O||q){var j=O?y.value():y,A=q?w.value():w;return _||(_=new e),m(j,A,g,v,_)}}return P?(_||(_=new e),r(y,w,g,v,m,_)):!1}return Gd=p,Gd}var Wd,Sb;function AP(){if(Sb)return Wd;Sb=1;var e=WH(),t=kn();function n(r,i,o,a,s){return r===i?!0:r==null||i==null||!t(r)&&!t(i)?r!==r&&i!==i:e(r,i,o,a,n,s)}return Wd=n,Wd}var Yd,Eb;function YH(){if(Eb)return Yd;Eb=1;var e=pu(),t=AP(),n=1,r=2;function i(o,a,s,l){var u=s.length,c=u,f=!l;if(o==null)return!c;for(o=Object(o);u--;){var d=s[u];if(f&&d[2]?d[1]!==o[d[0]]:!(d[0]in o))return!1}for(;++u<c;){d=s[u];var h=d[0],p=o[h],y=d[1];if(f&&d[2]){if(p===void 0&&!(h in o))return!1}else{var w=new e;if(l)var g=l(p,y,h,o,a,w);if(!(g===void 0?t(y,p,n|r,l,w):g))return!1}}return!0}return Yd=i,Yd}var Kd,kb;function RP(){if(kb)return Kd;kb=1;var e=Yt();function t(n){return n===n&&!e(n)}return Kd=t,Kd}var Xd,Cb;function KH(){if(Cb)return Xd;Cb=1;var e=RP(),t=Er();function n(r){for(var i=t(r),o=i.length;o--;){var a=i[o],s=r[a];i[o]=[a,s,e(s)]}return i}return Xd=n,Xd}var Qd,Nb;function MP(){if(Nb)return Qd;Nb=1;function e(t,n){return function(r){return r==null?!1:r[t]===n&&(n!==void 0||t in Object(r))}}return Qd=e,Qd}var Zd,Tb;function XH(){if(Tb)return Zd;Tb=1;var e=YH(),t=KH(),n=MP();function r(i){var o=t(i);return o.length==1&&o[0][2]?n(o[0][0],o[0][1]):function(a){return a===i||e(a,i,o)}}return Zd=r,Zd}var Jd,Pb;function no(){if(Pb)return Jd;Pb=1;var e=Jr(),t=kn(),n="[object Symbol]";function r(i){return typeof i=="symbol"||t(i)&&e(i)==n}return Jd=r,Jd}var eh,jb;function Nv(){if(jb)return eh;jb=1;var e=Ue(),t=no(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(o,a){if(e(o))return!1;var s=typeof o;return s=="number"||s=="symbol"||s=="boolean"||o==null||t(o)?!0:r.test(o)||!n.test(o)||a!=null&&o in Object(a)}return eh=i,eh}var th,Ib;function QH(){if(Ib)return th;Ib=1;var e=gv(),t="Expected a function";function n(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(t);var o=function(){var a=arguments,s=i?i.apply(this,a):a[0],l=o.cache;if(l.has(s))return l.get(s);var u=r.apply(this,a);return o.cache=l.set(s,u)||l,u};return o.cache=new(n.Cache||e),o}return n.Cache=e,th=n,th}var nh,Ab;function ZH(){if(Ab)return nh;Ab=1;var e=QH(),t=500;function n(r){var i=e(r,function(a){return o.size===t&&o.clear(),a}),o=i.cache;return i}return nh=n,nh}var rh,Rb;function JH(){if(Rb)return rh;Rb=1;var e=ZH(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=e(function(i){var o=[];return i.charCodeAt(0)===46&&o.push(""),i.replace(t,function(a,s,l,u){o.push(l?u.replace(n,"$1"):s||a)}),o});return rh=r,rh}var ih,Mb;function bu(){if(Mb)return ih;Mb=1;function e(t,n){for(var r=-1,i=t==null?0:t.length,o=Array(i);++r<i;)o[r]=n(t[r],r,t);return o}return ih=e,ih}var oh,Lb;function eV(){if(Lb)return oh;Lb=1;var e=Ji(),t=bu(),n=Ue(),r=no(),i=e?e.prototype:void 0,o=i?i.toString:void 0;function a(s){if(typeof s=="string")return s;if(n(s))return t(s,a)+"";if(r(s))return o?o.call(s):"";var l=s+"";return l=="0"&&1/s==-1/0?"-0":l}return oh=a,oh}var ah,Ob;function LP(){if(Ob)return ah;Ob=1;var e=eV();function t(n){return n==null?"":e(n)}return ah=t,ah}var sh,Db;function Su(){if(Db)return sh;Db=1;var e=Ue(),t=Nv(),n=JH(),r=LP();function i(o,a){return e(o)?o:t(o,a)?[o]:n(r(o))}return sh=i,sh}var lh,zb;function Da(){if(zb)return lh;zb=1;var e=no();function t(n){if(typeof n=="string"||e(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return lh=t,lh}var uh,qb;function Eu(){if(qb)return uh;qb=1;var e=Su(),t=Da();function n(r,i){i=e(i,r);for(var o=0,a=i.length;r!=null&&o<a;)r=r[t(i[o++])];return o&&o==a?r:void 0}return uh=n,uh}var ch,$b;function tV(){if($b)return ch;$b=1;var e=Eu();function t(n,r,i){var o=n==null?void 0:e(n,r);return o===void 0?i:o}return ch=t,ch}var fh,Fb;function nV(){if(Fb)return fh;Fb=1;function e(t,n){return t!=null&&n in Object(t)}return fh=e,fh}var dh,Bb;function OP(){if(Bb)return dh;Bb=1;var e=Su(),t=La(),n=Ue(),r=yu(),i=yv(),o=Da();function a(s,l,u){l=e(l,s);for(var c=-1,f=l.length,d=!1;++c<f;){var h=o(l[c]);if(!(d=s!=null&&u(s,h)))break;s=s[h]}return d||++c!=f?d:(f=s==null?0:s.length,!!f&&i(f)&&r(h,f)&&(n(s)||t(s)))}return dh=a,dh}var hh,Hb;function DP(){if(Hb)return hh;Hb=1;var e=nV(),t=OP();function n(r,i){return r!=null&&t(r,i,e)}return hh=n,hh}var ph,Vb;function rV(){if(Vb)return ph;Vb=1;var e=AP(),t=tV(),n=DP(),r=Nv(),i=RP(),o=MP(),a=Da(),s=1,l=2;function u(c,f){return r(c)&&i(f)?o(a(c),f):function(d){var h=t(d,c);return h===void 0&&h===f?n(d,c):e(f,h,s|l)}}return ph=u,ph}var gh,Ub;function zP(){if(Ub)return gh;Ub=1;function e(t){return function(n){return n==null?void 0:n[t]}}return gh=e,gh}var mh,Gb;function iV(){if(Gb)return mh;Gb=1;var e=Eu();function t(n){return function(r){return e(r,n)}}return mh=t,mh}var yh,Wb;function oV(){if(Wb)return yh;Wb=1;var e=zP(),t=iV(),n=Nv(),r=Da();function i(o){return n(o)?e(r(o)):t(o)}return yh=i,yh}var vh,Yb;function Un(){if(Yb)return vh;Yb=1;var e=XH(),t=rV(),n=ni(),r=Ue(),i=oV();function o(a){return typeof a=="function"?a:a==null?n:typeof a=="object"?r(a)?t(a[0],a[1]):e(a):i(a)}return vh=o,vh}var xh,Kb;function qP(){if(Kb)return xh;Kb=1;var e=gP(),t=$H(),n=Un(),r=Ue();function i(o,a){var s=r(o)?e:t;return s(o,n(a,3))}return xh=i,xh}var wh,Xb;function aV(){if(Xb)return wh;Xb=1;var e=Object.prototype,t=e.hasOwnProperty;function n(r,i){return r!=null&&t.call(r,i)}return wh=n,wh}var _h,Qb;function $P(){if(Qb)return _h;Qb=1;var e=aV(),t=OP();function n(r,i){return r!=null&&t(r,i,e)}return _h=n,_h}var bh,Zb;function sV(){if(Zb)return bh;Zb=1;var e=xv(),t=to(),n=La(),r=Ue(),i=Vn(),o=eo(),a=xu(),s=Oa(),l="[object Map]",u="[object Set]",c=Object.prototype,f=c.hasOwnProperty;function d(h){if(h==null)return!0;if(i(h)&&(r(h)||typeof h=="string"||typeof h.splice=="function"||o(h)||s(h)||n(h)))return!h.length;var p=t(h);if(p==l||p==u)return!h.size;if(a(h))return!e(h).length;for(var y in h)if(f.call(h,y))return!1;return!0}return bh=d,bh}var Sh,Jb;function FP(){if(Jb)return Sh;Jb=1;function e(t){return t===void 0}return Sh=e,Sh}var Eh,eS;function BP(){if(eS)return Eh;eS=1;var e=_u(),t=Vn();function n(r,i){var o=-1,a=t(r)?Array(r.length):[];return e(r,function(s,l,u){a[++o]=i(s,l,u)}),a}return Eh=n,Eh}var kh,tS;function HP(){if(tS)return kh;tS=1;var e=bu(),t=Un(),n=BP(),r=Ue();function i(o,a){var s=r(o)?e:n;return s(o,t(a,3))}return kh=i,kh}var Ch,nS;function lV(){if(nS)return Ch;nS=1;function e(t,n,r,i){var o=-1,a=t==null?0:t.length;for(i&&a&&(r=t[++o]);++o<a;)r=n(r,t[o],o,t);return r}return Ch=e,Ch}var Nh,rS;function uV(){if(rS)return Nh;rS=1;function e(t,n,r,i,o){return o(t,function(a,s,l){r=i?(i=!1,a):n(r,a,s,l)}),r}return Nh=e,Nh}var Th,iS;function VP(){if(iS)return Th;iS=1;var e=lV(),t=_u(),n=Un(),r=uV(),i=Ue();function o(a,s,l){var u=i(a)?e:r,c=arguments.length<3;return u(a,n(s,4),l,c,t)}return Th=o,Th}var Ph,oS;function cV(){if(oS)return Ph;oS=1;var e=Jr(),t=Ue(),n=kn(),r="[object String]";function i(o){return typeof o=="string"||!t(o)&&n(o)&&e(o)==r}return Ph=i,Ph}var jh,aS;function fV(){if(aS)return jh;aS=1;var e=zP(),t=e("length");return jh=t,jh}var Ih,sS;function dV(){if(sS)return Ih;sS=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=t+n+r,o="\\ufe0e\\ufe0f",a="\\u200d",s=RegExp("["+a+e+i+o+"]");function l(u){return s.test(u)}return Ih=l,Ih}var Ah,lS;function hV(){if(lS)return Ah;lS=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=t+n+r,o="\\ufe0e\\ufe0f",a="["+e+"]",s="["+i+"]",l="\\ud83c[\\udffb-\\udfff]",u="(?:"+s+"|"+l+")",c="[^"+e+"]",f="(?:\\ud83c[\\udde6-\\uddff]){2}",d="[\\ud800-\\udbff][\\udc00-\\udfff]",h="\\u200d",p=u+"?",y="["+o+"]?",w="(?:"+h+"(?:"+[c,f,d].join("|")+")"+y+p+")*",g=y+p+w,v="(?:"+[c+s+"?",s,f,d,a].join("|")+")",m=RegExp(l+"(?="+l+")|"+v+g,"g");function _(k){for(var b=m.lastIndex=0;m.test(k);)++b;return b}return Ah=_,Ah}var Rh,uS;function pV(){if(uS)return Rh;uS=1;var e=fV(),t=dV(),n=hV();function r(i){return t(i)?n(i):e(i)}return Rh=r,Rh}var Mh,cS;function gV(){if(cS)return Mh;cS=1;var e=xv(),t=to(),n=Vn(),r=cV(),i=pV(),o="[object Map]",a="[object Set]";function s(l){if(l==null)return 0;if(n(l))return r(l)?i(l):l.length;var u=t(l);return u==o||u==a?l.size:e(l).length}return Mh=s,Mh}var Lh,fS;function mV(){if(fS)return Lh;fS=1;var e=mv(),t=SP(),n=kv(),r=Un(),i=wu(),o=Ue(),a=eo(),s=Ra(),l=Yt(),u=Oa();function c(f,d,h){var p=o(f),y=p||a(f)||u(f);if(d=r(d,4),h==null){var w=f&&f.constructor;y?h=p?new w:[]:l(f)?h=s(w)?t(i(f)):{}:h={}}return(y?e:n)(f,function(g,v,m){return d(h,g,v,m)}),h}return Lh=c,Lh}var Oh,dS;function yV(){if(dS)return Oh;dS=1;var e=Ji(),t=La(),n=Ue(),r=e?e.isConcatSpreadable:void 0;function i(o){return n(o)||t(o)||!!(r&&o&&o[r])}return Oh=i,Oh}var Dh,hS;function Tv(){if(hS)return Dh;hS=1;var e=_v(),t=yV();function n(r,i,o,a,s){var l=-1,u=r.length;for(o||(o=t),s||(s=[]);++l<u;){var c=r[l];i>0&&o(c)?i>1?n(c,i-1,o,a,s):e(s,c):a||(s[s.length]=c)}return s}return Dh=n,Dh}var zh,pS;function vV(){if(pS)return zh;pS=1;function e(t,n,r){switch(r.length){case 0:return t.call(n);case 1:return t.call(n,r[0]);case 2:return t.call(n,r[0],r[1]);case 3:return t.call(n,r[0],r[1],r[2])}return t.apply(n,r)}return zh=e,zh}var qh,gS;function UP(){if(gS)return qh;gS=1;var e=vV(),t=Math.max;function n(r,i,o){return i=t(i===void 0?r.length-1:i,0),function(){for(var a=arguments,s=-1,l=t(a.length-i,0),u=Array(l);++s<l;)u[s]=a[i+s];s=-1;for(var c=Array(i+1);++s<i;)c[s]=a[s];return c[i]=o(u),e(r,this,c)}}return qh=n,qh}var $h,mS;function xV(){if(mS)return $h;mS=1;var e=Sv(),t=cP(),n=ni(),r=t?function(i,o){return t(i,"toString",{configurable:!0,enumerable:!1,value:e(o),writable:!0})}:n;return $h=r,$h}var Fh,yS;function wV(){if(yS)return Fh;yS=1;var e=800,t=16,n=Date.now;function r(i){var o=0,a=0;return function(){var s=n(),l=t-(s-a);if(a=s,l>0){if(++o>=e)return arguments[0]}else o=0;return i.apply(void 0,arguments)}}return Fh=r,Fh}var Bh,vS;function GP(){if(vS)return Bh;vS=1;var e=xV(),t=wV(),n=t(e);return Bh=n,Bh}var Hh,xS;function ku(){if(xS)return Hh;xS=1;var e=ni(),t=UP(),n=GP();function r(i,o){return n(t(i,o,e),i+"")}return Hh=r,Hh}var Vh,wS;function WP(){if(wS)return Vh;wS=1;function e(t,n,r,i){for(var o=t.length,a=r+(i?1:-1);i?a--:++a<o;)if(n(t[a],a,t))return a;return-1}return Vh=e,Vh}var Uh,_S;function _V(){if(_S)return Uh;_S=1;function e(t){return t!==t}return Uh=e,Uh}var Gh,bS;function bV(){if(bS)return Gh;bS=1;function e(t,n,r){for(var i=r-1,o=t.length;++i<o;)if(t[i]===n)return i;return-1}return Gh=e,Gh}var Wh,SS;function SV(){if(SS)return Wh;SS=1;var e=WP(),t=_V(),n=bV();function r(i,o,a){return o===o?n(i,o,a):e(i,t,a)}return Wh=r,Wh}var Yh,ES;function EV(){if(ES)return Yh;ES=1;var e=SV();function t(n,r){var i=n==null?0:n.length;return!!i&&e(n,r,0)>-1}return Yh=t,Yh}var Kh,kS;function kV(){if(kS)return Kh;kS=1;function e(t,n,r){for(var i=-1,o=t==null?0:t.length;++i<o;)if(r(n,t[i]))return!0;return!1}return Kh=e,Kh}var Xh,CS;function CV(){if(CS)return Xh;CS=1;function e(){}return Xh=e,Xh}var Qh,NS;function NV(){if(NS)return Qh;NS=1;var e=wP(),t=CV(),n=Cv(),r=1/0,i=e&&1/n(new e([,-0]))[1]==r?function(o){return new e(o)}:t;return Qh=i,Qh}var Zh,TS;function TV(){if(TS)return Zh;TS=1;var e=PP(),t=EV(),n=kV(),r=jP(),i=NV(),o=Cv(),a=200;function s(l,u,c){var f=-1,d=t,h=l.length,p=!0,y=[],w=y;if(c)p=!1,d=n;else if(h>=a){var g=u?null:i(l);if(g)return o(g);p=!1,d=r,w=new e}else w=u?[]:y;e:for(;++f<h;){var v=l[f],m=u?u(v):v;if(v=c||v!==0?v:0,p&&m===m){for(var _=w.length;_--;)if(w[_]===m)continue e;u&&w.push(m),y.push(v)}else d(w,m,c)||(w!==y&&w.push(m),y.push(v))}return y}return Zh=s,Zh}var Jh,PS;function YP(){if(PS)return Jh;PS=1;var e=Vn(),t=kn();function n(r){return t(r)&&e(r)}return Jh=n,Jh}var ep,jS;function PV(){if(jS)return ep;jS=1;var e=Tv(),t=ku(),n=TV(),r=YP(),i=t(function(o){return n(e(o,1,r,!0))});return ep=i,ep}var tp,IS;function jV(){if(IS)return tp;IS=1;var e=bu();function t(n,r){return e(r,function(i){return n[i]})}return tp=t,tp}var np,AS;function KP(){if(AS)return np;AS=1;var e=jV(),t=Er();function n(r){return r==null?[]:e(r,t(r))}return np=n,np}var rp,RS;function Kt(){if(RS)return rp;RS=1;var e;if(typeof hv=="function")try{e={clone:DH(),constant:Sv(),each:TP(),filter:qP(),has:$P(),isArray:Ue(),isEmpty:sV(),isFunction:Ra(),isUndefined:FP(),keys:Er(),map:HP(),reduce:VP(),size:gV(),transform:mV(),union:PV(),values:KP()}}catch{}return e||(e=window._),rp=e,rp}var ip,MS;function Pv(){if(MS)return ip;MS=1;var e=Kt();ip=i;var t="\0",n="\0",r="";function i(c){this._isDirected=e.has(c,"directed")?c.directed:!0,this._isMultigraph=e.has(c,"multigraph")?c.multigraph:!1,this._isCompound=e.has(c,"compound")?c.compound:!1,this._label=void 0,this._defaultNodeLabelFn=e.constant(void 0),this._defaultEdgeLabelFn=e.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[n]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}i.prototype._nodeCount=0,i.prototype._edgeCount=0,i.prototype.isDirected=function(){return this._isDirected},i.prototype.isMultigraph=function(){return this._isMultigraph},i.prototype.isCompound=function(){return this._isCompound},i.prototype.setGraph=function(c){return this._label=c,this},i.prototype.graph=function(){return this._label},i.prototype.setDefaultNodeLabel=function(c){return e.isFunction(c)||(c=e.constant(c)),this._defaultNodeLabelFn=c,this},i.prototype.nodeCount=function(){return this._nodeCount},i.prototype.nodes=function(){return e.keys(this._nodes)},i.prototype.sources=function(){var c=this;return e.filter(this.nodes(),function(f){return e.isEmpty(c._in[f])})},i.prototype.sinks=function(){var c=this;return e.filter(this.nodes(),function(f){return e.isEmpty(c._out[f])})},i.prototype.setNodes=function(c,f){var d=arguments,h=this;return e.each(c,function(p){d.length>1?h.setNode(p,f):h.setNode(p)}),this},i.prototype.setNode=function(c,f){return e.has(this._nodes,c)?(arguments.length>1&&(this._nodes[c]=f),this):(this._nodes[c]=arguments.length>1?f:this._defaultNodeLabelFn(c),this._isCompound&&(this._parent[c]=n,this._children[c]={},this._children[n][c]=!0),this._in[c]={},this._preds[c]={},this._out[c]={},this._sucs[c]={},++this._nodeCount,this)},i.prototype.node=function(c){return this._nodes[c]},i.prototype.hasNode=function(c){return e.has(this._nodes,c)},i.prototype.removeNode=function(c){var f=this;if(e.has(this._nodes,c)){var d=function(h){f.removeEdge(f._edgeObjs[h])};delete this._nodes[c],this._isCompound&&(this._removeFromParentsChildList(c),delete this._parent[c],e.each(this.children(c),function(h){f.setParent(h)}),delete this._children[c]),e.each(e.keys(this._in[c]),d),delete this._in[c],delete this._preds[c],e.each(e.keys(this._out[c]),d),delete this._out[c],delete this._sucs[c],--this._nodeCount}return this},i.prototype.setParent=function(c,f){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(e.isUndefined(f))f=n;else{f+="";for(var d=f;!e.isUndefined(d);d=this.parent(d))if(d===c)throw new Error("Setting "+f+" as parent of "+c+" would create a cycle");this.setNode(f)}return this.setNode(c),this._removeFromParentsChildList(c),this._parent[c]=f,this._children[f][c]=!0,this},i.prototype._removeFromParentsChildList=function(c){delete this._children[this._parent[c]][c]},i.prototype.parent=function(c){if(this._isCompound){var f=this._parent[c];if(f!==n)return f}},i.prototype.children=function(c){if(e.isUndefined(c)&&(c=n),this._isCompound){var f=this._children[c];if(f)return e.keys(f)}else{if(c===n)return this.nodes();if(this.hasNode(c))return[]}},i.prototype.predecessors=function(c){var f=this._preds[c];if(f)return e.keys(f)},i.prototype.successors=function(c){var f=this._sucs[c];if(f)return e.keys(f)},i.prototype.neighbors=function(c){var f=this.predecessors(c);if(f)return e.union(f,this.successors(c))},i.prototype.isLeaf=function(c){var f;return this.isDirected()?f=this.successors(c):f=this.neighbors(c),f.length===0},i.prototype.filterNodes=function(c){var f=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});f.setGraph(this.graph());var d=this;e.each(this._nodes,function(y,w){c(w)&&f.setNode(w,y)}),e.each(this._edgeObjs,function(y){f.hasNode(y.v)&&f.hasNode(y.w)&&f.setEdge(y,d.edge(y))});var h={};function p(y){var w=d.parent(y);return w===void 0||f.hasNode(w)?(h[y]=w,w):w in h?h[w]:p(w)}return this._isCompound&&e.each(f.nodes(),function(y){f.setParent(y,p(y))}),f},i.prototype.setDefaultEdgeLabel=function(c){return e.isFunction(c)||(c=e.constant(c)),this._defaultEdgeLabelFn=c,this},i.prototype.edgeCount=function(){return this._edgeCount},i.prototype.edges=function(){return e.values(this._edgeObjs)},i.prototype.setPath=function(c,f){var d=this,h=arguments;return e.reduce(c,function(p,y){return h.length>1?d.setEdge(p,y,f):d.setEdge(p,y),y}),this},i.prototype.setEdge=function(){var c,f,d,h,p=!1,y=arguments[0];typeof y=="object"&&y!==null&&"v"in y?(c=y.v,f=y.w,d=y.name,arguments.length===2&&(h=arguments[1],p=!0)):(c=y,f=arguments[1],d=arguments[3],arguments.length>2&&(h=arguments[2],p=!0)),c=""+c,f=""+f,e.isUndefined(d)||(d=""+d);var w=s(this._isDirected,c,f,d);if(e.has(this._edgeLabels,w))return p&&(this._edgeLabels[w]=h),this;if(!e.isUndefined(d)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(c),this.setNode(f),this._edgeLabels[w]=p?h:this._defaultEdgeLabelFn(c,f,d);var g=l(this._isDirected,c,f,d);return c=g.v,f=g.w,Object.freeze(g),this._edgeObjs[w]=g,o(this._preds[f],c),o(this._sucs[c],f),this._in[f][w]=g,this._out[c][w]=g,this._edgeCount++,this},i.prototype.edge=function(c,f,d){var h=arguments.length===1?u(this._isDirected,arguments[0]):s(this._isDirected,c,f,d);return this._edgeLabels[h]},i.prototype.hasEdge=function(c,f,d){var h=arguments.length===1?u(this._isDirected,arguments[0]):s(this._isDirected,c,f,d);return e.has(this._edgeLabels,h)},i.prototype.removeEdge=function(c,f,d){var h=arguments.length===1?u(this._isDirected,arguments[0]):s(this._isDirected,c,f,d),p=this._edgeObjs[h];return p&&(c=p.v,f=p.w,delete this._edgeLabels[h],delete this._edgeObjs[h],a(this._preds[f],c),a(this._sucs[c],f),delete this._in[f][h],delete this._out[c][h],this._edgeCount--),this},i.prototype.inEdges=function(c,f){var d=this._in[c];if(d){var h=e.values(d);return f?e.filter(h,function(p){return p.v===f}):h}},i.prototype.outEdges=function(c,f){var d=this._out[c];if(d){var h=e.values(d);return f?e.filter(h,function(p){return p.w===f}):h}},i.prototype.nodeEdges=function(c,f){var d=this.inEdges(c,f);if(d)return d.concat(this.outEdges(c,f))};function o(c,f){c[f]?c[f]++:c[f]=1}function a(c,f){--c[f]||delete c[f]}function s(c,f,d,h){var p=""+f,y=""+d;if(!c&&p>y){var w=p;p=y,y=w}return p+r+y+r+(e.isUndefined(h)?t:h)}function l(c,f,d,h){var p=""+f,y=""+d;if(!c&&p>y){var w=p;p=y,y=w}var g={v:p,w:y};return h&&(g.name=h),g}function u(c,f){return s(c,f.v,f.w,f.name)}return ip}var op,LS;function IV(){return LS||(LS=1,op="2.1.8"),op}var ap,OS;function AV(){return OS||(OS=1,ap={Graph:Pv(),version:IV()}),ap}var sp,DS;function RV(){if(DS)return sp;DS=1;var e=Kt(),t=Pv();sp={write:n,read:o};function n(a){var s={options:{directed:a.isDirected(),multigraph:a.isMultigraph(),compound:a.isCompound()},nodes:r(a),edges:i(a)};return e.isUndefined(a.graph())||(s.value=e.clone(a.graph())),s}function r(a){return e.map(a.nodes(),function(s){var l=a.node(s),u=a.parent(s),c={v:s};return e.isUndefined(l)||(c.value=l),e.isUndefined(u)||(c.parent=u),c})}function i(a){return e.map(a.edges(),function(s){var l=a.edge(s),u={v:s.v,w:s.w};return e.isUndefined(s.name)||(u.name=s.name),e.isUndefined(l)||(u.value=l),u})}function o(a){var s=new t(a.options).setGraph(a.value);return e.each(a.nodes,function(l){s.setNode(l.v,l.value),l.parent&&s.setParent(l.v,l.parent)}),e.each(a.edges,function(l){s.setEdge({v:l.v,w:l.w,name:l.name},l.value)}),s}return sp}var lp,zS;function MV(){if(zS)return lp;zS=1;var e=Kt();lp=t;function t(n){var r={},i=[],o;function a(s){e.has(r,s)||(r[s]=!0,o.push(s),e.each(n.successors(s),a),e.each(n.predecessors(s),a))}return e.each(n.nodes(),function(s){o=[],a(s),o.length&&i.push(o)}),i}return lp}var up,qS;function XP(){if(qS)return up;qS=1;var e=Kt();up=t;function t(){this._arr=[],this._keyIndices={}}return t.prototype.size=function(){return this._arr.length},t.prototype.keys=function(){return this._arr.map(function(n){return n.key})},t.prototype.has=function(n){return e.has(this._keyIndices,n)},t.prototype.priority=function(n){var r=this._keyIndices[n];if(r!==void 0)return this._arr[r].priority},t.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key},t.prototype.add=function(n,r){var i=this._keyIndices;if(n=String(n),!e.has(i,n)){var o=this._arr,a=o.length;return i[n]=a,o.push({key:n,priority:r}),this._decrease(a),!0}return!1},t.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var n=this._arr.pop();return delete this._keyIndices[n.key],this._heapify(0),n.key},t.prototype.decrease=function(n,r){var i=this._keyIndices[n];if(r>this._arr[i].priority)throw new Error("New priority is greater than current priority. Key: "+n+" Old: "+this._arr[i].priority+" New: "+r);this._arr[i].priority=r,this._decrease(i)},t.prototype._heapify=function(n){var r=this._arr,i=2*n,o=i+1,a=n;i<r.length&&(a=r[i].priority<r[a].priority?i:a,o<r.length&&(a=r[o].priority<r[a].priority?o:a),a!==n&&(this._swap(n,a),this._heapify(a)))},t.prototype._decrease=function(n){for(var r=this._arr,i=r[n].priority,o;n!==0&&(o=n>>1,!(r[o].priority<i));)this._swap(n,o),n=o},t.prototype._swap=function(n,r){var i=this._arr,o=this._keyIndices,a=i[n],s=i[r];i[n]=s,i[r]=a,o[s.key]=n,o[a.key]=r},up}var cp,$S;function QP(){if($S)return cp;$S=1;var e=Kt(),t=XP();cp=r;var n=e.constant(1);function r(o,a,s,l){return i(o,String(a),s||n,l||function(u){return o.outEdges(u)})}function i(o,a,s,l){var u={},c=new t,f,d,h=function(p){var y=p.v!==f?p.v:p.w,w=u[y],g=s(p),v=d.distance+g;if(g<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+p+" Weight: "+g);v<w.distance&&(w.distance=v,w.predecessor=f,c.decrease(y,v))};for(o.nodes().forEach(function(p){var y=p===a?0:Number.POSITIVE_INFINITY;u[p]={distance:y},c.add(p,y)});c.size()>0&&(f=c.removeMin(),d=u[f],d.distance!==Number.POSITIVE_INFINITY);)l(f).forEach(h);return u}return cp}var fp,FS;function LV(){if(FS)return fp;FS=1;var e=QP(),t=Kt();fp=n;function n(r,i,o){return t.transform(r.nodes(),function(a,s){a[s]=e(r,s,i,o)},{})}return fp}var dp,BS;function ZP(){if(BS)return dp;BS=1;var e=Kt();dp=t;function t(n){var r=0,i=[],o={},a=[];function s(l){var u=o[l]={onStack:!0,lowlink:r,index:r++};if(i.push(l),n.successors(l).forEach(function(d){e.has(o,d)?o[d].onStack&&(u.lowlink=Math.min(u.lowlink,o[d].index)):(s(d),u.lowlink=Math.min(u.lowlink,o[d].lowlink))}),u.lowlink===u.index){var c=[],f;do f=i.pop(),o[f].onStack=!1,c.push(f);while(l!==f);a.push(c)}}return n.nodes().forEach(function(l){e.has(o,l)||s(l)}),a}return dp}var hp,HS;function OV(){if(HS)return hp;HS=1;var e=Kt(),t=ZP();hp=n;function n(r){return e.filter(t(r),function(i){return i.length>1||i.length===1&&r.hasEdge(i[0],i[0])})}return hp}var pp,VS;function DV(){if(VS)return pp;VS=1;var e=Kt();pp=n;var t=e.constant(1);function n(i,o,a){return r(i,o||t,a||function(s){return i.outEdges(s)})}function r(i,o,a){var s={},l=i.nodes();return l.forEach(function(u){s[u]={},s[u][u]={distance:0},l.forEach(function(c){u!==c&&(s[u][c]={distance:Number.POSITIVE_INFINITY})}),a(u).forEach(function(c){var f=c.v===u?c.w:c.v,d=o(c);s[u][f]={distance:d,predecessor:u}})}),l.forEach(function(u){var c=s[u];l.forEach(function(f){var d=s[f];l.forEach(function(h){var p=d[u],y=c[h],w=d[h],g=p.distance+y.distance;g<w.distance&&(w.distance=g,w.predecessor=y.predecessor)})})}),s}return pp}var gp,US;function JP(){if(US)return gp;US=1;var e=Kt();gp=t,t.CycleException=n;function t(r){var i={},o={},a=[];function s(l){if(e.has(o,l))throw new n;e.has(i,l)||(o[l]=!0,i[l]=!0,e.each(r.predecessors(l),s),delete o[l],a.push(l))}if(e.each(r.sinks(),s),e.size(i)!==r.nodeCount())throw new n;return a}function n(){}return n.prototype=new Error,gp}var mp,GS;function zV(){if(GS)return mp;GS=1;var e=JP();mp=t;function t(n){try{e(n)}catch(r){if(r instanceof e.CycleException)return!1;throw r}return!0}return mp}var yp,WS;function ej(){if(WS)return yp;WS=1;var e=Kt();yp=t;function t(r,i,o){e.isArray(i)||(i=[i]);var a=(r.isDirected()?r.successors:r.neighbors).bind(r),s=[],l={};return e.each(i,function(u){if(!r.hasNode(u))throw new Error("Graph does not have node: "+u);n(r,u,o==="post",l,a,s)}),s}function n(r,i,o,a,s,l){e.has(a,i)||(a[i]=!0,o||l.push(i),e.each(s(i),function(u){n(r,u,o,a,s,l)}),o&&l.push(i))}return yp}var vp,YS;function qV(){if(YS)return vp;YS=1;var e=ej();vp=t;function t(n,r){return e(n,r,"post")}return vp}var xp,KS;function $V(){if(KS)return xp;KS=1;var e=ej();xp=t;function t(n,r){return e(n,r,"pre")}return xp}var wp,XS;function FV(){if(XS)return wp;XS=1;var e=Kt(),t=Pv(),n=XP();wp=r;function r(i,o){var a=new t,s={},l=new n,u;function c(d){var h=d.v===u?d.w:d.v,p=l.priority(h);if(p!==void 0){var y=o(d);y<p&&(s[h]=u,l.decrease(h,y))}}if(i.nodeCount()===0)return a;e.each(i.nodes(),function(d){l.add(d,Number.POSITIVE_INFINITY),a.setNode(d)}),l.decrease(i.nodes()[0],0);for(var f=!1;l.size()>0;){if(u=l.removeMin(),e.has(s,u))a.setEdge(u,s[u]);else{if(f)throw new Error("Input graph is not connected: "+i);f=!0}i.nodeEdges(u).forEach(c)}return a}return wp}var _p,QS;function BV(){return QS||(QS=1,_p={components:MV(),dijkstra:QP(),dijkstraAll:LV(),findCycles:OV(),floydWarshall:DV(),isAcyclic:zV(),postorder:qV(),preorder:$V(),prim:FV(),tarjan:ZP(),topsort:JP()}),_p}var bp,ZS;function HV(){if(ZS)return bp;ZS=1;var e=AV();return bp={Graph:e.Graph,json:RV(),alg:BV(),version:e.version},bp}var kl;if(typeof hv=="function")try{kl=HV()}catch{}kl||(kl=window.graphlib);var fn=kl,Sp,JS;function VV(){if(JS)return Sp;JS=1;var e=kP(),t=1,n=4;function r(i){return e(i,t|n)}return Sp=r,Sp}var Ep,eE;function Cu(){if(eE)return Ep;eE=1;var e=Zi(),t=Vn(),n=yu(),r=Yt();function i(o,a,s){if(!r(s))return!1;var l=typeof a;return(l=="number"?t(s)&&n(a,s.length):l=="string"&&a in s)?e(s[a],o):!1}return Ep=i,Ep}var kp,tE;function UV(){if(tE)return kp;tE=1;var e=ku(),t=Zi(),n=Cu(),r=ti(),i=Object.prototype,o=i.hasOwnProperty,a=e(function(s,l){s=Object(s);var u=-1,c=l.length,f=c>2?l[2]:void 0;for(f&&n(l[0],l[1],f)&&(c=1);++u<c;)for(var d=l[u],h=r(d),p=-1,y=h.length;++p<y;){var w=h[p],g=s[w];(g===void 0||t(g,i[w])&&!o.call(s,w))&&(s[w]=d[w])}return s});return kp=a,kp}var Cp,nE;function GV(){if(nE)return Cp;nE=1;var e=Un(),t=Vn(),n=Er();function r(i){return function(o,a,s){var l=Object(o);if(!t(o)){var u=e(a,3);o=n(o),a=function(f){return u(l[f],f,l)}}var c=i(o,a,s);return c>-1?l[u?o[c]:c]:void 0}}return Cp=r,Cp}var Np,rE;function WV(){if(rE)return Np;rE=1;var e=/\s/;function t(n){for(var r=n.length;r--&&e.test(n.charAt(r)););return r}return Np=t,Np}var Tp,iE;function YV(){if(iE)return Tp;iE=1;var e=WV(),t=/^\s+/;function n(r){return r&&r.slice(0,e(r)+1).replace(t,"")}return Tp=n,Tp}var Pp,oE;function KV(){if(oE)return Pp;oE=1;var e=YV(),t=Yt(),n=no(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,a=/^0o[0-7]+$/i,s=parseInt;function l(u){if(typeof u=="number")return u;if(n(u))return r;if(t(u)){var c=typeof u.valueOf=="function"?u.valueOf():u;u=t(c)?c+"":c}if(typeof u!="string")return u===0?u:+u;u=e(u);var f=o.test(u);return f||a.test(u)?s(u.slice(2),f?2:8):i.test(u)?r:+u}return Pp=l,Pp}var jp,aE;function tj(){if(aE)return jp;aE=1;var e=KV(),t=1/0,n=17976931348623157e292;function r(i){if(!i)return i===0?i:0;if(i=e(i),i===t||i===-t){var o=i<0?-1:1;return o*n}return i===i?i:0}return jp=r,jp}var Ip,sE;function XV(){if(sE)return Ip;sE=1;var e=tj();function t(n){var r=e(n),i=r%1;return r===r?i?r-i:r:0}return Ip=t,Ip}var Ap,lE;function QV(){if(lE)return Ap;lE=1;var e=WP(),t=Un(),n=XV(),r=Math.max;function i(o,a,s){var l=o==null?0:o.length;if(!l)return-1;var u=s==null?0:n(s);return u<0&&(u=r(l+u,0)),e(o,t(a,3),u)}return Ap=i,Ap}var Rp,uE;function ZV(){if(uE)return Rp;uE=1;var e=GV(),t=QV(),n=e(t);return Rp=n,Rp}var Mp,cE;function nj(){if(cE)return Mp;cE=1;var e=Tv();function t(n){var r=n==null?0:n.length;return r?e(n,1):[]}return Mp=t,Mp}var Lp,fE;function JV(){if(fE)return Lp;fE=1;var e=Ev(),t=CP(),n=ti();function r(i,o){return i==null?i:e(i,t(o),n)}return Lp=r,Lp}var Op,dE;function e9(){if(dE)return Op;dE=1;function e(t){var n=t==null?0:t.length;return n?t[n-1]:void 0}return Op=e,Op}var Dp,hE;function t9(){if(hE)return Dp;hE=1;var e=gu(),t=kv(),n=Un();function r(i,o){var a={};return o=n(o,3),t(i,function(s,l,u){e(a,l,o(s,l,u))}),a}return Dp=r,Dp}var zp,pE;function jv(){if(pE)return zp;pE=1;var e=no();function t(n,r,i){for(var o=-1,a=n.length;++o<a;){var s=n[o],l=r(s);if(l!=null&&(u===void 0?l===l&&!e(l):i(l,u)))var u=l,c=s}return c}return zp=t,zp}var qp,gE;function n9(){if(gE)return qp;gE=1;function e(t,n){return t>n}return qp=e,qp}var $p,mE;function r9(){if(mE)return $p;mE=1;var e=jv(),t=n9(),n=ni();function r(i){return i&&i.length?e(i,n,t):void 0}return $p=r,$p}var Fp,yE;function rj(){if(yE)return Fp;yE=1;var e=gu(),t=Zi();function n(r,i,o){(o!==void 0&&!t(r[i],o)||o===void 0&&!(i in r))&&e(r,i,o)}return Fp=n,Fp}var Bp,vE;function i9(){if(vE)return Bp;vE=1;var e=Jr(),t=wu(),n=kn(),r="[object Object]",i=Function.prototype,o=Object.prototype,a=i.toString,s=o.hasOwnProperty,l=a.call(Object);function u(c){if(!n(c)||e(c)!=r)return!1;var f=t(c);if(f===null)return!0;var d=s.call(f,"constructor")&&f.constructor;return typeof d=="function"&&d instanceof d&&a.call(d)==l}return Bp=u,Bp}var Hp,xE;function ij(){if(xE)return Hp;xE=1;function e(t,n){if(!(n==="constructor"&&typeof t[n]=="function")&&n!="__proto__")return t[n]}return Hp=e,Hp}var Vp,wE;function o9(){if(wE)return Vp;wE=1;var e=Ma(),t=ti();function n(r){return e(r,t(r))}return Vp=n,Vp}var Up,_E;function a9(){if(_E)return Up;_E=1;var e=rj(),t=hP(),n=bP(),r=pP(),i=EP(),o=La(),a=Ue(),s=YP(),l=eo(),u=Ra(),c=Yt(),f=i9(),d=Oa(),h=ij(),p=o9();function y(w,g,v,m,_,k,b){var E=h(w,v),T=h(g,v),M=b.get(T);if(M){e(w,v,M);return}var D=k?k(E,T,v+"",w,g,b):void 0,P=D===void 0;if(P){var O=a(T),q=!O&&l(T),j=!O&&!q&&d(T);D=T,O||q||j?a(E)?D=E:s(E)?D=r(E):q?(P=!1,D=t(T,!0)):j?(P=!1,D=n(T,!0)):D=[]:f(T)||o(T)?(D=E,o(E)?D=p(E):(!c(E)||u(E))&&(D=i(T))):P=!1}P&&(b.set(T,D),_(D,T,m,k,b),b.delete(T)),e(w,v,D)}return Up=y,Up}var Gp,bE;function s9(){if(bE)return Gp;bE=1;var e=pu(),t=rj(),n=Ev(),r=a9(),i=Yt(),o=ti(),a=ij();function s(l,u,c,f,d){l!==u&&n(u,function(h,p){if(d||(d=new e),i(h))r(l,u,p,c,s,f,d);else{var y=f?f(a(l,p),h,p+"",l,u,d):void 0;y===void 0&&(y=h),t(l,p,y)}},o)}return Gp=s,Gp}var Wp,SE;function l9(){if(SE)return Wp;SE=1;var e=ku(),t=Cu();function n(r){return e(function(i,o){var a=-1,s=o.length,l=s>1?o[s-1]:void 0,u=s>2?o[2]:void 0;for(l=r.length>3&&typeof l=="function"?(s--,l):void 0,u&&t(o[0],o[1],u)&&(l=s<3?void 0:l,s=1),i=Object(i);++a<s;){var c=o[a];c&&r(i,c,a,l)}return i})}return Wp=n,Wp}var Yp,EE;function u9(){if(EE)return Yp;EE=1;var e=s9(),t=l9(),n=t(function(r,i,o){e(r,i,o)});return Yp=n,Yp}var Kp,kE;function oj(){if(kE)return Kp;kE=1;function e(t,n){return t<n}return Kp=e,Kp}var Xp,CE;function c9(){if(CE)return Xp;CE=1;var e=jv(),t=oj(),n=ni();function r(i){return i&&i.length?e(i,n,t):void 0}return Xp=r,Xp}var Qp,NE;function f9(){if(NE)return Qp;NE=1;var e=jv(),t=Un(),n=oj();function r(i,o){return i&&i.length?e(i,t(o,2),n):void 0}return Qp=r,Qp}var Zp,TE;function d9(){if(TE)return Zp;TE=1;var e=cn(),t=function(){return e.Date.now()};return Zp=t,Zp}var Jp,PE;function h9(){if(PE)return Jp;PE=1;var e=mu(),t=Su(),n=yu(),r=Yt(),i=Da();function o(a,s,l,u){if(!r(a))return a;s=t(s,a);for(var c=-1,f=s.length,d=f-1,h=a;h!=null&&++c<f;){var p=i(s[c]),y=l;if(p==="__proto__"||p==="constructor"||p==="prototype")return a;if(c!=d){var w=h[p];y=u?u(w,p,h):void 0,y===void 0&&(y=r(w)?w:n(s[c+1])?[]:{})}e(h,p,y),h=h[p]}return a}return Jp=o,Jp}var eg,jE;function p9(){if(jE)return eg;jE=1;var e=Eu(),t=h9(),n=Su();function r(i,o,a){for(var s=-1,l=o.length,u={};++s<l;){var c=o[s],f=e(i,c);a(f,c)&&t(u,n(c,i),f)}return u}return eg=r,eg}var tg,IE;function g9(){if(IE)return tg;IE=1;var e=p9(),t=DP();function n(r,i){return e(r,i,function(o,a){return t(r,a)})}return tg=n,tg}var ng,AE;function m9(){if(AE)return ng;AE=1;var e=nj(),t=UP(),n=GP();function r(i){return n(t(i,void 0,e),i+"")}return ng=r,ng}var rg,RE;function y9(){if(RE)return rg;RE=1;var e=g9(),t=m9(),n=t(function(r,i){return r==null?{}:e(r,i)});return rg=n,rg}var ig,ME;function v9(){if(ME)return ig;ME=1;var e=Math.ceil,t=Math.max;function n(r,i,o,a){for(var s=-1,l=t(e((i-r)/(o||1)),0),u=Array(l);l--;)u[a?l:++s]=r,r+=o;return u}return ig=n,ig}var og,LE;function x9(){if(LE)return og;LE=1;var e=v9(),t=Cu(),n=tj();function r(i){return function(o,a,s){return s&&typeof s!="number"&&t(o,a,s)&&(a=s=void 0),o=n(o),a===void 0?(a=o,o=0):a=n(a),s=s===void 0?o<a?1:-1:n(s),e(o,a,s,i)}}return og=r,og}var ag,OE;function w9(){if(OE)return ag;OE=1;var e=x9(),t=e();return ag=t,ag}var sg,DE;function _9(){if(DE)return sg;DE=1;function e(t,n){var r=t.length;for(t.sort(n);r--;)t[r]=t[r].value;return t}return sg=e,sg}var lg,zE;function b9(){if(zE)return lg;zE=1;var e=no();function t(n,r){if(n!==r){var i=n!==void 0,o=n===null,a=n===n,s=e(n),l=r!==void 0,u=r===null,c=r===r,f=e(r);if(!u&&!f&&!s&&n>r||s&&l&&c&&!u&&!f||o&&l&&c||!i&&c||!a)return 1;if(!o&&!s&&!f&&n<r||f&&i&&a&&!o&&!s||u&&i&&a||!l&&a||!c)return-1}return 0}return lg=t,lg}var ug,qE;function S9(){if(qE)return ug;qE=1;var e=b9();function t(n,r,i){for(var o=-1,a=n.criteria,s=r.criteria,l=a.length,u=i.length;++o<l;){var c=e(a[o],s[o]);if(c){if(o>=u)return c;var f=i[o];return c*(f=="desc"?-1:1)}}return n.index-r.index}return ug=t,ug}var cg,$E;function E9(){if($E)return cg;$E=1;var e=bu(),t=Eu(),n=Un(),r=BP(),i=_9(),o=vu(),a=S9(),s=ni(),l=Ue();function u(c,f,d){f.length?f=e(f,function(y){return l(y)?function(w){return t(w,y.length===1?y[0]:y)}:y}):f=[s];var h=-1;f=e(f,o(n));var p=r(c,function(y,w,g){var v=e(f,function(m){return m(y)});return{criteria:v,index:++h,value:y}});return i(p,function(y,w){return a(y,w,d)})}return cg=u,cg}var fg,FE;function k9(){if(FE)return fg;FE=1;var e=Tv(),t=E9(),n=ku(),r=Cu(),i=n(function(o,a){if(o==null)return[];var s=a.length;return s>1&&r(o,a[0],a[1])?a=[]:s>2&&r(a[0],a[1],a[2])&&(a=[a[0]]),t(o,e(a,1),[])});return fg=i,fg}var dg,BE;function C9(){if(BE)return dg;BE=1;var e=LP(),t=0;function n(r){var i=++t;return e(r)+i}return dg=n,dg}var hg,HE;function N9(){if(HE)return hg;HE=1;function e(t,n,r){for(var i=-1,o=t.length,a=n.length,s={};++i<o;){var l=i<a?n[i]:void 0;r(s,t[i],l)}return s}return hg=e,hg}var pg,VE;function T9(){if(VE)return pg;VE=1;var e=mu(),t=N9();function n(r,i){return t(r||[],i||[],e)}return pg=n,pg}var Cl;if(typeof hv=="function")try{Cl={cloneDeep:VV(),constant:Sv(),defaults:UV(),each:TP(),filter:qP(),find:ZV(),flatten:nj(),forEach:NP(),forIn:JV(),has:$P(),isUndefined:FP(),last:e9(),map:HP(),mapValues:t9(),max:r9(),merge:u9(),min:c9(),minBy:f9(),now:d9(),pick:y9(),range:w9(),reduce:VP(),sortBy:k9(),uniqueId:C9(),values:KP(),zipObject:T9()}}catch{}Cl||(Cl=window._);var Me=Cl,P9=Nu;function Nu(){var e={};e._next=e._prev=e,this._sentinel=e}Nu.prototype.dequeue=function(){var e=this._sentinel,t=e._prev;if(t!==e)return aj(t),t};Nu.prototype.enqueue=function(e){var t=this._sentinel;e._prev&&e._next&&aj(e),e._next=t._next,t._next._prev=e,t._next=e,e._prev=t};Nu.prototype.toString=function(){for(var e=[],t=this._sentinel,n=t._prev;n!==t;)e.push(JSON.stringify(n,j9)),n=n._prev;return"["+e.join(", ")+"]"};function aj(e){e._prev._next=e._next,e._next._prev=e._prev,delete e._next,delete e._prev}function j9(e,t){if(e!=="_next"&&e!=="_prev")return t}var Rn=Me,I9=fn.Graph,A9=P9,R9=L9,M9=Rn.constant(1);function L9(e,t){if(e.nodeCount()<=1)return[];var n=D9(e,t||M9),r=O9(n.graph,n.buckets,n.zeroIdx);return Rn.flatten(Rn.map(r,function(i){return e.outEdges(i.v,i.w)}),!0)}function O9(e,t,n){for(var r=[],i=t[t.length-1],o=t[0],a;e.nodeCount();){for(;a=o.dequeue();)gg(e,t,n,a);for(;a=i.dequeue();)gg(e,t,n,a);if(e.nodeCount()){for(var s=t.length-2;s>0;--s)if(a=t[s].dequeue(),a){r=r.concat(gg(e,t,n,a,!0));break}}}return r}function gg(e,t,n,r,i){var o=i?[]:void 0;return Rn.forEach(e.inEdges(r.v),function(a){var s=e.edge(a),l=e.node(a.v);i&&o.push({v:a.v,w:a.w}),l.out-=s,zm(t,n,l)}),Rn.forEach(e.outEdges(r.v),function(a){var s=e.edge(a),l=a.w,u=e.node(l);u.in-=s,zm(t,n,u)}),e.removeNode(r.v),o}function D9(e,t){var n=new I9,r=0,i=0;Rn.forEach(e.nodes(),function(s){n.setNode(s,{v:s,in:0,out:0})}),Rn.forEach(e.edges(),function(s){var l=n.edge(s.v,s.w)||0,u=t(s),c=l+u;n.setEdge(s.v,s.w,c),i=Math.max(i,n.node(s.v).out+=u),r=Math.max(r,n.node(s.w).in+=u)});var o=Rn.range(i+r+3).map(function(){return new A9}),a=r+1;return Rn.forEach(n.nodes(),function(s){zm(o,a,n.node(s))}),{graph:n,buckets:o,zeroIdx:a}}function zm(e,t,n){n.out?n.in?e[n.out-n.in+t].enqueue(n):e[e.length-1].enqueue(n):e[0].enqueue(n)}var Or=Me,z9=R9,q9={run:$9,undo:B9};function $9(e){var t=e.graph().acyclicer==="greedy"?z9(e,n(e)):F9(e);Or.forEach(t,function(r){var i=e.edge(r);e.removeEdge(r),i.forwardName=r.name,i.reversed=!0,e.setEdge(r.w,r.v,i,Or.uniqueId("rev"))});function n(r){return function(i){return r.edge(i).weight}}}function F9(e){var t=[],n={},r={};function i(o){Or.has(r,o)||(r[o]=!0,n[o]=!0,Or.forEach(e.outEdges(o),function(a){Or.has(n,a.w)?t.push(a):i(a.w)}),delete n[o])}return Or.forEach(e.nodes(),i),t}function B9(e){Or.forEach(e.edges(),function(t){var n=e.edge(t);if(n.reversed){e.removeEdge(t);var r=n.forwardName;delete n.reversed,delete n.forwardName,e.setEdge(t.w,t.v,n,r)}})}var _e=Me,sj=fn.Graph,Et={addDummyNode:lj,simplify:H9,asNonCompoundGraph:V9,successorWeights:U9,predecessorWeights:G9,intersectRect:W9,buildLayerMatrix:Y9,normalizeRanks:K9,removeEmptyRanks:X9,addBorderNode:Q9,maxRank:uj,partition:Z9,time:J9,notime:e7};function lj(e,t,n,r){var i;do i=_e.uniqueId(r);while(e.hasNode(i));return n.dummy=t,e.setNode(i,n),i}function H9(e){var t=new sj().setGraph(e.graph());return _e.forEach(e.nodes(),function(n){t.setNode(n,e.node(n))}),_e.forEach(e.edges(),function(n){var r=t.edge(n.v,n.w)||{weight:0,minlen:1},i=e.edge(n);t.setEdge(n.v,n.w,{weight:r.weight+i.weight,minlen:Math.max(r.minlen,i.minlen)})}),t}function V9(e){var t=new sj({multigraph:e.isMultigraph()}).setGraph(e.graph());return _e.forEach(e.nodes(),function(n){e.children(n).length||t.setNode(n,e.node(n))}),_e.forEach(e.edges(),function(n){t.setEdge(n,e.edge(n))}),t}function U9(e){var t=_e.map(e.nodes(),function(n){var r={};return _e.forEach(e.outEdges(n),function(i){r[i.w]=(r[i.w]||0)+e.edge(i).weight}),r});return _e.zipObject(e.nodes(),t)}function G9(e){var t=_e.map(e.nodes(),function(n){var r={};return _e.forEach(e.inEdges(n),function(i){r[i.v]=(r[i.v]||0)+e.edge(i).weight}),r});return _e.zipObject(e.nodes(),t)}function W9(e,t){var n=e.x,r=e.y,i=t.x-n,o=t.y-r,a=e.width/2,s=e.height/2;if(!i&&!o)throw new Error("Not possible to find intersection inside of the rectangle");var l,u;return Math.abs(o)*a>Math.abs(i)*s?(o<0&&(s=-s),l=s*i/o,u=s):(i<0&&(a=-a),l=a,u=a*o/i),{x:n+l,y:r+u}}function Y9(e){var t=_e.map(_e.range(uj(e)+1),function(){return[]});return _e.forEach(e.nodes(),function(n){var r=e.node(n),i=r.rank;_e.isUndefined(i)||(t[i][r.order]=n)}),t}function K9(e){var t=_e.min(_e.map(e.nodes(),function(n){return e.node(n).rank}));_e.forEach(e.nodes(),function(n){var r=e.node(n);_e.has(r,"rank")&&(r.rank-=t)})}function X9(e){var t=_e.min(_e.map(e.nodes(),function(o){return e.node(o).rank})),n=[];_e.forEach(e.nodes(),function(o){var a=e.node(o).rank-t;n[a]||(n[a]=[]),n[a].push(o)});var r=0,i=e.graph().nodeRankFactor;_e.forEach(n,function(o,a){_e.isUndefined(o)&&a%i!==0?--r:r&&_e.forEach(o,function(s){e.node(s).rank+=r})})}function Q9(e,t,n,r){var i={width:0,height:0};return arguments.length>=4&&(i.rank=n,i.order=r),lj(e,"border",i,t)}function uj(e){return _e.max(_e.map(e.nodes(),function(t){var n=e.node(t).rank;if(!_e.isUndefined(n))return n}))}function Z9(e,t){var n={lhs:[],rhs:[]};return _e.forEach(e,function(r){t(r)?n.lhs.push(r):n.rhs.push(r)}),n}function J9(e,t){var n=_e.now();try{return t()}finally{console.log(e+" time: "+(_e.now()-n)+"ms")}}function e7(e,t){return t()}var cj=Me,t7=Et,n7={run:r7,undo:o7};function r7(e){e.graph().dummyChains=[],cj.forEach(e.edges(),function(t){i7(e,t)})}function i7(e,t){var n=t.v,r=e.node(n).rank,i=t.w,o=e.node(i).rank,a=t.name,s=e.edge(t),l=s.labelRank;if(o!==r+1){e.removeEdge(t);var u,c,f;for(f=0,++r;r<o;++f,++r)s.points=[],c={width:0,height:0,edgeLabel:s,edgeObj:t,rank:r},u=t7.addDummyNode(e,"edge",c,"_d"),r===l&&(c.width=s.width,c.height=s.height,c.dummy="edge-label",c.labelpos=s.labelpos),e.setEdge(n,u,{weight:s.weight},a),f===0&&e.graph().dummyChains.push(u),n=u;e.setEdge(n,i,{weight:s.weight},a)}}function o7(e){cj.forEach(e.graph().dummyChains,function(t){var n=e.node(t),r=n.edgeLabel,i;for(e.setEdge(n.edgeObj,r);n.dummy;)i=e.successors(t)[0],e.removeNode(t),r.points.push({x:n.x,y:n.y}),n.dummy==="edge-label"&&(r.x=n.x,r.y=n.y,r.width=n.width,r.height=n.height),t=i,n=e.node(t)})}var ys=Me,Tu={longestPath:a7,slack:s7};function a7(e){var t={};function n(r){var i=e.node(r);if(ys.has(t,r))return i.rank;t[r]=!0;var o=ys.min(ys.map(e.outEdges(r),function(a){return n(a.w)-e.edge(a).minlen}));return(o===Number.POSITIVE_INFINITY||o===void 0||o===null)&&(o=0),i.rank=o}ys.forEach(e.sources(),n)}function s7(e,t){return e.node(t.w).rank-e.node(t.v).rank-e.edge(t).minlen}var Nl=Me,l7=fn.Graph,Tl=Tu.slack,fj=u7;function u7(e){var t=new l7({directed:!1}),n=e.nodes()[0],r=e.nodeCount();t.setNode(n,{});for(var i,o;c7(t,e)<r;)i=f7(t,e),o=t.hasNode(i.v)?Tl(e,i):-Tl(e,i),d7(t,e,o);return t}function c7(e,t){function n(r){Nl.forEach(t.nodeEdges(r),function(i){var o=i.v,a=r===o?i.w:o;!e.hasNode(a)&&!Tl(t,i)&&(e.setNode(a,{}),e.setEdge(r,a,{}),n(a))})}return Nl.forEach(e.nodes(),n),e.nodeCount()}function f7(e,t){return Nl.minBy(t.edges(),function(n){if(e.hasNode(n.v)!==e.hasNode(n.w))return Tl(t,n)})}function d7(e,t,n){Nl.forEach(e.nodes(),function(r){t.node(r).rank+=n})}var Fn=Me,h7=fj,p7=Tu.slack,g7=Tu.longestPath,m7=fn.alg.preorder,y7=fn.alg.postorder,v7=Et.simplify,x7=ri;ri.initLowLimValues=Av;ri.initCutValues=Iv;ri.calcCutValue=dj;ri.leaveEdge=pj;ri.enterEdge=gj;ri.exchangeEdges=mj;function ri(e){e=v7(e),g7(e);var t=h7(e);Av(t),Iv(t,e);for(var n,r;n=pj(t);)r=gj(t,e,n),mj(t,e,n,r)}function Iv(e,t){var n=y7(e,e.nodes());n=n.slice(0,n.length-1),Fn.forEach(n,function(r){w7(e,t,r)})}function w7(e,t,n){var r=e.node(n),i=r.parent;e.edge(n,i).cutvalue=dj(e,t,n)}function dj(e,t,n){var r=e.node(n),i=r.parent,o=!0,a=t.edge(n,i),s=0;return a||(o=!1,a=t.edge(i,n)),s=a.weight,Fn.forEach(t.nodeEdges(n),function(l){var u=l.v===n,c=u?l.w:l.v;if(c!==i){var f=u===o,d=t.edge(l).weight;if(s+=f?d:-d,b7(e,n,c)){var h=e.edge(n,c).cutvalue;s+=f?-h:h}}}),s}function Av(e,t){arguments.length<2&&(t=e.nodes()[0]),hj(e,{},1,t)}function hj(e,t,n,r,i){var o=n,a=e.node(r);return t[r]=!0,Fn.forEach(e.neighbors(r),function(s){Fn.has(t,s)||(n=hj(e,t,n,s,r))}),a.low=o,a.lim=n++,i?a.parent=i:delete a.parent,n}function pj(e){return Fn.find(e.edges(),function(t){return e.edge(t).cutvalue<0})}function gj(e,t,n){var r=n.v,i=n.w;t.hasEdge(r,i)||(r=n.w,i=n.v);var o=e.node(r),a=e.node(i),s=o,l=!1;o.lim>a.lim&&(s=a,l=!0);var u=Fn.filter(t.edges(),function(c){return l===UE(e,e.node(c.v),s)&&l!==UE(e,e.node(c.w),s)});return Fn.minBy(u,function(c){return p7(t,c)})}function mj(e,t,n,r){var i=n.v,o=n.w;e.removeEdge(i,o),e.setEdge(r.v,r.w,{}),Av(e),Iv(e,t),_7(e,t)}function _7(e,t){var n=Fn.find(e.nodes(),function(i){return!t.node(i).parent}),r=m7(e,n);r=r.slice(1),Fn.forEach(r,function(i){var o=e.node(i).parent,a=t.edge(i,o),s=!1;a||(a=t.edge(o,i),s=!0),t.node(i).rank=t.node(o).rank+(s?a.minlen:-a.minlen)})}function b7(e,t,n){return e.hasEdge(t,n)}function UE(e,t,n){return n.low<=t.lim&&t.lim<=n.lim}var S7=Tu,yj=S7.longestPath,E7=fj,k7=x7,C7=N7;function N7(e){switch(e.graph().ranker){case"network-simplex":GE(e);break;case"tight-tree":P7(e);break;case"longest-path":T7(e);break;default:GE(e)}}var T7=yj;function P7(e){yj(e),E7(e)}function GE(e){k7(e)}var qm=Me,j7=I7;function I7(e){var t=R7(e);qm.forEach(e.graph().dummyChains,function(n){for(var r=e.node(n),i=r.edgeObj,o=A7(e,t,i.v,i.w),a=o.path,s=o.lca,l=0,u=a[l],c=!0;n!==i.w;){if(r=e.node(n),c){for(;(u=a[l])!==s&&e.node(u).maxRank<r.rank;)l++;u===s&&(c=!1)}if(!c){for(;l<a.length-1&&e.node(u=a[l+1]).minRank<=r.rank;)l++;u=a[l]}e.setParent(n,u),n=e.successors(n)[0]}})}function A7(e,t,n,r){var i=[],o=[],a=Math.min(t[n].low,t[r].low),s=Math.max(t[n].lim,t[r].lim),l,u;l=n;do l=e.parent(l),i.push(l);while(l&&(t[l].low>a||s>t[l].lim));for(u=l,l=r;(l=e.parent(l))!==u;)o.push(l);return{path:i.concat(o.reverse()),lca:u}}function R7(e){var t={},n=0;function r(i){var o=n;qm.forEach(e.children(i),r),t[i]={low:o,lim:n++}}return qm.forEach(e.children(),r),t}var Mn=Me,$m=Et,M7={run:L7,cleanup:z7};function L7(e){var t=$m.addDummyNode(e,"root",{},"_root"),n=O7(e),r=Mn.max(Mn.values(n))-1,i=2*r+1;e.graph().nestingRoot=t,Mn.forEach(e.edges(),function(a){e.edge(a).minlen*=i});var o=D7(e)+1;Mn.forEach(e.children(),function(a){vj(e,t,i,o,r,n,a)}),e.graph().nodeRankFactor=i}function vj(e,t,n,r,i,o,a){var s=e.children(a);if(!s.length){a!==t&&e.setEdge(t,a,{weight:0,minlen:n});return}var l=$m.addBorderNode(e,"_bt"),u=$m.addBorderNode(e,"_bb"),c=e.node(a);e.setParent(l,a),c.borderTop=l,e.setParent(u,a),c.borderBottom=u,Mn.forEach(s,function(f){vj(e,t,n,r,i,o,f);var d=e.node(f),h=d.borderTop?d.borderTop:f,p=d.borderBottom?d.borderBottom:f,y=d.borderTop?r:2*r,w=h!==p?1:i-o[a]+1;e.setEdge(l,h,{weight:y,minlen:w,nestingEdge:!0}),e.setEdge(p,u,{weight:y,minlen:w,nestingEdge:!0})}),e.parent(a)||e.setEdge(t,l,{weight:0,minlen:i+o[a]})}function O7(e){var t={};function n(r,i){var o=e.children(r);o&&o.length&&Mn.forEach(o,function(a){n(a,i+1)}),t[r]=i}return Mn.forEach(e.children(),function(r){n(r,1)}),t}function D7(e){return Mn.reduce(e.edges(),function(t,n){return t+e.edge(n).weight},0)}function z7(e){var t=e.graph();e.removeNode(t.nestingRoot),delete t.nestingRoot,Mn.forEach(e.edges(),function(n){var r=e.edge(n);r.nestingEdge&&e.removeEdge(n)})}var mg=Me,q7=Et,$7=F7;function F7(e){function t(n){var r=e.children(n),i=e.node(n);if(r.length&&mg.forEach(r,t),mg.has(i,"minRank")){i.borderLeft=[],i.borderRight=[];for(var o=i.minRank,a=i.maxRank+1;o<a;++o)WE(e,"borderLeft","_bl",n,i,o),WE(e,"borderRight","_br",n,i,o)}}mg.forEach(e.children(),t)}function WE(e,t,n,r,i,o){var a={width:0,height:0,rank:o,borderType:t},s=i[t][o-1],l=q7.addDummyNode(e,"border",a,n);i[t][o]=l,e.setParent(l,r),s&&e.setEdge(s,l,{weight:1})}var vn=Me,B7={adjust:H7,undo:V7};function H7(e){var t=e.graph().rankdir.toLowerCase();(t==="lr"||t==="rl")&&xj(e)}function V7(e){var t=e.graph().rankdir.toLowerCase();(t==="bt"||t==="rl")&&U7(e),(t==="lr"||t==="rl")&&(G7(e),xj(e))}function xj(e){vn.forEach(e.nodes(),function(t){YE(e.node(t))}),vn.forEach(e.edges(),function(t){YE(e.edge(t))})}function YE(e){var t=e.width;e.width=e.height,e.height=t}function U7(e){vn.forEach(e.nodes(),function(t){yg(e.node(t))}),vn.forEach(e.edges(),function(t){var n=e.edge(t);vn.forEach(n.points,yg),vn.has(n,"y")&&yg(n)})}function yg(e){e.y=-e.y}function G7(e){vn.forEach(e.nodes(),function(t){vg(e.node(t))}),vn.forEach(e.edges(),function(t){var n=e.edge(t);vn.forEach(n.points,vg),vn.has(n,"x")&&vg(n)})}function vg(e){var t=e.x;e.x=e.y,e.y=t}var Nn=Me,W7=Y7;function Y7(e){var t={},n=Nn.filter(e.nodes(),function(s){return!e.children(s).length}),r=Nn.max(Nn.map(n,function(s){return e.node(s).rank})),i=Nn.map(Nn.range(r+1),function(){return[]});function o(s){if(!Nn.has(t,s)){t[s]=!0;var l=e.node(s);i[l.rank].push(s),Nn.forEach(e.successors(s),o)}}var a=Nn.sortBy(n,function(s){return e.node(s).rank});return Nn.forEach(a,o),i}var Xn=Me,K7=X7;function X7(e,t){for(var n=0,r=1;r<t.length;++r)n+=Q7(e,t[r-1],t[r]);return n}function Q7(e,t,n){for(var r=Xn.zipObject(n,Xn.map(n,function(u,c){return c})),i=Xn.flatten(Xn.map(t,function(u){return Xn.sortBy(Xn.map(e.outEdges(u),function(c){return{pos:r[c.w],weight:e.edge(c).weight}}),"pos")}),!0),o=1;o<n.length;)o<<=1;var a=2*o-1;o-=1;var s=Xn.map(new Array(a),function(){return 0}),l=0;return Xn.forEach(i.forEach(function(u){var c=u.pos+o;s[c]+=u.weight;for(var f=0;c>0;)c%2&&(f+=s[c+1]),c=c-1>>1,s[c]+=u.weight;l+=u.weight*f})),l}var KE=Me,Z7=J7;function J7(e,t){return KE.map(t,function(n){var r=e.inEdges(n);if(r.length){var i=KE.reduce(r,function(o,a){var s=e.edge(a),l=e.node(a.v);return{sum:o.sum+s.weight*l.order,weight:o.weight+s.weight}},{sum:0,weight:0});return{v:n,barycenter:i.sum/i.weight,weight:i.weight}}else return{v:n}})}var jt=Me,eU=tU;function tU(e,t){var n={};jt.forEach(e,function(i,o){var a=n[i.v]={indegree:0,in:[],out:[],vs:[i.v],i:o};jt.isUndefined(i.barycenter)||(a.barycenter=i.barycenter,a.weight=i.weight)}),jt.forEach(t.edges(),function(i){var o=n[i.v],a=n[i.w];!jt.isUndefined(o)&&!jt.isUndefined(a)&&(a.indegree++,o.out.push(n[i.w]))});var r=jt.filter(n,function(i){return!i.indegree});return nU(r)}function nU(e){var t=[];function n(o){return function(a){a.merged||(jt.isUndefined(a.barycenter)||jt.isUndefined(o.barycenter)||a.barycenter>=o.barycenter)&&rU(o,a)}}function r(o){return function(a){a.in.push(o),--a.indegree===0&&e.push(a)}}for(;e.length;){var i=e.pop();t.push(i),jt.forEach(i.in.reverse(),n(i)),jt.forEach(i.out,r(i))}return jt.map(jt.filter(t,function(o){return!o.merged}),function(o){return jt.pick(o,["vs","i","barycenter","weight"])})}function rU(e,t){var n=0,r=0;e.weight&&(n+=e.barycenter*e.weight,r+=e.weight),t.weight&&(n+=t.barycenter*t.weight,r+=t.weight),e.vs=t.vs.concat(e.vs),e.barycenter=n/r,e.weight=r,e.i=Math.min(t.i,e.i),t.merged=!0}var Co=Me,iU=Et,oU=aU;function aU(e,t){var n=iU.partition(e,function(c){return Co.has(c,"barycenter")}),r=n.lhs,i=Co.sortBy(n.rhs,function(c){return-c.i}),o=[],a=0,s=0,l=0;r.sort(sU(!!t)),l=XE(o,i,l),Co.forEach(r,function(c){l+=c.vs.length,o.push(c.vs),a+=c.barycenter*c.weight,s+=c.weight,l=XE(o,i,l)});var u={vs:Co.flatten(o,!0)};return s&&(u.barycenter=a/s,u.weight=s),u}function XE(e,t,n){for(var r;t.length&&(r=Co.last(t)).i<=n;)t.pop(),e.push(r.vs),n++;return n}function sU(e){return function(t,n){return t.barycenter<n.barycenter?-1:t.barycenter>n.barycenter?1:e?n.i-t.i:t.i-n.i}}var nr=Me,lU=Z7,uU=eU,cU=oU,fU=wj;function wj(e,t,n,r){var i=e.children(t),o=e.node(t),a=o?o.borderLeft:void 0,s=o?o.borderRight:void 0,l={};a&&(i=nr.filter(i,function(p){return p!==a&&p!==s}));var u=lU(e,i);nr.forEach(u,function(p){if(e.children(p.v).length){var y=wj(e,p.v,n,r);l[p.v]=y,nr.has(y,"barycenter")&&hU(p,y)}});var c=uU(u,n);dU(c,l);var f=cU(c,r);if(a&&(f.vs=nr.flatten([a,f.vs,s],!0),e.predecessors(a).length)){var d=e.node(e.predecessors(a)[0]),h=e.node(e.predecessors(s)[0]);nr.has(f,"barycenter")||(f.barycenter=0,f.weight=0),f.barycenter=(f.barycenter*f.weight+d.order+h.order)/(f.weight+2),f.weight+=2}return f}function dU(e,t){nr.forEach(e,function(n){n.vs=nr.flatten(n.vs.map(function(r){return t[r]?t[r].vs:r}),!0)})}function hU(e,t){nr.isUndefined(e.barycenter)?(e.barycenter=t.barycenter,e.weight=t.weight):(e.barycenter=(e.barycenter*e.weight+t.barycenter*t.weight)/(e.weight+t.weight),e.weight+=t.weight)}var No=Me,pU=fn.Graph,gU=mU;function mU(e,t,n){var r=yU(e),i=new pU({compound:!0}).setGraph({root:r}).setDefaultNodeLabel(function(o){return e.node(o)});return No.forEach(e.nodes(),function(o){var a=e.node(o),s=e.parent(o);(a.rank===t||a.minRank<=t&&t<=a.maxRank)&&(i.setNode(o),i.setParent(o,s||r),No.forEach(e[n](o),function(l){var u=l.v===o?l.w:l.v,c=i.edge(u,o),f=No.isUndefined(c)?0:c.weight;i.setEdge(u,o,{weight:e.edge(l).weight+f})}),No.has(a,"minRank")&&i.setNode(o,{borderLeft:a.borderLeft[t],borderRight:a.borderRight[t]}))}),i}function yU(e){for(var t;e.hasNode(t=No.uniqueId("_root")););return t}var vU=Me,xU=wU;function wU(e,t,n){var r={},i;vU.forEach(n,function(o){for(var a=e.parent(o),s,l;a;){if(s=e.parent(a),s?(l=r[s],r[s]=a):(l=i,i=a),l&&l!==a){t.setEdge(l,a);return}a=s}})}var mr=Me,_U=W7,bU=K7,SU=fU,EU=gU,kU=xU,CU=fn.Graph,QE=Et,NU=TU;function TU(e){var t=QE.maxRank(e),n=ZE(e,mr.range(1,t+1),"inEdges"),r=ZE(e,mr.range(t-1,-1,-1),"outEdges"),i=_U(e);JE(e,i);for(var o=Number.POSITIVE_INFINITY,a,s=0,l=0;l<4;++s,++l){PU(s%2?n:r,s%4>=2),i=QE.buildLayerMatrix(e);var u=bU(e,i);u<o&&(l=0,a=mr.cloneDeep(i),o=u)}JE(e,a)}function ZE(e,t,n){return mr.map(t,function(r){return EU(e,r,n)})}function PU(e,t){var n=new CU;mr.forEach(e,function(r){var i=r.graph().root,o=SU(r,i,n,t);mr.forEach(o.vs,function(a,s){r.node(a).order=s}),kU(r,n,o.vs)})}function JE(e,t){mr.forEach(t,function(n){mr.forEach(n,function(r,i){e.node(r).order=i})})}var ce=Me,jU=fn.Graph,IU=Et,AU={positionX:HU};function RU(e,t){var n={};function r(i,o){var a=0,s=0,l=i.length,u=ce.last(o);return ce.forEach(o,function(c,f){var d=LU(e,c),h=d?e.node(d).order:l;(d||c===u)&&(ce.forEach(o.slice(s,f+1),function(p){ce.forEach(e.predecessors(p),function(y){var w=e.node(y),g=w.order;(g<a||h<g)&&!(w.dummy&&e.node(p).dummy)&&_j(n,y,p)})}),s=f+1,a=h)}),o}return ce.reduce(t,r),n}function MU(e,t){var n={};function r(o,a,s,l,u){var c;ce.forEach(ce.range(a,s),function(f){c=o[f],e.node(c).dummy&&ce.forEach(e.predecessors(c),function(d){var h=e.node(d);h.dummy&&(h.order<l||h.order>u)&&_j(n,d,c)})})}function i(o,a){var s=-1,l,u=0;return ce.forEach(a,function(c,f){if(e.node(c).dummy==="border"){var d=e.predecessors(c);d.length&&(l=e.node(d[0]).order,r(a,u,f,s,l),u=f,s=l)}r(a,u,a.length,l,o.length)}),a}return ce.reduce(t,i),n}function LU(e,t){if(e.node(t).dummy)return ce.find(e.predecessors(t),function(n){return e.node(n).dummy})}function _j(e,t,n){if(t>n){var r=t;t=n,n=r}var i=e[t];i||(e[t]=i={}),i[n]=!0}function OU(e,t,n){if(t>n){var r=t;t=n,n=r}return ce.has(e[t],n)}function DU(e,t,n,r){var i={},o={},a={};return ce.forEach(t,function(s){ce.forEach(s,function(l,u){i[l]=l,o[l]=l,a[l]=u})}),ce.forEach(t,function(s){var l=-1;ce.forEach(s,function(u){var c=r(u);if(c.length){c=ce.sortBy(c,function(y){return a[y]});for(var f=(c.length-1)/2,d=Math.floor(f),h=Math.ceil(f);d<=h;++d){var p=c[d];o[u]===u&&l<a[p]&&!OU(n,u,p)&&(o[p]=u,o[u]=i[u]=i[p],l=a[p])}}})}),{root:i,align:o}}function zU(e,t,n,r,i){var o={},a=qU(e,t,n,i),s=i?"borderLeft":"borderRight";function l(f,d){for(var h=a.nodes(),p=h.pop(),y={};p;)y[p]?f(p):(y[p]=!0,h.push(p),h=h.concat(d(p))),p=h.pop()}function u(f){o[f]=a.inEdges(f).reduce(function(d,h){return Math.max(d,o[h.v]+a.edge(h))},0)}function c(f){var d=a.outEdges(f).reduce(function(p,y){return Math.min(p,o[y.w]-a.edge(y))},Number.POSITIVE_INFINITY),h=e.node(f);d!==Number.POSITIVE_INFINITY&&h.borderType!==s&&(o[f]=Math.max(o[f],d))}return l(u,a.predecessors.bind(a)),l(c,a.successors.bind(a)),ce.forEach(r,function(f){o[f]=o[n[f]]}),o}function qU(e,t,n,r){var i=new jU,o=e.graph(),a=VU(o.nodesep,o.edgesep,r);return ce.forEach(t,function(s){var l;ce.forEach(s,function(u){var c=n[u];if(i.setNode(c),l){var f=n[l],d=i.edge(f,c);i.setEdge(f,c,Math.max(a(e,u,l),d||0))}l=u})}),i}function $U(e,t){return ce.minBy(ce.values(t),function(n){var r=Number.NEGATIVE_INFINITY,i=Number.POSITIVE_INFINITY;return ce.forIn(n,function(o,a){var s=UU(e,a)/2;r=Math.max(o+s,r),i=Math.min(o-s,i)}),r-i})}function FU(e,t){var n=ce.values(t),r=ce.min(n),i=ce.max(n);ce.forEach(["u","d"],function(o){ce.forEach(["l","r"],function(a){var s=o+a,l=e[s],u;if(l!==t){var c=ce.values(l);u=a==="l"?r-ce.min(c):i-ce.max(c),u&&(e[s]=ce.mapValues(l,function(f){return f+u}))}})})}function BU(e,t){return ce.mapValues(e.ul,function(n,r){if(t)return e[t.toLowerCase()][r];var i=ce.sortBy(ce.map(e,r));return(i[1]+i[2])/2})}function HU(e){var t=IU.buildLayerMatrix(e),n=ce.merge(RU(e,t),MU(e,t)),r={},i;ce.forEach(["u","d"],function(a){i=a==="u"?t:ce.values(t).reverse(),ce.forEach(["l","r"],function(s){s==="r"&&(i=ce.map(i,function(f){return ce.values(f).reverse()}));var l=(a==="u"?e.predecessors:e.successors).bind(e),u=DU(e,i,n,l),c=zU(e,i,u.root,u.align,s==="r");s==="r"&&(c=ce.mapValues(c,function(f){return-f})),r[a+s]=c})});var o=$U(e,r);return FU(r,o),BU(r,e.graph().align)}function VU(e,t,n){return function(r,i,o){var a=r.node(i),s=r.node(o),l=0,u;if(l+=a.width/2,ce.has(a,"labelpos"))switch(a.labelpos.toLowerCase()){case"l":u=-a.width/2;break;case"r":u=a.width/2;break}if(u&&(l+=n?u:-u),u=0,l+=(a.dummy?t:e)/2,l+=(s.dummy?t:e)/2,l+=s.width/2,ce.has(s,"labelpos"))switch(s.labelpos.toLowerCase()){case"l":u=s.width/2;break;case"r":u=-s.width/2;break}return u&&(l+=n?u:-u),u=0,l}}function UU(e,t){return e.node(t).width}var To=Me,bj=Et,GU=AU.positionX,WU=YU;function YU(e){e=bj.asNonCompoundGraph(e),KU(e),To.forEach(GU(e),function(t,n){e.node(n).x=t})}function KU(e){var t=bj.buildLayerMatrix(e),n=e.graph().ranksep,r=0;To.forEach(t,function(i){var o=To.max(To.map(i,function(a){return e.node(a).height}));To.forEach(i,function(a){e.node(a).y=r+o/2}),r+=o+n})}var pe=Me,ek=q9,tk=n7,XU=C7,QU=Et.normalizeRanks,ZU=j7,JU=Et.removeEmptyRanks,nk=M7,eG=$7,rk=B7,tG=NU,nG=WU,xr=Et,rG=fn.Graph,iG=oG;function oG(e,t){var n=t&&t.debugTiming?xr.time:xr.notime;n("layout",function(){var r=n("  buildLayoutGraph",function(){return mG(e)});n("  runLayout",function(){aG(r,n)}),n("  updateInputGraph",function(){sG(e,r)})})}function aG(e,t){t("    makeSpaceForEdgeLabels",function(){yG(e)}),t("    removeSelfEdges",function(){CG(e)}),t("    acyclic",function(){ek.run(e)}),t("    nestingGraph.run",function(){nk.run(e)}),t("    rank",function(){XU(xr.asNonCompoundGraph(e))}),t("    injectEdgeLabelProxies",function(){vG(e)}),t("    removeEmptyRanks",function(){JU(e)}),t("    nestingGraph.cleanup",function(){nk.cleanup(e)}),t("    normalizeRanks",function(){QU(e)}),t("    assignRankMinMax",function(){xG(e)}),t("    removeEdgeLabelProxies",function(){wG(e)}),t("    normalize.run",function(){tk.run(e)}),t("    parentDummyChains",function(){ZU(e)}),t("    addBorderSegments",function(){eG(e)}),t("    order",function(){tG(e)}),t("    insertSelfEdges",function(){NG(e)}),t("    adjustCoordinateSystem",function(){rk.adjust(e)}),t("    position",function(){nG(e)}),t("    positionSelfEdges",function(){TG(e)}),t("    removeBorderNodes",function(){kG(e)}),t("    normalize.undo",function(){tk.undo(e)}),t("    fixupEdgeLabelCoords",function(){SG(e)}),t("    undoCoordinateSystem",function(){rk.undo(e)}),t("    translateGraph",function(){_G(e)}),t("    assignNodeIntersects",function(){bG(e)}),t("    reversePoints",function(){EG(e)}),t("    acyclic.undo",function(){ek.undo(e)})}function sG(e,t){pe.forEach(e.nodes(),function(n){var r=e.node(n),i=t.node(n);r&&(r.x=i.x,r.y=i.y,t.children(n).length&&(r.width=i.width,r.height=i.height))}),pe.forEach(e.edges(),function(n){var r=e.edge(n),i=t.edge(n);r.points=i.points,pe.has(i,"x")&&(r.x=i.x,r.y=i.y)}),e.graph().width=t.graph().width,e.graph().height=t.graph().height}var lG=["nodesep","edgesep","ranksep","marginx","marginy"],uG={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},cG=["acyclicer","ranker","rankdir","align"],fG=["width","height"],dG={width:0,height:0},hG=["minlen","weight","width","height","labeloffset"],pG={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},gG=["labelpos"];function mG(e){var t=new rG({multigraph:!0,compound:!0}),n=wg(e.graph());return t.setGraph(pe.merge({},uG,xg(n,lG),pe.pick(n,cG))),pe.forEach(e.nodes(),function(r){var i=wg(e.node(r));t.setNode(r,pe.defaults(xg(i,fG),dG)),t.setParent(r,e.parent(r))}),pe.forEach(e.edges(),function(r){var i=wg(e.edge(r));t.setEdge(r,pe.merge({},pG,xg(i,hG),pe.pick(i,gG)))}),t}function yG(e){var t=e.graph();t.ranksep/=2,pe.forEach(e.edges(),function(n){var r=e.edge(n);r.minlen*=2,r.labelpos.toLowerCase()!=="c"&&(t.rankdir==="TB"||t.rankdir==="BT"?r.width+=r.labeloffset:r.height+=r.labeloffset)})}function vG(e){pe.forEach(e.edges(),function(t){var n=e.edge(t);if(n.width&&n.height){var r=e.node(t.v),i=e.node(t.w),o={rank:(i.rank-r.rank)/2+r.rank,e:t};xr.addDummyNode(e,"edge-proxy",o,"_ep")}})}function xG(e){var t=0;pe.forEach(e.nodes(),function(n){var r=e.node(n);r.borderTop&&(r.minRank=e.node(r.borderTop).rank,r.maxRank=e.node(r.borderBottom).rank,t=pe.max(t,r.maxRank))}),e.graph().maxRank=t}function wG(e){pe.forEach(e.nodes(),function(t){var n=e.node(t);n.dummy==="edge-proxy"&&(e.edge(n.e).labelRank=n.rank,e.removeNode(t))})}function _G(e){var t=Number.POSITIVE_INFINITY,n=0,r=Number.POSITIVE_INFINITY,i=0,o=e.graph(),a=o.marginx||0,s=o.marginy||0;function l(u){var c=u.x,f=u.y,d=u.width,h=u.height;t=Math.min(t,c-d/2),n=Math.max(n,c+d/2),r=Math.min(r,f-h/2),i=Math.max(i,f+h/2)}pe.forEach(e.nodes(),function(u){l(e.node(u))}),pe.forEach(e.edges(),function(u){var c=e.edge(u);pe.has(c,"x")&&l(c)}),t-=a,r-=s,pe.forEach(e.nodes(),function(u){var c=e.node(u);c.x-=t,c.y-=r}),pe.forEach(e.edges(),function(u){var c=e.edge(u);pe.forEach(c.points,function(f){f.x-=t,f.y-=r}),pe.has(c,"x")&&(c.x-=t),pe.has(c,"y")&&(c.y-=r)}),o.width=n-t+a,o.height=i-r+s}function bG(e){pe.forEach(e.edges(),function(t){var n=e.edge(t),r=e.node(t.v),i=e.node(t.w),o,a;n.points?(o=n.points[0],a=n.points[n.points.length-1]):(n.points=[],o=i,a=r),n.points.unshift(xr.intersectRect(r,o)),n.points.push(xr.intersectRect(i,a))})}function SG(e){pe.forEach(e.edges(),function(t){var n=e.edge(t);if(pe.has(n,"x"))switch((n.labelpos==="l"||n.labelpos==="r")&&(n.width-=n.labeloffset),n.labelpos){case"l":n.x-=n.width/2+n.labeloffset;break;case"r":n.x+=n.width/2+n.labeloffset;break}})}function EG(e){pe.forEach(e.edges(),function(t){var n=e.edge(t);n.reversed&&n.points.reverse()})}function kG(e){pe.forEach(e.nodes(),function(t){if(e.children(t).length){var n=e.node(t),r=e.node(n.borderTop),i=e.node(n.borderBottom),o=e.node(pe.last(n.borderLeft)),a=e.node(pe.last(n.borderRight));n.width=Math.abs(a.x-o.x),n.height=Math.abs(i.y-r.y),n.x=o.x+n.width/2,n.y=r.y+n.height/2}}),pe.forEach(e.nodes(),function(t){e.node(t).dummy==="border"&&e.removeNode(t)})}function CG(e){pe.forEach(e.edges(),function(t){if(t.v===t.w){var n=e.node(t.v);n.selfEdges||(n.selfEdges=[]),n.selfEdges.push({e:t,label:e.edge(t)}),e.removeEdge(t)}})}function NG(e){var t=xr.buildLayerMatrix(e);pe.forEach(t,function(n){var r=0;pe.forEach(n,function(i,o){var a=e.node(i);a.order=o+r,pe.forEach(a.selfEdges,function(s){xr.addDummyNode(e,"selfedge",{width:s.label.width,height:s.label.height,rank:a.rank,order:o+ ++r,e:s.e,label:s.label},"_se")}),delete a.selfEdges})})}function TG(e){pe.forEach(e.nodes(),function(t){var n=e.node(t);if(n.dummy==="selfedge"){var r=e.node(n.e.v),i=r.x+r.width/2,o=r.y,a=n.x-i,s=r.height/2;e.setEdge(n.e,n.label),e.removeNode(t),n.label.points=[{x:i+2*a/3,y:o-s},{x:i+5*a/6,y:o-s},{x:i+a,y:o},{x:i+5*a/6,y:o+s},{x:i+2*a/3,y:o+s}],n.label.x=n.x,n.label.y=n.y}})}function xg(e,t){return pe.mapValues(pe.pick(e,t),Number)}function wg(e){var t={};return pe.forEach(e,function(n,r){t[r.toLowerCase()]=n}),t}var vs=Me,PG=Et,jG=fn.Graph,IG={debugOrdering:AG};function AG(e){var t=PG.buildLayerMatrix(e),n=new jG({compound:!0,multigraph:!0}).setGraph({});return vs.forEach(e.nodes(),function(r){n.setNode(r,{label:r}),n.setParent(r,"layer"+e.node(r).rank)}),vs.forEach(e.edges(),function(r){n.setEdge(r.v,r.w,{},r.name)}),vs.forEach(t,function(r,i){var o="layer"+i;n.setNode(o,{rank:"same"}),vs.reduce(r,function(a,s){return n.setEdge(a,s,{style:"invis"}),s})}),n}var RG="0.8.5",MG={graphlib:fn,layout:iG,debug:IG,util:{time:Et.time,notime:Et.notime},version:RG};const ik=va(MG);function LG(){const{getNodes:e,getEdges:t,setNodes:n,fitView:r}=nu(),i=sn(d=>d.layoutDirection),o=sn(d=>d.setLayoutDirection),a=sn(d=>d.selectedNodeId),s=L.useCallback(()=>a?{top:.1,left:.1,bottom:.1,right:.35}:.1,[a]),l=L.useCallback(d=>{const h=e(),p=t();if(h.length===0)return;const y=new ik.graphlib.Graph;y.setGraph({rankdir:d,nodesep:40,ranksep:100}),y.setDefaultEdgeLabel(()=>({})),h.forEach(w=>y.setNode(w.id,{width:180,height:100})),p.forEach(w=>y.setEdge(w.source,w.target)),ik.layout(y),n(h.map(w=>{const g=y.node(w.id);return{...w,position:{x:g.x-90,y:g.y-50}}})),setTimeout(()=>r({padding:s()}),50)},[e,t,n,r,s]),u=L.useCallback(()=>{const d=i==="LR"?"TB":"LR";o(d),l(d)},[i,o,l]),c=L.useCallback(()=>{l(i)},[l,i]),f=L.useCallback(()=>r({padding:s(),duration:300}),[r,s]);return{applyLayout:c,toggleLayout:u,fitToView:f,layoutDirection:i}}function OG(e,t){const[n,r,i]=Pz([]),[o,a,s]=jz([]),{activeAgent:l,iteration:u,flowPhase:c,thoughts:f={}}=t,d=sn(w=>w.layoutDirection),h=d==="LR"||d==="RL",p=L.useRef(""),y=L.useRef("");return L.useEffect(()=>{if(!e)return;const w=Object.keys(e.agents).sort().join(","),g=Object.entries(e.agents).map(([T,M])=>{var D;return`${T}:${(D=M.tools)==null?void 0:D.join(",")}`}).join("|");if(w===p.current&&g===y.current)return;p.current=w,y.current=g;const v=Object.keys(e.agents),m=new Set(v.flatMap(T=>e.agents[T].sub_agents||[])),_=v.filter(T=>!m.has(T)),k=[];let b="START";for(;k.length<_.length;){const T=e.workflow.edges.find(M=>M.from===b&&M.to!=="END");if(!T)break;_.includes(T.to)&&k.push(T.to),b=T.to}_.forEach(T=>{k.includes(T)||k.push(T)});const E=[{id:"START",position:{x:50,y:50},data:{},type:"start"},{id:"END",position:{x:50,y:150+k.length*150},data:{},type:"end"}];k.forEach((T,M)=>{const D=e.agents[T],P={x:50,y:150+M*150},O=(D.sub_agents||[]).reduce((q,j)=>{var A;return q[j]=((A=e.agents[j])==null?void 0:A.tools)||[],q},{});D.type==="sequential"?E.push({id:T,type:"sequential",position:P,data:{label:T,subAgents:D.sub_agents,subAgentTools:O}}):D.type==="loop"?E.push({id:T,type:"loop",position:P,data:{label:T,subAgents:D.sub_agents,subAgentTools:O,maxIterations:D.max_iterations||3}}):D.type==="parallel"?E.push({id:T,type:"parallel",position:P,data:{label:T,subAgents:D.sub_agents,subAgentTools:O}}):D.type==="router"?E.push({id:T,type:"router",position:P,data:{label:T,routes:D.routes||[]}}):E.push({id:T,type:"llm",position:P,data:{label:T,model:D.model,tools:D.tools||[]}})}),r(E)},[e,r]),L.useEffect(()=>{e&&r(w=>w.map(g=>{var k,b;if(g.id==="START"||g.id==="END")return g;const v=e.agents[g.id];if(!v)return g;const m=l===g.id||l&&((k=v.sub_agents)==null?void 0:k.includes(l)),_=l&&((b=v.sub_agents)!=null&&b.includes(l))?l:void 0;return{...g,data:{...g.data,isActive:m,activeSubAgent:_,currentIteration:v.type==="loop"?u:void 0,thought:g.type==="llm"?f[g.id]:void 0}}}))},[e,l,u,f,r]),L.useEffect(()=>{e&&a(e.workflow.edges.map((w,g)=>{const v=l&&w.to===l||c==="input"&&w.from==="START"||c==="output"&&w.to==="END";return{id:`e${g}-${d}`,source:w.from,target:w.to,type:"animated",data:{animated:v},sourceHandle:h?"right":"bottom",targetHandle:h?"left":"top"}}))},[e==null?void 0:e.workflow.edges,c,l,a,d,h]),{nodes:n,edges:o,setNodes:r,setEdges:a,onNodesChange:i,onEdgesChange:s}}function DG(){const{currentProject:e,addAgent:t,removeAgent:n,addEdge:r,removeEdge:i,selectNode:o}=sn(),a=L.useCallback((l="llm")=>{if(!e)return;const u=Object.keys(e.agents).length,f=`${{sequential:"seq",loop:"loop",parallel:"par",router:"router"}[l]||"agent"}_${u+1}`;if(["sequential","loop","parallel"].includes(l)){const h=`${f}_agent_1`,p=`${f}_agent_2`,y=l==="loop";t(h,{type:"llm",model:"gemini-2.0-flash",instruction:y?"Process and refine.":"Agent 1.",tools:[],sub_agents:[],position:{x:0,y:0}}),t(p,{type:"llm",model:"gemini-2.0-flash",instruction:y?"Review. Call exit_loop when done.":"Agent 2.",tools:y?["exit_loop"]:[],sub_agents:[],position:{x:0,y:0}}),t(f,{type:l,instruction:"",tools:[],sub_agents:[h,p],position:{x:50,y:150+u*180},max_iterations:y?3:void 0})}else l==="router"?t(f,{type:"router",model:"gemini-2.0-flash",instruction:"Route based on intent.",tools:[],sub_agents:[],position:{x:50,y:150+u*120},routes:[{condition:"default",target:"END"}]}):t(f,{type:"llm",model:"gemini-2.0-flash",instruction:"You are a helpful assistant.",tools:[],sub_agents:[],position:{x:50,y:150+u*120}});const d=e.workflow.edges.find(h=>h.to==="END");d?(i(d.from,"END"),r(d.from,f)):r("START",f),r(f,"END"),o(f)},[e,t,r,i,o]),s=L.useCallback(l=>{var f,d;if(!e)return null;const u=e.agents[l];if(!u)return null;const c=`${l}_copy`;return t(c,{...u,position:{x:(((f=u.position)==null?void 0:f.x)||50)+50,y:(((d=u.position)==null?void 0:d.y)||50)+50}}),c},[e,t]);return{createAgent:a,duplicateAgent:s,removeAgent:n}}function zG(){var Xe,lt,Le,Qe;const{currentProject:e,openProject:t,closeProject:n,saveProject:r,selectNode:i,selectedNodeId:o,updateAgent:a,renameAgent:s,addEdge:l,removeEdge:u,addToolToAgent:c,removeToolFromAgent:f,addSubAgentToContainer:d,selectedToolId:h,selectTool:p,updateToolConfig:y}=sn(),[w,g]=L.useState(!0),[v,m]=L.useState("idle"),[_,k]=L.useState(null),[b,E]=L.useState(0),[T,M]=L.useState({}),[D,P]=L.useState(null),[O,q]=L.useState(null),[j,A]=L.useState(!1),[z,R]=L.useState(null),[C,I]=L.useState(!1),{nodes:S,edges:$,onNodesChange:F,onEdgesChange:N}=OG(e,{activeAgent:_,iteration:b,flowPhase:v,thoughts:T}),{applyLayout:H,toggleLayout:X,fitToView:Y}=LG(),{createAgent:Q,duplicateAgent:W,removeAgent:ee}=DG(),le=L.useCallback((Z,ae)=>{M(je=>ae?{...je,[Z]:ae}:Object.fromEntries(Object.entries(je).filter(([ut])=>ut!==Z)))},[]),oe=L.useRef(null),te=L.useCallback(()=>{oe.current&&clearTimeout(oe.current),oe.current=setTimeout(()=>r(),500)},[r]),ie=L.useCallback((Z,ae)=>{a(Z,ae),R(null),te()},[a,te]),ge=L.useCallback((Z,ae)=>{y(Z,ae),R(null),te()},[y,te]);z8({selectedNodeId:o,selectedToolId:h,onDeleteNode:ee,onDeleteTool:f,onDuplicateNode:W,onSelectNode:i,onSelectTool:p,onAutoLayout:X,onFitView:Y});const ne=L.useCallback(async()=>{if(e)try{P(await jr.projects.compile(e.id))}catch(Z){alert("Compile failed: "+Z.message)}},[e]),fe=L.useCallback(async()=>{if(!e)return;A(!0),q({success:!1,output:"",path:null});const Z=new EventSource(`/api/projects/${e.id}/build-stream`);let ae="";Z.addEventListener("status",je=>{ae+=je.data+`
`,q({success:!1,output:ae,path:null})}),Z.addEventListener("output",je=>{ae+=je.data+`
`,q({success:!1,output:ae,path:null})}),Z.addEventListener("done",je=>{q({success:!0,output:ae,path:je.data}),R(je.data),A(!1),Z.close()}),Z.addEventListener("error",je=>{ae+=`
Error: `+(je.data||"Build failed"),q({success:!1,output:ae,path:null}),A(!1),Z.close()}),Z.onerror=()=>{A(!1),Z.close()}},[e]),se=(Z,ae)=>{Z.dataTransfer.setData("application/reactflow",ae),Z.dataTransfer.effectAllowed="move"},Ge=L.useCallback(Z=>{Z.preventDefault(),Z.dataTransfer.dropEffect=Z.dataTransfer.types.includes("text/plain")?"copy":"move"},[]),$e=L.useCallback(Z=>{Z.preventDefault();const ae=Z.dataTransfer.getData("text/plain");if(ae.startsWith("tool:")&&o&&(e!=null&&e.agents[o])){c(o,ae.slice(5));return}const je=Z.dataTransfer.getData("application/reactflow");je&&(Q(je),setTimeout(()=>H(),100))},[Q,o,e,c,H]),pt=L.useCallback(Z=>Z.source&&Z.target&&l(Z.source,Z.target),[l]),gt=L.useCallback(Z=>Z.forEach(ae=>u(ae.source,ae.target)),[u]),Ke=L.useCallback(Z=>Z.forEach(ae=>ae.id!=="START"&&ae.id!=="END"&&ee(ae.id)),[ee]),Pe=L.useCallback((Z,ae)=>u(ae.source,ae.target),[u]),$t=L.useCallback((Z,ae)=>i(ae.id!=="START"&&ae.id!=="END"?ae.id:null),[i]),Ct=L.useCallback(()=>i(null),[i]),B=L.useCallback(Z=>{var za;if(!o)return;c(o,Z);const ae=((za=e==null?void 0:e.agents[o])==null?void 0:za.tools)||[],ut=Z==="function"||Z==="mcp"?`${o}_${Z}_${ae.filter(Pu=>Pu.startsWith(Z)).length+1}`:`${o}_${Z}`;setTimeout(()=>p(ut),0)},[o,e,c,p]);if(!e)return null;const U=o?e.agents[o]:null,re=Object.keys(e.agents).length>0,de=o?((Xe=e.agents[o])==null?void 0:Xe.tools)||[]:[],me=h&&((Le=(lt=e.tool_configs)==null?void 0:lt[h])==null?void 0:Le.type)==="function"?e.tool_configs[h]:null;return x.jsxs("div",{className:"flex flex-col h-full",children:[x.jsx(tB,{onExportCode:()=>I(!0),onNewProject:async()=>{const Z=prompt("Project name:");Z&&t((await jr.projects.create(Z)).id)}}),x.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[x.jsxs("div",{className:"w-48 bg-studio-panel border-r border-gray-700 p-4 flex flex-col overflow-y-auto",children:[x.jsx(dB,{onDragStart:se,onCreate:Q}),x.jsx("div",{className:"my-4"}),x.jsx(hB,{selectedNodeId:o,agentTools:de,onAdd:B,onRemove:Z=>o&&f(o,Z)}),x.jsxs("div",{className:"mt-auto space-y-2 pt-4",children:[x.jsx("button",{onClick:ne,className:"w-full px-3 py-2 bg-blue-700 hover:bg-blue-600 rounded text-sm",children:" View Code"}),x.jsx("button",{onClick:fe,disabled:j,className:`w-full px-3 py-2 rounded text-sm ${j?"bg-gray-600":z?"bg-green-700 hover:bg-green-600":"bg-orange-600 hover:bg-orange-500 animate-pulse"}`,children:j?" Building...":z?" Build":" Build Required"}),x.jsx("button",{onClick:()=>g(!w),className:"w-full px-3 py-2 bg-gray-700 rounded text-sm",children:w?"Hide Console":"Show Console"}),x.jsx("button",{onClick:n,className:"w-full px-3 py-2 bg-gray-700 rounded text-sm",children:"Back"})]})]}),x.jsxs("div",{className:"flex-1 relative",children:[x.jsxs(Tz,{nodes:S,edges:$,nodeTypes:lB,edgeTypes:cB,onNodesChange:F,onEdgesChange:N,onEdgesDelete:gt,onNodesDelete:Ke,onEdgeDoubleClick:Pe,onConnect:pt,onNodeClick:$t,onPaneClick:Ct,onDrop:$e,onDragOver:Ge,deleteKeyCode:["Backspace","Delete"],defaultViewport:{x:0,y:0,zoom:1},minZoom:.1,maxZoom:2,children:[x.jsx(Lz,{color:"#333",gap:20}),x.jsx(Bz,{}),x.jsx(tq,{nodeColor:Z=>{var ae;return(ae=Z.data)!=null&&ae.isActive?"#4ade80":"#666"},maskColor:"rgba(0,0,0,0.8)",style:{background:"#1a1a2e"}})]}),x.jsx(D8,{onAutoLayout:X,onFitView:Y})]}),U&&o&&x.jsx(pB,{nodeId:o,agent:U,agents:e.agents,toolConfigs:e.tool_configs||{},onUpdate:ie,onRename:s,onAddSubAgent:()=>d(o),onClose:()=>i(null),onSelectTool:p,onRemoveTool:Z=>f(o,Z)}),h&&e&&x.jsx(_B,{toolId:h,config:((Qe=e.tool_configs)==null?void 0:Qe[h])||null,onUpdate:Z=>ge(h,Z),onClose:()=>p(null),onOpenCodeEditor:()=>I(!0)})]}),w&&re&&z&&x.jsx("div",{className:"h-64",children:x.jsx(J6,{onFlowPhase:m,onActiveAgent:k,onIteration:E,onThought:le,binaryPath:z})}),w&&re&&!z&&x.jsx("div",{className:"h-32 bg-studio-panel border-t border-gray-700 flex items-center justify-center text-gray-500",children:x.jsxs("div",{className:"text-center",children:[x.jsx("div",{children:"Build the project first to test it"}),x.jsx("button",{onClick:fe,className:"mt-2 px-4 py-1 bg-blue-600 hover:bg-blue-700 rounded text-white text-sm",children:"Build Project"})]})}),w&&!re&&x.jsx("div",{className:"h-32 bg-studio-panel border-t border-gray-700 flex items-center justify-center text-gray-500",children:'Drag "LLM Agent" onto the canvas to get started'}),D&&x.jsx(M8,{code:D,onClose:()=>P(null)}),O&&x.jsx(L8,{building:j,success:O.success,output:O.output,path:O.path,onClose:()=>q(null)}),C&&me&&x.jsx(O8,{config:me,onUpdate:Z=>ge(h,Z),onClose:()=>I(!1)})]})}function qG(){const{currentProject:e,fetchProjects:t}=sn();return L.useEffect(()=>{t()},[t]),x.jsxs("div",{className:"h-screen flex flex-col bg-studio-bg",children:[x.jsxs("header",{className:"h-12 bg-studio-panel border-b border-gray-700 flex items-center px-4",children:[x.jsxs("h1",{className:"text-lg font-bold text-white flex items-center gap-2",children:[x.jsx("span",{className:"text-2xl",children:""})," ADK Studio"]}),e&&x.jsxs("span",{className:"ml-4 text-gray-400",children:["/ ",e.name]})]}),x.jsx("main",{className:"flex-1 overflow-hidden",children:e?x.jsx(aT,{children:x.jsx(zG,{})}):x.jsx(fq,{})})]})}_g.createRoot(document.getElementById("root")).render(x.jsx(Mt.StrictMode,{children:x.jsx(qG,{})}));
